<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Визуализация и анализ географических данных на языке R</title>
  <meta name="description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Визуализация и анализ географических данных на языке R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных" />
  <meta name="github-repo" content="tsamsonov/r-geo-course" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Визуализация и анализ географических данных на языке R" />
  
  <meta name="twitter:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных" />
  

<meta name="author" content="Тимофей Самсонов">


<meta name="date" content="2017-11-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="controls.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Визуализация и анализ географических данных на языке R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Введение</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Программное обеспечение</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#---"><i class="fa fa-check"></i>Установка и подключение пакетов</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Выполнение программного кода</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Установка рабочей директории</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Диагностические функции</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Получение справки</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#d09ad0bed0bcd0bcd0b5d0bdd182d0b0d180d0b8d0b8"><i class="fa fa-check"></i>Комментарии</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#----r"><i class="fa fa-check"></i>Стандарт оформления кода на R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Зарезервированные слова</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Названия переменных</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Названия специальных символов</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Ссылка на пособие</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>1</b> Типы данных, ввод и вывод</a><ul>
<li class="chapter" data-level="1.1" data-path="data-types.html"><a href="data-types.html#numbers"><i class="fa fa-check"></i><b>1.1</b> Числа</a></li>
<li class="chapter" data-level="1.2" data-path="data-types.html"><a href="data-types.html#section"><i class="fa fa-check"></i><b>1.2</b> [1] 5</a></li>
<li class="chapter" data-level="1.3" data-path="data-types.html"><a href="data-types.html#section-1"><i class="fa fa-check"></i><b>1.3</b> [1] -1</a></li>
<li class="chapter" data-level="1.4" data-path="data-types.html"><a href="data-types.html#section-2"><i class="fa fa-check"></i><b>1.4</b> [1] 6</a></li>
<li class="chapter" data-level="1.5" data-path="data-types.html"><a href="data-types.html#section-3"><i class="fa fa-check"></i><b>1.5</b> [1] 5.6</a></li>
<li class="chapter" data-level="1.6" data-path="data-types.html"><a href="data-types.html#section-4"><i class="fa fa-check"></i><b>1.6</b> [1] 8</a></li>
<li class="chapter" data-level="1.7" data-path="data-types.html"><a href="data-types.html#section-5"><i class="fa fa-check"></i><b>1.7</b> [1] 8</a></li>
<li class="chapter" data-level="1.8" data-path="data-types.html"><a href="data-types.html#section-6"><i class="fa fa-check"></i><b>1.8</b> [1] 1.666667</a></li>
<li class="chapter" data-level="1.9" data-path="data-types.html"><a href="data-types.html#section-7"><i class="fa fa-check"></i><b>1.9</b> [1] 2</a></li>
<li class="chapter" data-level="1.10" data-path="data-types.html"><a href="data-types.html#section-8"><i class="fa fa-check"></i><b>1.10</b> [1] 1</a></li>
<li class="chapter" data-level="1.11" data-path="data-types.html"><a href="data-types.html#section-9"><i class="fa fa-check"></i><b>1.11</b> [1] 2</a></li>
<li class="chapter" data-level="1.12" data-path="data-types.html"><a href="data-types.html#section-10"><i class="fa fa-check"></i><b>1.12</b> [1] 1</a></li>
<li class="chapter" data-level="1.13" data-path="data-types.html"><a href="data-types.html#section-11"><i class="fa fa-check"></i><b>1.13</b> [1] 1</a></li>
<li class="chapter" data-level="1.14" data-path="data-types.html"><a href="data-types.html#section-12"><i class="fa fa-check"></i><b>1.14</b> [1] 5</a></li>
<li class="chapter" data-level="1.15" data-path="data-types.html"><a href="data-types.html#section-13"><i class="fa fa-check"></i><b>1.15</b> [1] 3</a></li>
<li class="chapter" data-level="1.16" data-path="data-types.html"><a href="data-types.html#section-14"><i class="fa fa-check"></i><b>1.16</b> [1] 8</a></li>
<li class="chapter" data-level="1.17" data-path="data-types.html"><a href="data-types.html#section-15"><i class="fa fa-check"></i><b>1.17</b> [1] 2</a></li>
<li class="chapter" data-level="1.18" data-path="data-types.html"><a href="data-types.html#section-16"><i class="fa fa-check"></i><b>1.18</b> [1] 1.666667</a></li>
<li class="chapter" data-level="1.19" data-path="data-types.html"><a href="data-types.html#section-17"><i class="fa fa-check"></i><b>1.19</b> [1] 1</a></li>
<li class="chapter" data-level="1.20" data-path="data-types.html"><a href="data-types.html#section-18"><i class="fa fa-check"></i><b>1.20</b> [1] 2</a></li>
<li class="chapter" data-level="1.21" data-path="data-types.html"><a href="data-types.html#section-19"><i class="fa fa-check"></i><b>1.21</b> [1] 9</a></li>
<li class="chapter" data-level="1.22" data-path="data-types.html"><a href="data-types.html#section-20"><i class="fa fa-check"></i><b>1.22</b> [1] 1</a></li>
<li class="chapter" data-level="1.23" data-path="data-types.html"><a href="data-types.html#section-21"><i class="fa fa-check"></i><b>1.23</b> [1] 1.25</a></li>
<li class="chapter" data-level="1.24" data-path="data-types.html"><a href="data-types.html#section-22"><i class="fa fa-check"></i><b>1.24</b> [1] 1</a></li>
<li class="chapter" data-level="1.25" data-path="data-types.html"><a href="data-types.html#section-23"><i class="fa fa-check"></i><b>1.25</b> [1] 1</a></li>
<li class="chapter" data-level="1.26" data-path="data-types.html"><a href="data-types.html#section-24"><i class="fa fa-check"></i><b>1.26</b> [1] 4</a></li>
<li class="chapter" data-level="1.27" data-path="data-types.html"><a href="data-types.html#section-25"><i class="fa fa-check"></i><b>1.27</b> [1] 9</a></li>
<li class="chapter" data-level="1.28" data-path="data-types.html"><a href="data-types.html#section-26"><i class="fa fa-check"></i><b>1.28</b> [1] 11.5</a></li>
<li class="chapter" data-level="1.29" data-path="data-types.html"><a href="data-types.html#section-27"><i class="fa fa-check"></i><b>1.29</b> [1] -2</a></li>
<li class="chapter" data-level="1.30" data-path="data-types.html"><a href="data-types.html#section-28"><i class="fa fa-check"></i><b>1.30</b> [1] -11.5</a></li>
<li class="chapter" data-level="1.31" data-path="data-types.html"><a href="data-types.html#section-29"><i class="fa fa-check"></i><b>1.31</b> [1] 0</a></li>
<li class="chapter" data-level="1.32" data-path="data-types.html"><a href="data-types.html#section-30"><i class="fa fa-check"></i><b>1.32</b> [1] 1</a><ul>
<li class="chapter" data-level="1.32.1" data-path="data-types.html"><a href="data-types.html#number_functions"><i class="fa fa-check"></i><b>1.32.1</b> Числовые функции</a></li>
</ul></li>
<li class="chapter" data-level="1.33" data-path="data-types.html"><a href="data-types.html#section-31"><i class="fa fa-check"></i><b>1.33</b> [1] 2.236068</a></li>
<li class="chapter" data-level="1.34" data-path="data-types.html"><a href="data-types.html#section-32"><i class="fa fa-check"></i><b>1.34</b> [1] -0.9589243</a></li>
<li class="chapter" data-level="1.35" data-path="data-types.html"><a href="data-types.html#section-33"><i class="fa fa-check"></i><b>1.35</b> [1] 14.10142</a></li>
<li class="chapter" data-level="1.36" data-path="data-types.html"><a href="data-types.html#section-34"><i class="fa fa-check"></i><b>1.36</b> [1] 6.5</a></li>
<li class="chapter" data-level="1.37" data-path="data-types.html"><a href="data-types.html#section-35"><i class="fa fa-check"></i><b>1.37</b> [1] 0.7867491</a></li>
<li class="chapter" data-level="1.38" data-path="data-types.html"><a href="data-types.html#section-36"><i class="fa fa-check"></i><b>1.38</b> [1] 1.020331</a></li>
<li class="chapter" data-level="1.39" data-path="data-types.html"><a href="data-types.html#section-37"><i class="fa fa-check"></i><b>1.39</b> [1] 0.7867491</a></li>
<li class="chapter" data-level="1.40" data-path="data-types.html"><a href="data-types.html#section-38"><i class="fa fa-check"></i><b>1.40</b> [1] -0.9589243</a></li>
<li class="chapter" data-level="1.41" data-path="data-types.html"><a href="data-types.html#section-39"><i class="fa fa-check"></i><b>1.41</b> [1] 0.9589243</a></li>
<li class="chapter" data-level="1.42" data-path="data-types.html"><a href="data-types.html#strings"><i class="fa fa-check"></i><b>1.42</b> Строки</a></li>
<li class="chapter" data-level="1.43" data-path="data-types.html"><a href="data-types.html#-------."><i class="fa fa-check"></i><b>1.43</b> [1] “В историю трудно войти, но легко вляпаться (М.Жванецкий)”</a></li>
<li class="chapter" data-level="1.44" data-path="data-types.html"><a href="data-types.html#section-40"><i class="fa fa-check"></i><b>1.44</b> [1] 56</a></li>
<li class="chapter" data-level="1.45" data-path="index.html"><a href="index.html#---"><i class="fa fa-check"></i><b>1.45</b> [1] “В историю трудно войти,”</a></li>
<li class="chapter" data-level="1.46" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>1.46</b> [1] “но легко вляпаться”</a></li>
<li class="chapter" data-level="1.47" data-path="data-types.html"><a href="data-types.html#."><i class="fa fa-check"></i><b>1.47</b> [1] “(М.Жванецкий)”</a></li>
<li class="chapter" data-level="1.48" data-path="data-types.html"><a href="data-types.html#------"><i class="fa fa-check"></i><b>1.48</b> [1] “В историю трудно войти, но легко вляпаться”</a></li>
<li class="chapter" data-level="1.49" data-path="data-types.html"><a href="data-types.html#-------.-1"><i class="fa fa-check"></i><b>1.49</b> [1] “В историю трудно войти, но легко вляпаться (М.Жванецкий)”</a></li>
<li class="chapter" data-level="1.50" data-path="data-types.html"><a href="data-types.html#-------1950----1850-.-"><i class="fa fa-check"></i><b>1.50</b> [1] “Максимальная численность населения в Детройте пришлась на 1950 год и составила 1850 тыс. чел”</a></li>
<li class="chapter" data-level="1.51" data-path="data-types.html"><a href="data-types.html#dates"><i class="fa fa-check"></i><b>1.51</b> Даты</a></li>
<li class="chapter" data-level="1.52" data-path="data-types.html"><a href="data-types.html#warning-in-strptimexx-f---y-m-d-tz-gmt-unknown-timezone"><i class="fa fa-check"></i><b>1.52</b> Warning in strptime(xx, f &lt;- “%Y-%m-%d”, tz = “GMT”): unknown timezone</a></li>
<li class="chapter" data-level="1.53" data-path="data-types.html"><a href="data-types.html#zonetz2017c.1.0zoneinfoeuropemoscow"><i class="fa fa-check"></i><b>1.53</b> ‘zone/tz/2017c.1.0/zoneinfo/Europe/Moscow’</a></li>
<li class="chapter" data-level="1.54" data-path="data-types.html"><a href="data-types.html#section-41"><i class="fa fa-check"></i><b>1.54</b> [1] “1986-02-18”</a></li>
<li class="chapter" data-level="1.55" data-path="data-types.html"><a href="data-types.html#section-42"><i class="fa fa-check"></i><b>1.55</b> [1] “2017-11-05”</a></li>
<li class="chapter" data-level="1.56" data-path="data-types.html"><a href="data-types.html#time-difference-of-11583-days"><i class="fa fa-check"></i><b>1.56</b> Time difference of 11583 days</a></li>
<li class="chapter" data-level="1.57" data-path="data-types.html"><a href="data-types.html#section-43"><i class="fa fa-check"></i><b>1.57</b> [1] “2017-12-15”</a></li>
<li class="chapter" data-level="1.58" data-path="data-types.html"><a href="data-types.html#booleans"><i class="fa fa-check"></i><b>1.58</b> Логические</a></li>
<li class="chapter" data-level="1.59" data-path="data-types.html"><a href="data-types.html#false"><i class="fa fa-check"></i><b>1.59</b> [1] FALSE</a></li>
<li class="chapter" data-level="1.60" data-path="data-types.html"><a href="data-types.html#true"><i class="fa fa-check"></i><b>1.60</b> [1] TRUE</a></li>
<li class="chapter" data-level="1.61" data-path="data-types.html"><a href="data-types.html#false-1"><i class="fa fa-check"></i><b>1.61</b> [1] FALSE</a></li>
<li class="chapter" data-level="1.62" data-path="data-types.html"><a href="data-types.html#true-1"><i class="fa fa-check"></i><b>1.62</b> [1] TRUE</a></li>
<li class="chapter" data-level="1.63" data-path="data-types.html"><a href="data-types.html#true-2"><i class="fa fa-check"></i><b>1.63</b> [1] TRUE</a></li>
<li class="chapter" data-level="1.64" data-path="data-types.html"><a href="data-types.html#false-2"><i class="fa fa-check"></i><b>1.64</b> [1] FALSE</a></li>
<li class="chapter" data-level="1.65" data-path="data-types.html"><a href="data-types.html#true-3"><i class="fa fa-check"></i><b>1.65</b> [1] TRUE</a></li>
<li class="chapter" data-level="1.66" data-path="data-types.html"><a href="data-types.html#true-4"><i class="fa fa-check"></i><b>1.66</b> [1] TRUE</a></li>
<li class="chapter" data-level="1.67" data-path="data-types.html"><a href="data-types.html#determine_data_type"><i class="fa fa-check"></i><b>1.67</b> Определение типа данных</a></li>
<li class="chapter" data-level="1.68" data-path="data-types.html"><a href="data-types.html#numeric"><i class="fa fa-check"></i><b>1.68</b> [1] “numeric”</a></li>
<li class="chapter" data-level="1.69" data-path="data-types.html"><a href="data-types.html#numeric-1"><i class="fa fa-check"></i><b>1.69</b> [1] “numeric”</a></li>
<li class="chapter" data-level="1.70" data-path="data-types.html"><a href="data-types.html#complex"><i class="fa fa-check"></i><b>1.70</b> [1] “complex”</a></li>
<li class="chapter" data-level="1.71" data-path="data-types.html"><a href="data-types.html#character"><i class="fa fa-check"></i><b>1.71</b> [1] “character”</a></li>
<li class="chapter" data-level="1.72" data-path="data-types.html"><a href="data-types.html#logical"><i class="fa fa-check"></i><b>1.72</b> [1] “logical”</a></li>
<li class="chapter" data-level="1.73" data-path="data-types.html"><a href="data-types.html#date"><i class="fa fa-check"></i><b>1.73</b> [1] “Date”</a></li>
<li class="chapter" data-level="1.74" data-path="data-types.html"><a href="data-types.html#---conversion"><i class="fa fa-check"></i><b>1.74</b> Преобразование типов данных {conversion}</a></li>
<li class="chapter" data-level="1.75" data-path="data-types.html"><a href="data-types.html#section-44"><i class="fa fa-check"></i><b>1.75</b> [1] 1</a></li>
<li class="chapter" data-level="1.76" data-path="data-types.html"><a href="data-types.html#numeric-2"><i class="fa fa-check"></i><b>1.76</b> [1] “numeric”</a></li>
<li class="chapter" data-level="1.77" data-path="data-types.html"><a href="data-types.html#section-45"><i class="fa fa-check"></i><b>1.77</b> [1] 1</a></li>
<li class="chapter" data-level="1.78" data-path="data-types.html"><a href="data-types.html#integer"><i class="fa fa-check"></i><b>1.78</b> [1] “integer”</a></li>
<li class="chapter" data-level="1.79" data-path="data-types.html"><a href="data-types.html#section-46"><i class="fa fa-check"></i><b>1.79</b> [1] “1”</a></li>
<li class="chapter" data-level="1.80" data-path="data-types.html"><a href="data-types.html#character-1"><i class="fa fa-check"></i><b>1.80</b> [1] “character”</a></li>
<li class="chapter" data-level="1.81" data-path="data-types.html"><a href="data-types.html#section-47"><i class="fa fa-check"></i><b>1.81</b> [1] 1</a></li>
<li class="chapter" data-level="1.82" data-path="data-types.html"><a href="data-types.html#numeric-3"><i class="fa fa-check"></i><b>1.82</b> [1] “numeric”</a></li>
<li class="chapter" data-level="1.83" data-path="data-types.html"><a href="data-types.html#section-48"><i class="fa fa-check"></i><b>1.83</b> [1] 1</a></li>
<li class="chapter" data-level="1.84" data-path="data-types.html"><a href="data-types.html#integer-1"><i class="fa fa-check"></i><b>1.84</b> [1] “integer”</a></li>
<li class="chapter" data-level="1.85" data-path="data-types.html"><a href="data-types.html#section-49"><i class="fa fa-check"></i><b>1.85</b> [1] “1”</a></li>
<li class="chapter" data-level="1.86" data-path="data-types.html"><a href="data-types.html#character-2"><i class="fa fa-check"></i><b>1.86</b> [1] “character”</a></li>
<li class="chapter" data-level="1.87" data-path="data-types.html"><a href="data-types.html#section-50"><i class="fa fa-check"></i><b>1.87</b> [1] 1</a></li>
<li class="chapter" data-level="1.88" data-path="data-types.html"><a href="data-types.html#numeric-4"><i class="fa fa-check"></i><b>1.88</b> [1] “numeric”</a></li>
<li class="chapter" data-level="1.89" data-path="data-types.html"><a href="data-types.html#section-51"><i class="fa fa-check"></i><b>1.89</b> [1] “1986-02-18”</a></li>
<li class="chapter" data-level="1.90" data-path="data-types.html"><a href="data-types.html#date-1"><i class="fa fa-check"></i><b>1.90</b> [1] “Date”</a></li>
<li class="chapter" data-level="1.91" data-path="data-types.html"><a href="data-types.html#section-52"><i class="fa fa-check"></i><b>1.91</b> [1] 2</a></li>
<li class="chapter" data-level="1.92" data-path="data-types.html"><a href="data-types.html#error-in-b-2-----"><i class="fa fa-check"></i><b>1.92</b> Error in b + 2: нечисловой аргумент для бинарного оператора</a></li>
<li class="chapter" data-level="1.93" data-path="data-types.html"><a href="data-types.html#section-53"><i class="fa fa-check"></i><b>1.93</b> [1] 3</a></li>
<li class="chapter" data-level="1.94" data-path="data-types.html"><a href="data-types.html#read_write_console"><i class="fa fa-check"></i><b>1.94</b> Ввод и вывод данных в консоли</a></li>
<li class="chapter" data-level="1.95" data-path="data-types.html"><a href="data-types.html#section-54"><i class="fa fa-check"></i><b>1.95</b> [1] “1024”</a></li>
<li class="chapter" data-level="1.96" data-path="data-types.html"><a href="data-types.html#section-55"><i class="fa fa-check"></i><b>1.96</b> [1] 1024</a></li>
<li class="chapter" data-level="1.97" data-path="data-types.html"><a href="data-types.html#section-56"><i class="fa fa-check"></i><b>1.97</b> [1] 1024</a></li>
<li class="chapter" data-level="1.98" data-path="data-types.html"><a href="data-types.html#fourty-winks-in-progress"><i class="fa fa-check"></i><b>1.98</b> [1] “Fourty winks in progress”</a></li>
<li class="chapter" data-level="1.99" data-path="data-types.html"><a href="data-types.html#fourty-winks-in-progress-1"><i class="fa fa-check"></i><b>1.99</b> [1] “Fourty winks in progress”</a></li>
<li class="chapter" data-level="1.100" data-path="data-types.html"><a href="data-types.html#--10--1024"><i class="fa fa-check"></i><b>1.100</b> [1] “2 в степени 10 равно 1024”</a></li>
<li class="chapter" data-level="1.101" data-path="data-types.html"><a href="data-types.html#----2017-11-05"><i class="fa fa-check"></i><b>1.101</b> [1] “Сегодняшняя дата - 2017-11-05”</a></li>
<li class="chapter" data-level="1.102" data-path="data-types.html"><a href="data-types.html#section-57"><i class="fa fa-check"></i><b>1.102</b> 1024</a></li>
<li class="chapter" data-level="1.103" data-path="data-types.html"><a href="data-types.html#fourty-winks-in-progress-2"><i class="fa fa-check"></i><b>1.103</b> Fourty winks in progress</a></li>
<li class="chapter" data-level="1.104" data-path="data-types.html"><a href="data-types.html#--10--1024-1"><i class="fa fa-check"></i><b>1.104</b> 2 в степени 10 равно 1024</a></li>
<li class="chapter" data-level="1.105" data-path="data-types.html"><a href="data-types.html#----17475"><i class="fa fa-check"></i><b>1.105</b> Сегодняшнаяя дата - 17475</a></li>
<li class="chapter" data-level="1.106" data-path="data-types.html"><a href="data-types.html#questions_tasks_basics"><i class="fa fa-check"></i><b>1.106</b> Контрольные вопросы и задачи</a><ul>
<li class="chapter" data-level="1.106.1" data-path="data-types.html"><a href="data-types.html#questions_basics"><i class="fa fa-check"></i><b>1.106.1</b> Вопросы</a></li>
<li class="chapter" data-level="1.106.2" data-path="data-types.html"><a href="data-types.html#tasks_basics"><i class="fa fa-check"></i><b>1.106.2</b> Задачи</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Структуры данных</a><ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#section-2.1"><i class="fa fa-check"></i><b>2.1</b> Векторы</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-structures.html"><a href="data-structures.html#vector_creation"><i class="fa fa-check"></i><b>2.1.1</b> Создание вектора</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#----"><i class="fa fa-check"></i><b>2.2</b> [1] “Красная” “Зеленая” “Синяя” “Коричневая” “Оранжевая”</a></li>
<li class="chapter" data-level="2.3" data-path="data-structures.html"><a href="data-structures.html#section-58"><i class="fa fa-check"></i><b>2.3</b> [1] 28 40 45 19 38</a></li>
<li class="chapter" data-level="2.4" data-path="data-structures.html"><a href="data-structures.html#false-true-true-false-false"><i class="fa fa-check"></i><b>2.4</b> [1] FALSE TRUE TRUE FALSE FALSE</a></li>
<li class="chapter" data-level="2.5" data-path="data-structures.html"><a href="data-structures.html#section-59"><i class="fa fa-check"></i><b>2.5</b> [1] 0 0 0 0 0</a></li>
<li class="chapter" data-level="2.6" data-path="data-structures.html"><a href="data-structures.html#section-60"><i class="fa fa-check"></i><b>2.6</b> [1] “” “” “” “” “” “” “” “” “” “”</a></li>
<li class="chapter" data-level="2.7" data-path="data-structures.html"><a href="data-structures.html#section-61"><i class="fa fa-check"></i><b>2.7</b> [1] 1 2 3 4 5</a></li>
<li class="chapter" data-level="2.8" data-path="data-structures.html"><a href="data-structures.html#section-62"><i class="fa fa-check"></i><b>2.8</b> [1] 2 3 4</a></li>
<li class="chapter" data-level="2.9" data-path="data-structures.html"><a href="data-structures.html#section-63"><i class="fa fa-check"></i><b>2.9</b> [1] 1 3 5 7 9 11 13 15 17 19</a></li>
<li class="chapter" data-level="2.10" data-path="data-structures.html"><a href="data-structures.html#section-64"><i class="fa fa-check"></i><b>2.10</b> [1] 2 5 8 11 14 17 20</a></li>
<li class="chapter" data-level="2.11" data-path="data-structures.html"><a href="data-structures.html#section-65"><i class="fa fa-check"></i><b>2.11</b> [1] 20 18 16 14 12 10 8 6 4 2</a></li>
<li class="chapter" data-level="2.12" data-path="data-structures.html"><a href="data-structures.html#warning-in-strptimexx-f---y-m-d-tz-gmt-unknown-timezone-1"><i class="fa fa-check"></i><b>2.12</b> Warning in strptime(xx, f &lt;- “%Y-%m-%d”, tz = “GMT”): unknown timezone</a></li>
<li class="chapter" data-level="2.13" data-path="data-structures.html"><a href="data-structures.html#zonetz2017c.1.0zoneinfoeuropemoscow-1"><i class="fa fa-check"></i><b>2.13</b> ‘zone/tz/2017c.1.0/zoneinfo/Europe/Moscow’</a></li>
<li class="chapter" data-level="2.14" data-path="data-structures.html"><a href="data-structures.html#section-66"><i class="fa fa-check"></i><b>2.14</b> [1] “2016-09-01” “2016-09-02” “2016-09-03” “2016-09-04” “2016-09-05”</a></li>
<li class="chapter" data-level="2.15" data-path="data-structures.html"><a href="data-structures.html#section-67"><i class="fa fa-check"></i><b>2.15</b> [6] “2016-09-06” “2016-09-07”</a></li>
<li class="chapter" data-level="2.16" data-path="data-structures.html"><a href="data-structures.html#section-68"><i class="fa fa-check"></i><b>2.16</b> [1] “2017-11-05” “2017-11-12” “2017-11-19” “2017-11-26” “2017-12-03”</a><ul>
<li class="chapter" data-level="2.16.1" data-path="data-structures.html"><a href="data-structures.html#vector_elements"><i class="fa fa-check"></i><b>2.16.1</b> Работа с элементами вектора</a></li>
</ul></li>
<li class="chapter" data-level="2.17" data-path="data-structures.html"><a href="data-structures.html#section-2.17"><i class="fa fa-check"></i><b>2.17</b> [1] “Красная”</a></li>
<li class="chapter" data-level="2.18" data-path="data-structures.html"><a href="data-structures.html#section-2.18"><i class="fa fa-check"></i><b>2.18</b> [1] “Синяя”</a></li>
<li class="chapter" data-level="2.19" data-path="data-structures.html"><a href="data-structures.html#section-69"><i class="fa fa-check"></i><b>2.19</b> [1] 5</a></li>
<li class="chapter" data-level="2.20" data-path="data-structures.html"><a href="data-structures.html#section-2.20"><i class="fa fa-check"></i><b>2.20</b> [1] “Оранжевая”</a></li>
<li class="chapter" data-level="2.21" data-path="data-structures.html"><a href="data-structures.html#section-70"><i class="fa fa-check"></i><b>2.21</b> [1] 28 40 45 19</a></li>
<li class="chapter" data-level="2.22" data-path="data-structures.html"><a href="data-structures.html#section-71"><i class="fa fa-check"></i><b>2.22</b> [1] 28 40 45 19</a></li>
<li class="chapter" data-level="2.23" data-path="data-structures.html"><a href="data-structures.html#section-72"><i class="fa fa-check"></i><b>2.23</b> [1] 28 45 19</a></li>
<li class="chapter" data-level="2.24" data-path="data-structures.html"><a href="data-structures.html#section-73"><i class="fa fa-check"></i><b>2.24</b> [1] 38 28 19 40</a><ul>
<li class="chapter" data-level="2.24.1" data-path="data-structures.html"><a href="data-structures.html#vector_transform"><i class="fa fa-check"></i><b>2.24.1</b> Анализ и преобразования векторов</a></li>
</ul></li>
<li class="chapter" data-level="2.25" data-path="data-structures.html"><a href="data-structures.html#section-74"><i class="fa fa-check"></i><b>2.25</b> [1] 19</a></li>
<li class="chapter" data-level="2.26" data-path="data-structures.html"><a href="data-structures.html#section-75"><i class="fa fa-check"></i><b>2.26</b> [1] 45</a></li>
<li class="chapter" data-level="2.27" data-path="data-structures.html"><a href="data-structures.html#section-76"><i class="fa fa-check"></i><b>2.27</b> [1] 19 45</a></li>
<li class="chapter" data-level="2.28" data-path="data-structures.html"><a href="data-structures.html#section-77"><i class="fa fa-check"></i><b>2.28</b> [1] 34</a></li>
<li class="chapter" data-level="2.29" data-path="data-structures.html"><a href="data-structures.html#section-78"><i class="fa fa-check"></i><b>2.29</b> [1] 38</a></li>
<li class="chapter" data-level="2.30" data-path="data-structures.html"><a href="data-structures.html#section-79"><i class="fa fa-check"></i><b>2.30</b> [1] 108.5</a></li>
<li class="chapter" data-level="2.31" data-path="data-structures.html"><a href="data-structures.html#section-80"><i class="fa fa-check"></i><b>2.31</b> [1] 10.41633</a></li>
<li class="chapter" data-level="2.32" data-path="data-structures.html"><a href="data-structures.html#section-81"><i class="fa fa-check"></i><b>2.32</b> [1] 170</a></li>
<li class="chapter" data-level="2.33" data-path="data-structures.html"><a href="data-structures.html#section-82"><i class="fa fa-check"></i><b>2.33</b> [1] 28000 40000 45000 19000 38000</a></li>
<li class="chapter" data-level="2.34" data-path="data-structures.html"><a href="data-structures.html#section-83"><i class="fa fa-check"></i><b>2.34</b> [1] 5.291503 6.324555 6.708204 4.358899 6.164414</a></li>
<li class="chapter" data-level="2.35" data-path="data-structures.html"><a href="data-structures.html#section-84"><i class="fa fa-check"></i><b>2.35</b> [1] 0.7142857 0.5250000 0.4888889 0.6315789 0.6315789</a><ul>
<li class="chapter" data-level="2.35.1" data-path="data-structures.html"><a href="data-structures.html#vector_search_sorting"><i class="fa fa-check"></i><b>2.35.1</b> Поиск и сортировка элементов</a></li>
</ul></li>
<li class="chapter" data-level="2.36" data-path="data-structures.html"><a href="data-structures.html#section-85"><i class="fa fa-check"></i><b>2.36</b> [1] 19 28 38 40 45</a></li>
<li class="chapter" data-level="2.37" data-path="data-structures.html"><a href="data-structures.html#section-86"><i class="fa fa-check"></i><b>2.37</b> [1] 28 40 45 19 38</a></li>
<li class="chapter" data-level="2.38" data-path="data-structures.html"><a href="data-structures.html#section-87"><i class="fa fa-check"></i><b>2.38</b> [1] 45 40 38 28 19</a></li>
<li class="chapter" data-level="2.39" data-path="data-structures.html"><a href="data-structures.html#section-88"><i class="fa fa-check"></i><b>2.39</b> [1] 28 40 45 19 38</a></li>
<li class="chapter" data-level="2.40" data-path="data-structures.html"><a href="data-structures.html#-1"><i class="fa fa-check"></i><b>2.40</b> [1] “Синяя”</a></li>
<li class="chapter" data-level="2.41" data-path="data-structures.html"><a href="data-structures.html#-----.----45-"><i class="fa fa-check"></i><b>2.41</b> [1] “Синяя ветка Московского метро — самая длинная. Ее протяженность составляет 45 км”</a></li>
<li class="chapter" data-level="2.42" data-path="data-structures.html"><a href="data-structures.html#-1"><i class="fa fa-check"></i><b>2.42</b> [1] “Красная”</a></li>
<li class="chapter" data-level="2.43" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>2.43</b> Матрицы</a></li>
<li class="chapter" data-level="2.44" data-path="data-structures.html"><a href="data-structures.html#section-89"><i class="fa fa-check"></i><b>2.44</b> [,1] [,2] [,3] [,4]</a></li>
<li class="chapter" data-level="2.45" data-path="data-structures.html"><a href="data-structures.html#section-90"><i class="fa fa-check"></i><b>2.45</b> [1,] 1 4 7 10</a></li>
<li class="chapter" data-level="2.46" data-path="data-structures.html"><a href="data-structures.html#section-91"><i class="fa fa-check"></i><b>2.46</b> [2,] 2 5 8 11</a></li>
<li class="chapter" data-level="2.47" data-path="data-structures.html"><a href="data-structures.html#section-92"><i class="fa fa-check"></i><b>2.47</b> [3,] 3 6 9 12</a></li>
<li class="chapter" data-level="2.48" data-path="data-structures.html"><a href="data-structures.html#section-93"><i class="fa fa-check"></i><b>2.48</b> [,1] [,2] [,3] [,4]</a></li>
<li class="chapter" data-level="2.49" data-path="data-structures.html"><a href="data-structures.html#section-94"><i class="fa fa-check"></i><b>2.49</b> [1,] 1 2 3 4</a></li>
<li class="chapter" data-level="2.50" data-path="data-structures.html"><a href="data-structures.html#section-95"><i class="fa fa-check"></i><b>2.50</b> [2,] 5 6 7 8</a></li>
<li class="chapter" data-level="2.51" data-path="data-structures.html"><a href="data-structures.html#section-96"><i class="fa fa-check"></i><b>2.51</b> [3,] 9 10 11 12</a></li>
<li class="chapter" data-level="2.52" data-path="data-structures.html"><a href="data-structures.html#section-97"><i class="fa fa-check"></i><b>2.52</b> [1] 8</a></li>
<li class="chapter" data-level="2.53" data-path="data-structures.html"><a href="data-structures.html#section-98"><i class="fa fa-check"></i><b>2.53</b> [1] 9</a></li>
<li class="chapter" data-level="2.54" data-path="data-structures.html"><a href="data-structures.html#section-99"><i class="fa fa-check"></i><b>2.54</b> [1] 5 6 7 8</a></li>
<li class="chapter" data-level="2.55" data-path="data-structures.html"><a href="data-structures.html#section-100"><i class="fa fa-check"></i><b>2.55</b> [1] 3 7 11</a></li>
<li class="chapter" data-level="2.56" data-path="data-structures.html"><a href="data-structures.html#section-101"><i class="fa fa-check"></i><b>2.56</b> [,1] [,2] [,3] [,4]</a></li>
<li class="chapter" data-level="2.57" data-path="data-structures.html"><a href="data-structures.html#section-102"><i class="fa fa-check"></i><b>2.57</b> [1,] 0.000000 0.6931472 1.098612 1.386294</a></li>
<li class="chapter" data-level="2.58" data-path="data-structures.html"><a href="data-structures.html#section-103"><i class="fa fa-check"></i><b>2.58</b> [2,] 1.609438 1.7917595 1.945910 2.079442</a></li>
<li class="chapter" data-level="2.59" data-path="data-structures.html"><a href="data-structures.html#section-104"><i class="fa fa-check"></i><b>2.59</b> [3,] 2.197225 2.3025851 2.397895 2.484907</a></li>
<li class="chapter" data-level="2.60" data-path="data-structures.html"><a href="data-structures.html#section-105"><i class="fa fa-check"></i><b>2.60</b> [1] 78</a></li>
<li class="chapter" data-level="2.61" data-path="data-structures.html"><a href="data-structures.html#section-106"><i class="fa fa-check"></i><b>2.61</b> [1] 6.5</a></li>
<li class="chapter" data-level="2.62" data-path="data-structures.html"><a href="data-structures.html#section-107"><i class="fa fa-check"></i><b>2.62</b> [1] 1 2 3 4 5 6 7 8 9 10 11 12</a></li>
<li class="chapter" data-level="2.63" data-path="data-structures.html"><a href="data-structures.html#section-108"><i class="fa fa-check"></i><b>2.63</b> [,1] [,2] [,3]</a></li>
<li class="chapter" data-level="2.64" data-path="data-structures.html"><a href="data-structures.html#section-109"><i class="fa fa-check"></i><b>2.64</b> [1,] 1 5 9</a></li>
<li class="chapter" data-level="2.65" data-path="data-structures.html"><a href="data-structures.html#section-110"><i class="fa fa-check"></i><b>2.65</b> [2,] 2 6 10</a></li>
<li class="chapter" data-level="2.66" data-path="data-structures.html"><a href="data-structures.html#section-111"><i class="fa fa-check"></i><b>2.66</b> [3,] 3 7 11</a></li>
<li class="chapter" data-level="2.67" data-path="data-structures.html"><a href="data-structures.html#section-112"><i class="fa fa-check"></i><b>2.67</b> [4,] 4 8 12</a></li>
<li class="chapter" data-level="2.68" data-path="data-structures.html"><a href="data-structures.html#warning-in-matrix-33-nrow-3-ncol-3---7--"><i class="fa fa-check"></i><b>2.68</b> Warning in matrix(-3:3, nrow = 3, ncol = 3): длина данных [7] не является</a></li>
<li class="chapter" data-level="2.69" data-path="data-structures.html"><a href="data-structures.html#---3"><i class="fa fa-check"></i><b>2.69</b> множителем количества строк [3]</a></li>
<li class="chapter" data-level="2.70" data-path="data-structures.html"><a href="data-structures.html#section-113"><i class="fa fa-check"></i><b>2.70</b> [,1] [,2] [,3]</a></li>
<li class="chapter" data-level="2.71" data-path="data-structures.html"><a href="data-structures.html#section-114"><i class="fa fa-check"></i><b>2.71</b> [1,] -3 0 3</a></li>
<li class="chapter" data-level="2.72" data-path="data-structures.html"><a href="data-structures.html#section-115"><i class="fa fa-check"></i><b>2.72</b> [2,] -2 1 -3</a></li>
<li class="chapter" data-level="2.73" data-path="data-structures.html"><a href="data-structures.html#section-116"><i class="fa fa-check"></i><b>2.73</b> [3,] -1 2 -2</a></li>
<li class="chapter" data-level="2.74" data-path="data-structures.html"><a href="data-structures.html#section-117"><i class="fa fa-check"></i><b>2.74</b> [1] -21</a></li>
<li class="chapter" data-level="2.75" data-path="data-structures.html"><a href="data-structures.html#error-in-determinant.matrixx-logarithm-true-x----"><i class="fa fa-check"></i><b>2.75</b> Error in determinant.matrix(x, logarithm = TRUE, …): ‘x’ должен быть квадратной матрицей</a></li>
<li class="chapter" data-level="2.76" data-path="data-structures.html"><a href="data-structures.html#section-118"><i class="fa fa-check"></i><b>2.76</b> [,1] [,2] [,3] [,4]</a></li>
<li class="chapter" data-level="2.77" data-path="data-structures.html"><a href="data-structures.html#section-119"><i class="fa fa-check"></i><b>2.77</b> [1,] 24 24 24 24</a></li>
<li class="chapter" data-level="2.78" data-path="data-structures.html"><a href="data-structures.html#section-120"><i class="fa fa-check"></i><b>2.78</b> [2,] -24 -28 -32 -36</a></li>
<li class="chapter" data-level="2.79" data-path="data-structures.html"><a href="data-structures.html#section-121"><i class="fa fa-check"></i><b>2.79</b> [3,] -9 -10 -11 -12</a></li>
<li><a href="data-structures.html#error-in-m-m2---row-col-1-2-4-1-8-lengths-stations-1-28-20-2-40-21-3-45-22-4-19-12-5-38-24-1-2-3-4-5-lengths-28-40-45-19-38-stations-20-21-22-12-24-1-0.7142857-0.5250000-0.4888889-0.6315789-0.6315789-lengths-stations-dens-1-28-20-0.7142857-2-40-21-0.5250000-3-45-22-0.4888889-4-19-12-0.6315789-5-38-24-0.6315789-lengths-stations-dens-colors-1-28-20-0.714285714285714--2-40-21-0.525--3-45-22-0.488888888888889--4-19-12-0.631578947368421--5-38-24-0.631578947368421--error-in-mm2-2mm2-1-------arrays---data_frames-colors-lengths-stations-1--28-20-2--40-21-3--45-22-4--19-12-5--38-24-colors-lengths-stations-dens-1--28-20-0.7142857-2--40-21-0.5250000-3--45-22-0.4888889-4--19-12-0.6315789-5--38-24-0.6315789-1-40-1-20-21-22-12-24-colors-lengths-stations-dens-4--19-12-0.6315789-1-28-40-45-19-38-1-20-21-22-12-24-1-24-1-1.400000-1.904762-2.045455-1.583333-1.583333-1-colors-lengths-stations-dens-1-----1-28.0-40.0-45.0-19.0-38.0-40.5-----1--28.0-20-0.7142857-2--40.0-21-0.5250000-3--45.0-22-0.4888889-4--19.0-12-0.6315789-5--38.0-24-0.6315789-6--40.5-22-0.4888889--lists-1-1-------6----2-----1--28.0-20-0.7142857-2--40.0-21-0.5250000-3--45.0-22-0.4888889-4--19.0-12-0.6315789-5--38.0-24-0.6315789-6--40.5-22-0.4888889-3------1-min.-19.00-min.-12.00-min.-0.4889-1-1st-qu.30.50-1st-qu.20.25-1st-qu.0.4979--1-median-39.00-median-21.50-median-0.5783--1-mean-35.08-mean-20.17-mean-0.5800--1-3rd-qu.40.38-3rd-qu.22.00-3rd-qu.0.6316-1-max.-45.00-max.-24.00-max.-0.7143-desc-1-------6----table-----1--28.0-20-0.7142857-2--40.0-21-0.5250000-3--45.0-22-0.4888889-4--19.0-12-0.6315789-5--38.0-24-0.6315789-6--40.5-22-0.4888889-summary------1-min.-19.00-min.-12.00-min.-0.4889-1-1st-qu.30.50-1st-qu.20.25-1st-qu.0.4979--1-median-39.00-median-21.50-median-0.5783--1-mean-35.08-mean-20.17-mean-0.5800--1-3rd-qu.40.38-3rd-qu.22.00-3rd-qu.0.6316-1-max.-45.00-max.-24.00-max.-0.7143------1-min.-19.00-min.-12.00-min.-0.4889-1-1st-qu.30.50-1st-qu.20.25-1st-qu.0.4979--1-median-39.00-median-21.50-median-0.5783--1-mean-35.08-mean-20.17-mean-0.5800--1-3rd-qu.40.38-3rd-qu.22.00-3rd-qu.0.6316-1-max.-45.00-max.-24.00-max.-0.7143-min.-12.00-1st-qu.20.25-median-21.50-mean-20.17-3rd-qu.22.00-max.-24.00-1-------6----1-------6---------questions_tasks_vectors--questions_vectors--tasks_vectors"><span class="toc-section-number">2.80</span> Error in m %*% m2: неподобные аргументы ## row col ## [1,] 2 4 ## [1] 8 ## lengths stations ## [1,] 28 20 ## [2,] 40 21 ## [3,] 45 22 ## [4,] 19 12 ## [5,] 38 24 ## [,1] [,2] [,3] [,4] [,5] ## lengths 28 40 45 19 38 ## stations 20 21 22 12 24 ## [1] 0.7142857 0.5250000 0.4888889 0.6315789 0.6315789 ## lengths stations dens ## [1,] 28 20 0.7142857 ## [2,] 40 21 0.5250000 ## [3,] 45 22 0.4888889 ## [4,] 19 12 0.6315789 ## [5,] 38 24 0.6315789 ## lengths stations dens colors<br />
## [1,] “28” “20” “0.714285714285714” “Красная”<br />
## [2,] “40” “21” “0.525” “Зеленая”<br />
## [3,] “45” “22” “0.488888888888889” “Синяя”<br />
## [4,] “19” “12” “0.631578947368421” “Коричневая” ## [5,] “38” “24” “0.631578947368421” “Оранжевая” ## Error in mm2[, 2]/mm2[, 1]: нечисловой аргумент для бинарного оператора ## Массивы {#arrays} ## Фреймы данных {#data_frames} ## colors lengths stations ## 1 Красная 28 20 ## 2 Зеленая 40 21 ## 3 Синяя 45 22 ## 4 Коричневая 19 12 ## 5 Оранжевая 38 24 ## colors lengths stations dens ## 1 Красная 28 20 0.7142857 ## 2 Зеленая 40 21 0.5250000 ## 3 Синяя 45 22 0.4888889 ## 4 Коричневая 19 12 0.6315789 ## 5 Оранжевая 38 24 0.6315789 ## [1] 40 ## [1] 20 21 22 12 24 ## colors lengths stations dens ## 4 Коричневая 19 12 0.6315789 ## [1] 28 40 45 19 38 ## [1] 20 21 22 12 24 ## [1] 24 ## [1] 1.400000 1.904762 2.045455 1.583333 1.583333 ## [1] “colors” “lengths” “stations” “dens” ## [1] “Цвет” “Длина” “Станции” “Плотность” ## [1] 28.0 40.0 45.0 19.0 38.0 40.5 ## Цвет Длина Станции Плотность ## 1 Красная 28.0 20 0.7142857 ## 2 Зеленая 40.0 21 0.5250000 ## 3 Синяя 45.0 22 0.4888889 ## 4 Коричневая 19.0 12 0.6315789 ## 5 Оранжевая 38.0 24 0.6315789 ## 6 Фиолетовая 40.5 22 0.4888889 ## Списки {#lists} ## [[1]] ## [1] “Этт фрейм данных содержит данные по 6 линиям Московского метро” ## ## [[2]] ## Цвет Длина Станции Плотность ## 1 Красная 28.0 20 0.7142857 ## 2 Зеленая 40.0 21 0.5250000 ## 3 Синяя 45.0 22 0.4888889 ## 4 Коричневая 19.0 12 0.6315789 ## 5 Оранжевая 38.0 24 0.6315789 ## 6 Фиолетовая 40.5 22 0.4888889 ## ## [[3]] ## Цвет Длина Станции Плотность<br />
## Зеленая :1 Min. :19.00 Min. :12.00 Min. :0.4889<br />
## Коричневая:1 1st Qu.:30.50 1st Qu.:20.25 1st Qu.:0.4979<br />
## Красная :1 Median :39.00 Median :21.50 Median :0.5783<br />
## Оранжевая :1 Mean :35.08 Mean :20.17 Mean :0.5800<br />
## Синяя :1 3rd Qu.:40.38 3rd Qu.:22.00 3rd Qu.:0.6316<br />
## Фиолетовая:1 Max. :45.00 Max. :24.00 Max. :0.7143 ## $desc ## [1] “Этт фрейм данных содержит данные по 6 линиям Московского метро” ## ## $table ## Цвет Длина Станции Плотность ## 1 Красная 28.0 20 0.7142857 ## 2 Зеленая 40.0 21 0.5250000 ## 3 Синяя 45.0 22 0.4888889 ## 4 Коричневая 19.0 12 0.6315789 ## 5 Оранжевая 38.0 24 0.6315789 ## 6 Фиолетовая 40.5 22 0.4888889 ## ## $summary ## Цвет Длина Станции Плотность<br />
## Зеленая :1 Min. :19.00 Min. :12.00 Min. :0.4889<br />
## Коричневая:1 1st Qu.:30.50 1st Qu.:20.25 1st Qu.:0.4979<br />
## Красная :1 Median :39.00 Median :21.50 Median :0.5783<br />
## Оранжевая :1 Mean :35.08 Mean :20.17 Mean :0.5800<br />
## Синяя :1 3rd Qu.:40.38 3rd Qu.:22.00 3rd Qu.:0.6316<br />
## Фиолетовая:1 Max. :45.00 Max. :24.00 Max. :0.7143 ## Цвет Длина Станции Плотность<br />
## Зеленая :1 Min. :19.00 Min. :12.00 Min. :0.4889<br />
## Коричневая:1 1st Qu.:30.50 1st Qu.:20.25 1st Qu.:0.4979<br />
## Красная :1 Median :39.00 Median :21.50 Median :0.5783<br />
## Оранжевая :1 Mean :35.08 Mean :20.17 Mean :0.5800<br />
## Синяя :1 3rd Qu.:40.38 3rd Qu.:22.00 3rd Qu.:0.6316<br />
## Фиолетовая:1 Max. :45.00 Max. :24.00 Max. :0.7143 ##<br />
## “Min. :12.00” “1st Qu.:20.25” “Median :21.50” “Mean :20.17” ##<br />
## “3rd Qu.:22.00” “Max. :24.00” ## [1] “Этт фрейм данных содержит данные по 6 линиям Московского метро” ## [1] “Этт фрейм данных содержит данные по 6 линиям Московского метро” ## Факторы ## Контрольные вопросы и задачи {#questions_tasks_vectors} ### Вопросы {#questions_vectors} ### Задачи {#tasks_vectors}</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>3</b> Работа с таблицами</a><ul>
<li class="chapter" data-level="3.1" data-path="tables.html"><a href="tables.html#reading_tables"><i class="fa fa-check"></i><b>3.1</b> Чтение таблиц</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tables.html"><a href="tables.html#reading_csv"><i class="fa fa-check"></i><b>3.1.1</b> Таблицы CSV</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tables.html"><a href="tables.html#data.frame-22-obs.-of-9-variables"><i class="fa fa-check"></i><b>3.2</b> ‘data.frame’: 22 obs. of 9 variables:</a></li>
<li class="chapter" data-level="3.3" data-path="tables.html"><a href="tables.html#-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002"><i class="fa fa-check"></i><b>3.3</b> $ Год : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 …</a></li>
<li class="chapter" data-level="3.4" data-path="tables.html"><a href="tables.html#-num-27.2-24.6-24.5-22.4-23-22-20.7-20.3-19.8-19.8"><i class="fa fa-check"></i><b>3.4</b> $ Всего : num 27.2 24.6 24.5 22.4 23 22 20.7 20.3 19.8 19.8 …</a></li>
<li class="chapter" data-level="3.5" data-path="tables.html"><a href="tables.html#-num-2.5-2.3-2.3-2.2-2.2-2.2-2.2-2.2-2.1-2"><i class="fa fa-check"></i><b>3.5</b> $ Балтийское: num 2.5 2.3 2.3 2.2 2.2 2.2 2.2 2.2 2.1 2 …</a></li>
<li class="chapter" data-level="3.6" data-path="tables.html"><a href="tables.html#-num-0.4-0.4-0.4-0.3-0.3-0.3-0.3-0.3-0.3-0.2"><i class="fa fa-check"></i><b>3.6</b> $ Черное : num 0.4 0.4 0.4 0.3 0.3 0.3 0.3 0.3 0.3 0.2 …</a></li>
<li class="chapter" data-level="3.7" data-path="tables.html"><a href="tables.html#-num-4.3-3.2-3.5-3.1-3.8-3.2-2.5-2-1.9-2"><i class="fa fa-check"></i><b>3.7</b> $ Азовское : num 4.3 3.2 3.5 3.1 3.8 3.2 2.5 2 1.9 2 …</a></li>
<li class="chapter" data-level="3.8" data-path="tables.html"><a href="tables.html#-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2"><i class="fa fa-check"></i><b>3.8</b> $ Каспийское: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 …</a></li>
<li class="chapter" data-level="3.9" data-path="tables.html"><a href="tables.html#-num-5.3-5-5.2-4.7-4.4-4.2-4.1-4.2-4.2-4.1"><i class="fa fa-check"></i><b>3.9</b> $ Карское : num 5.3 5 5.2 4.7 4.4 4.2 4.1 4.2 4.2 4.1 …</a></li>
<li class="chapter" data-level="3.10" data-path="tables.html"><a href="tables.html#-num-1-0.9-0.9-0.8-0.8-0.8-0.8-0.9-0.9-0.8"><i class="fa fa-check"></i><b>3.10</b> $ Белое : num 1 0.9 0.9 0.8 0.8 0.8 0.8 0.9 0.9 0.8 …</a></li>
<li class="chapter" data-level="3.11" data-path="tables.html"><a href="tables.html#-num-1.6-1.8-1.8-1.5-1.7-1.8-1.7-1.5-1.5-1.5"><i class="fa fa-check"></i><b>3.11</b> $ Прочие : num 1.6 1.8 1.8 1.5 1.7 1.8 1.7 1.5 1.5 1.5 …</a></li>
<li class="chapter" data-level="3.12" data-path="tables.html"><a href="tables.html#data.frame-22-obs.-of-9-variables-1"><i class="fa fa-check"></i><b>3.12</b> ‘data.frame’: 22 obs. of 9 variables:</a></li>
<li class="chapter" data-level="3.13" data-path="tables.html"><a href="tables.html#-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002-1"><i class="fa fa-check"></i><b>3.13</b> $ Год : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 …</a></li>
<li class="chapter" data-level="3.14" data-path="tables.html"><a href="tables.html#-num-27.2-24.6-24.5-22.4-23-22-20.7-20.3-19.8-19.8-1"><i class="fa fa-check"></i><b>3.14</b> $ Всего : num 27.2 24.6 24.5 22.4 23 22 20.7 20.3 19.8 19.8 …</a></li>
<li class="chapter" data-level="3.15" data-path="tables.html"><a href="tables.html#-num-2.5-2.3-2.3-2.2-2.2-2.2-2.2-2.2-2.1-2-1"><i class="fa fa-check"></i><b>3.15</b> $ Балтийское: num 2.5 2.3 2.3 2.2 2.2 2.2 2.2 2.2 2.1 2 …</a></li>
<li class="chapter" data-level="3.16" data-path="tables.html"><a href="tables.html#-num-0.4-0.4-0.4-0.3-0.3-0.3-0.3-0.3-0.3-0.2-1"><i class="fa fa-check"></i><b>3.16</b> $ Черное : num 0.4 0.4 0.4 0.3 0.3 0.3 0.3 0.3 0.3 0.2 …</a></li>
<li class="chapter" data-level="3.17" data-path="tables.html"><a href="tables.html#-num-4.3-3.2-3.5-3.1-3.8-3.2-2.5-2-1.9-2-1"><i class="fa fa-check"></i><b>3.17</b> $ Азовское : num 4.3 3.2 3.5 3.1 3.8 3.2 2.5 2 1.9 2 …</a></li>
<li class="chapter" data-level="3.18" data-path="tables.html"><a href="tables.html#-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2-1"><i class="fa fa-check"></i><b>3.18</b> $ Каспийское: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 …</a></li>
<li class="chapter" data-level="3.19" data-path="tables.html"><a href="tables.html#-num-5.3-5-5.2-4.7-4.4-4.2-4.1-4.2-4.2-4.1-1"><i class="fa fa-check"></i><b>3.19</b> $ Карское : num 5.3 5 5.2 4.7 4.4 4.2 4.1 4.2 4.2 4.1 …</a></li>
<li class="chapter" data-level="3.20" data-path="tables.html"><a href="tables.html#-num-1-0.9-0.9-0.8-0.8-0.8-0.8-0.9-0.9-0.8-1"><i class="fa fa-check"></i><b>3.20</b> $ Белое : num 1 0.9 0.9 0.8 0.8 0.8 0.8 0.9 0.9 0.8 …</a></li>
<li class="chapter" data-level="3.21" data-path="tables.html"><a href="tables.html#-num-1.6-1.8-1.8-1.5-1.7-1.8-1.7-1.5-1.5-1.5-1"><i class="fa fa-check"></i><b>3.21</b> $ Прочие : num 1.6 1.8 1.8 1.5 1.7 1.8 1.7 1.5 1.5 1.5 …</a></li>
<li class="chapter" data-level="3.22" data-path="tables.html"><a href="tables.html#data.frame-22-obs.-of-9-variables-2"><i class="fa fa-check"></i><b>3.22</b> ‘data.frame’: 22 obs. of 9 variables:</a></li>
<li class="chapter" data-level="3.23" data-path="tables.html"><a href="tables.html#-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002-2"><i class="fa fa-check"></i><b>3.23</b> $ Год : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 …</a></li>
<li class="chapter" data-level="3.24" data-path="tables.html"><a href="tables.html#-num-27.2-24.6-24.5-22.4-23-22-20.7-20.3-19.8-19.8-2"><i class="fa fa-check"></i><b>3.24</b> $ Всего : num 27.2 24.6 24.5 22.4 23 22 20.7 20.3 19.8 19.8 …</a></li>
<li class="chapter" data-level="3.25" data-path="tables.html"><a href="tables.html#-num-2.5-2.3-2.3-2.2-2.2-2.2-2.2-2.2-2.1-2-2"><i class="fa fa-check"></i><b>3.25</b> $ Балтийское: num 2.5 2.3 2.3 2.2 2.2 2.2 2.2 2.2 2.1 2 …</a></li>
<li class="chapter" data-level="3.26" data-path="tables.html"><a href="tables.html#-num-0.4-0.4-0.4-0.3-0.3-0.3-0.3-0.3-0.3-0.2-2"><i class="fa fa-check"></i><b>3.26</b> $ Черное : num 0.4 0.4 0.4 0.3 0.3 0.3 0.3 0.3 0.3 0.2 …</a></li>
<li class="chapter" data-level="3.27" data-path="tables.html"><a href="tables.html#-num-4.3-3.2-3.5-3.1-3.8-3.2-2.5-2-1.9-2-2"><i class="fa fa-check"></i><b>3.27</b> $ Азовское : num 4.3 3.2 3.5 3.1 3.8 3.2 2.5 2 1.9 2 …</a></li>
<li class="chapter" data-level="3.28" data-path="tables.html"><a href="tables.html#-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2-2"><i class="fa fa-check"></i><b>3.28</b> $ Каспийское: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 …</a></li>
<li class="chapter" data-level="3.29" data-path="tables.html"><a href="tables.html#-num-5.3-5-5.2-4.7-4.4-4.2-4.1-4.2-4.2-4.1-2"><i class="fa fa-check"></i><b>3.29</b> $ Карское : num 5.3 5 5.2 4.7 4.4 4.2 4.1 4.2 4.2 4.1 …</a></li>
<li class="chapter" data-level="3.30" data-path="tables.html"><a href="tables.html#-num-1-0.9-0.9-0.8-0.8-0.8-0.8-0.9-0.9-0.8-2"><i class="fa fa-check"></i><b>3.30</b> $ Белое : num 1 0.9 0.9 0.8 0.8 0.8 0.8 0.9 0.9 0.8 …</a></li>
<li class="chapter" data-level="3.31" data-path="tables.html"><a href="tables.html#-num-1.6-1.8-1.8-1.5-1.7-1.8-1.7-1.5-1.5-1.5-2"><i class="fa fa-check"></i><b>3.31</b> $ Прочие : num 1.6 1.8 1.8 1.5 1.7 1.8 1.7 1.5 1.5 1.5 …</a></li>
<li class="chapter" data-level="3.32" data-path="tables.html"><a href="tables.html#attr-speclist-of-2-..-cols-list-of-9-..-..--list-..-..-..--attr-class-chr-collector_integer-collector"><i class="fa fa-check"></i><b>3.32</b> - attr(<em>, “spec”)=List of 2 ## ..$ cols :List of 9 ## .. ..$ Год : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_integer” “collector”</a></li>
<li class="chapter" data-level="3.33" data-path="tables.html"><a href="tables.html#-list"><i class="fa fa-check"></i><b>3.33</b> .. ..$ Всего : list()</a></li>
<li class="chapter" data-level="3.34" data-path="tables.html"><a href="tables.html#attr-class-chr-collector_double-collector-..-..--list-..-..-..--attr-class-chr-collector_double-collector"><i class="fa fa-check"></i><b>3.34</b> .. .. ..- attr(<em>, “class”)= chr “collector_double” “collector” ## .. ..$ Балтийское: list() ## .. .. ..- attr(</em>, “class”)= chr “collector_double” “collector”</a></li>
<li class="chapter" data-level="3.35" data-path="tables.html"><a href="tables.html#-list"><i class="fa fa-check"></i><b>3.35</b> .. ..$ Черное : list()</a></li>
<li class="chapter" data-level="3.36" data-path="tables.html"><a href="tables.html#attr-class-chr-collector_double-collector-..-..--list-..-..-..--attr-class-chr-collector_double-collector"><i class="fa fa-check"></i><b>3.36</b> .. .. ..- attr(<em>, “class”)= chr “collector_double” “collector” ## .. ..$ Азовское : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_double” “collector”</a></li>
<li class="chapter" data-level="3.37" data-path="tables.html"><a href="tables.html#-list"><i class="fa fa-check"></i><b>3.37</b> .. ..$ Каспийское: list()</a></li>
<li class="chapter" data-level="3.38" data-path="tables.html"><a href="tables.html#attr-class-chr-collector_double-collector-..-..--list-..-..-..--attr-class-chr-collector_double-collector"><i class="fa fa-check"></i><b>3.38</b> .. .. ..- attr(<em>, “class”)= chr “collector_double” “collector” ## .. ..$ Карское : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_double” “collector”</a></li>
<li class="chapter" data-level="3.39" data-path="tables.html"><a href="tables.html#-list"><i class="fa fa-check"></i><b>3.39</b> .. ..$ Белое : list()</a></li>
<li class="chapter" data-level="3.40" data-path="tables.html"><a href="tables.html#attr-class-chr-collector_double-collector-..-..--list-..-..-..--attr-class-chr-collector_double-collector"><i class="fa fa-check"></i><b>3.40</b> .. .. ..- attr(<em>, “class”)= chr “collector_double” “collector” ## .. ..$ Прочие : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_double” “collector”</a></li>
<li class="chapter" data-level="3.41" data-path="tables.html"><a href="tables.html#default-list"><i class="fa fa-check"></i><b>3.41</b> ..$ default: list()</a></li>
<li class="chapter" data-level="3.42" data-path="tables.html"><a href="tables.html#attr-class-chr-collector_guess-collector-..--attr-class-chr-col_spec"><i class="fa fa-check"></i><b>3.42</b> .. ..- attr(<em>, “class”)= chr “collector_guess” “collector” ## ..- attr(</em>, “class”)= chr “col_spec”</a><ul>
<li class="chapter" data-level="3.42.1" data-path="tables.html"><a href="tables.html#excel_reading"><i class="fa fa-check"></i><b>3.42.1</b> Таблицы Microsoft Excel</a></li>
</ul></li>
<li class="chapter" data-level="3.43" data-path="tables.html"><a href="tables.html#data.frame-97-obs.-of-6-variables"><i class="fa fa-check"></i><b>3.43</b> ‘data.frame’: 97 obs. of 6 variables:</a></li>
<li class="chapter" data-level="3.44" data-path="tables.html"><a href="tables.html#x1-chr---------"><i class="fa fa-check"></i><b>3.44</b> $ X1 : chr “Российская Федерация” “Центральный федеральный округ” “Белгородская область” “Брянская область” …</a></li>
<li class="chapter" data-level="3.45" data-path="tables.html"><a href="tables.html#num-17727-4341-11-89-155"><i class="fa fa-check"></i><b>3.45</b> $ 2005: num 17727 4341 11 89 155 …</a></li>
<li class="chapter" data-level="3.46" data-path="tables.html"><a href="tables.html#num-16516-3761-77-78-129"><i class="fa fa-check"></i><b>3.46</b> $ 2010: num 16516 3761 77 78 129 …</a></li>
<li class="chapter" data-level="3.47" data-path="tables.html"><a href="tables.html#num-15966-3613-72-75-126"><i class="fa fa-check"></i><b>3.47</b> $ 2011: num 15966 3613 72 75 126 …</a></li>
<li class="chapter" data-level="3.48" data-path="tables.html"><a href="tables.html#num-15678-3651-71-71-124"><i class="fa fa-check"></i><b>3.48</b> $ 2012: num 15678 3651 71 71 124 …</a></li>
<li class="chapter" data-level="3.49" data-path="tables.html"><a href="tables.html#num-15189-3570-71-68-120"><i class="fa fa-check"></i><b>3.49</b> $ 2013: num 15189 3570 71 68 120 …</a></li>
<li class="chapter" data-level="3.50" data-path="tables.html"><a href="tables.html#data.frame-97-obs.-of-6-variables-1"><i class="fa fa-check"></i><b>3.50</b> ‘data.frame’: 97 obs. of 6 variables:</a></li>
<li><a href="tables.html#x__1-chr----------2005-num-17727-4341-11-89-155-2010-num-16516-3761-77-78-129-2011-num-15966-3613-72-75-126-2012-num-15678-3651-71-71-124-2013-num-15189-3570-71-68-120----excel_read_types-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-factor-w-12-levels-..-11-1-1-9-5-1-5-12-9-10-administration-factor-w-7-levels--..-5-5-5-1-1-5-1-5-5-6-comment-factor-w-35-levels--..-30-1-1-1-1-1-1-3-2-1-perimeter-num-2396-922-2181-3948-279-area-factor-w-160-levels-0.238070145845919..-73-49-121-100-63-72-88-128-99-24-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-chr-------administration-chr----------comment-chr---perimeter-num-2396-922-2181-3948-279-area-chr-286159.158855028570000-21651.963989321295000-56826.463220403260000-450293.758854912190000-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-chr-------administration-chr----------na-comment-chr---na-na-na-perimeter-num-2.40e18-9.22e17-2.18e18-3.95e18-2.79e17-area-chr-286159.158855028570000-21651.963989321295000-56826.463220403260000-450293.758854912190000---attr-speclist-of-2-..-cols-list-of-6-..-..-id-list-..-..-..--attr-class-chr-collector_integer-collector-..-..-type-list-..-..-..--attr-class-chr-collector_character-collector-..-..-administration-list-..-..-..--attr-class-chr-collector_character-collector-..-..-comment-list-..-..-..--attr-class-chr-collector_character-collector-..-..-perimeter-list-..-..-..--attr-class-chr-collector_number-collector-..-..-area-list-..-..-..--attr-class-chr-collector_character-collector-..-default-list-..-..--attr-class-chr-collector_guess-collector-..--attr-class-chr-col_spec-error-in-scanfile-file-what-what-sep-sep-quote-quote-dec-dec-scan--a-real---89499573298880117000---view_table----------1-1993-27.2-2.5-0.4-4.3-12.1-5.3-1.0-1.6-2-1994-24.6-2.3-0.4-3.2-11.0-5.0-0.9-1.8-3-1995-24.5-2.3-0.4-3.5-10.4-5.2-0.9-1.8-4-1996-22.4-2.2-0.3-3.1-9.8-4.7-0.8-1.5-5-1997-23.0-2.2-0.3-3.8-9.8-4.4-0.8-1.7-6-1998-22.0-2.2-0.3-3.2-9.5-4.2-0.8-1.8-7-1999-20.7-2.2-0.3-2.5-9.1-4.1-0.8-1.7-8-2000-20.3-2.2-0.3-2.0-9.2-4.2-0.9-1.5-9-2001-19.8-2.1-0.3-1.9-8.9-4.2-0.9-1.5-10-2002-19.8-2.0-0.2-2.0-9.2-4.1-0.8-1.5-11-2003-19.0-2.0-0.2-2.1-8.4-4.0-0.8-1.5-12-2004-18.5-2.0-0.2-2.1-8.3-3.8-0.8-1.3-13-2005-17.7-2.0-0.2-1.6-8.0-3.8-0.8-1.3-14-2006-17.5-1.9-0.2-1.7-7.8-3.8-0.8-1.3-15-2007-17.2-1.9-0.2-1.7-7.4-3.8-0.8-1.4-16-2008-17.1-1.9-0.2-1.6-7.5-3.9-0.8-1.2-17-2009-15.9-1.8-0.2-1.5-6.8-3.5-0.7-1.4-18-2010-16.5-2.0-0.2-1.6-7.3-3.3-0.7-1.4-19-2011-16.0-1.9-0.2-1.6-7.1-3.2-0.7-1.3-20-2012-15.7-1.8-0.2-1.6-7.0-3.0-0.7-1.4-21-2013-15.2-1.8-0.2-1.6-6.9-3.0-0.6-1.1-22-2014-14.8-1.7-0.2-1.5-6.4-3.2-0.6-1.2----------1-1993-27.2-2.5-0.4-4.3-12.1-5.3-1.0-1.6-2-1994-24.6-2.3-0.4-3.2-11.0-5.0-0.9-1.8-3-1995-24.5-2.3-0.4-3.5-10.4-5.2-0.9-1.8-4-1996-22.4-2.2-0.3-3.1-9.8-4.7-0.8-1.5-5-1997-23.0-2.2-0.3-3.8-9.8-4.4-0.8-1.7-6-1998-22.0-2.2-0.3-3.2-9.5-4.2-0.8-1.8----------17-2009-15.9-1.8-0.2-1.5-6.8-3.5-0.7-1.4-18-2010-16.5-2.0-0.2-1.6-7.3-3.3-0.7-1.4-19-2011-16.0-1.9-0.2-1.6-7.1-3.2-0.7-1.3-20-2012-15.7-1.8-0.2-1.6-7.0-3.0-0.7-1.4-21-2013-15.2-1.8-0.2-1.6-6.9-3.0-0.6-1.1-22-2014-14.8-1.7-0.2-1.5-6.4-3.2-0.6-1.2----working_with_columns---colnames-1-x__1-2005-2010-2011-2012-2013-1------6-----1-region-year05-year10-year11-year12-year13-1-year-total-baltic-black-azov-caspian-kara-8-white-other----col_calling-1-17727-4341-11-89-155-169-1-17727-4341-11-89-155-169-1-17727-4341-11-89-155-169-year05-1-17727-2-4341-3-11-4-89-5-155-6-169-year05-1-17727-2-4341-3-11-4-89-5-155-6-169-region-year11-1---15966-2----3613-3---72-4---75-5---126-6---135-region-year11-1---15966-2----3613-3---72-4---75-5---126-6---135-region-year11-1---15966-2----3613-3---72-4---75-5---126-6---135-region-year11-1---15966-2----3613-3---72-4---75-5---126-6---135-----col_select-data.frame-22-obs.-of-3-variables-year-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002-total-num-27.2-24.6-24.5-22.4-23-22-20.7-20.3-19.8-19.8-caspian-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2-data.frame-22-obs.-of-7-variables-year-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002-baltic-num-2.5-2.3-2.3-2.2-2.2-2.2-2.2-2.2-2.1-2-black-num-0.4-0.4-0.4-0.3-0.3-0.3-0.3-0.3-0.3-0.2-azov-num-4.3-3.2-3.5-3.1-3.8-3.2-2.5-2-1.9-2-caspian-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2-kara-num-5.3-5-5.2-4.7-4.4-4.2-4.1-4.2-4.2-4.1-white-num-1-0.9-0.9-0.8-0.8-0.8-0.8-0.9-0.9-0.8-data.frame-22-obs.-of-6-variables-year-int-1993-1994-1995-1996-1997-1998-1999-2000-2001-2002-baltic-num-2.5-2.3-2.3-2.2-2.2-2.2-2.2-2.2-2.1-2-black-num-0.4-0.4-0.4-0.3-0.3-0.3-0.3-0.3-0.3-0.2-caspian-num-12.1-11-10.4-9.8-9.8-9.5-9.1-9.2-8.9-9.2-kara-num-5.3-5-5.2-4.7-4.4-4.2-4.1-4.2-4.2-4.1-white-num-1-0.9-0.9-0.8-0.8-0.8-0.8-0.9-0.9-0.8-----col_add-year10-year11-year12-year13-na-na-na-na-1-15837.250-3648.750-72.750-73.000-124.750-132.250-96.500-8-89.250-45.250-37.000-84.000-1234.500-52.750-86.000-15-67.500-25.800-93.000-188.750-224.750-922.000-2906.750-22-190.500-118.000-374.000-na-0.175-373.750-152.750-29-96.000-260.000-345.750-87.250-44.000-1239.250-1399.250-36-27.750-27.250-878.500-62.000-155.250-248.500-389.000-43-77.750-3.825-31.000-47.000-93.250-0.000-2860.750-50-319.500-55.750-40.500-483.750-115.250-29.250-381.750-57-180.250-477.250-125.250-106.000-376.250-59.500-110.250-64-1745.750-44.750-733.000-184.000-na-53.250-35.500-71-95.250-784.500-2094.500-0.275-29.000-8.375-34.500-78-10.775-73.500-427.250-582.250-632.750-107.250-166.000-85-22.750-792.250-82.500-36.250-327.500-183.250-79.000-92-21.500-42.250-15.000-4.975-na-na----filtering_sorting--table_sorting-year-total-baltic-black-azov-caspian-kara-white-other-5-1997-23.0-2.2-0.3-3.8-9.8-4.4-0.8-1.7-2-1994-24.6-2.3-0.4-3.2-11.0-5.0-0.9-1.8-4-1996-22.4-2.2-0.3-3.1-9.8-4.7-0.8-1.5-year-total-baltic-black-azov-caspian-kara-white-other-22-2014-14.8-1.7-0.2-1.5-6.4-3.2-0.6-1.2-17-2009-15.9-1.8-0.2-1.5-6.8-3.5-0.7-1.4-21-2013-15.2-1.8-0.2-1.6-6.9-3.0-0.6-1.1-20-2012-15.7-1.8-0.2-1.6-7.0-3.0-0.7-1.4-19-2011-16.0-1.9-0.2-1.6-7.1-3.2-0.7-1.3-18-2010-16.5-2.0-0.2-1.6-7.3-3.3-0.7-1.4-year-total-baltic-black-azov-caspian-kara-white-other-22-2014-14.8-1.7-0.2-1.5-6.4-3.2-0.6-1.2-17-2009-15.9-1.8-0.2-1.5-6.8-3.5-0.7-1.4-21-2013-15.2-1.8-0.2-1.6-6.9-3.0-0.6-1.1-20-2012-15.7-1.8-0.2-1.6-7.0-3.0-0.7-1.4-19-2011-16.0-1.9-0.2-1.6-7.1-3.2-0.7-1.3-18-2010-16.5-2.0-0.2-1.6-7.3-3.3-0.7-1.4--table_filtering-1-true-true-true-false-false-false-false-false-false-false-false-12-false-false-false-false-false-false-false-false-false-false-false-year-total-baltic-black-azov-caspian-kara-white-other-1-1993-27.2-2.5-0.4-4.3-12.1-5.3-1.0-1.6-2-1994-24.6-2.3-0.4-3.2-11.0-5.0-0.9-1.8-3-1995-24.5-2.3-0.4-3.5-10.4-5.2-0.9-1.8-year-total-baltic-black-azov-caspian-kara-white-other-1-1993-27.2-2.5-0.4-4.3-12.1-5.3-1.0-1.6-2-1994-24.6-2.3-0.4-3.2-11.0-5.0-0.9-1.8-3-1995-24.5-2.3-0.4-3.5-10.4-5.2-0.9-1.8-1-2-21-35-42-49-64-73-86-1-false-true-false-false-false-false-false-false-false-false-false-12-false-false-false-false-false-false-false-false-false-true-false-23-false-false-false-false-false-false-false-false-false-false-false-34-false-true-false-false-false-false-false-false-true-false-false-45-false-false-false-false-true-false-false-false-false-false-false-56-false-false-false-false-false-false-false-false-true-false-false-67-false-false-false-false-false-false-true-false-false-false-false-78-false-false-false-false-false-false-false-false-true-false-false-89-false-false-false-false-false-false-false-false-false-1-true-true-false-false-false-false-false-false-false-false-false-12-false-false-true-false-false-false-false-false-false-true-false-23-false-false-true-false-false-false-false-false-false-false-false-34-false-true-false-false-false-false-false-false-true-false-false-45-false-false-false-false-true-false-false-false-false-false-false-56-false-false-false-false-false-false-false-false-true-false-false-67-false-true-false-false-false-false-true-false-false-false-false-78-false-false-false-false-false-false-false-false-true-false-false-89-false-false-false-false-false-false-false-true-true---missed_values-1-na-1-15678-1-true-true-true-true-true-true-true-true-true-true-true-12-true-true-true-true-true-true-true-true-true-true-true-23-true-true-false-true-true-true-true-true-true-true-true-34-true-true-true-true-true-true-true-true-true-true-true-45-true-true-true-true-true-true-true-true-true-true-true-56-true-true-true-true-true-true-true-true-true-true-true-67-true-false-true-true-true-true-true-true-true-true-true-78-true-true-true-true-true-true-true-true-true-true-true-89-true-true-true-true-true-true-true-false-false------data_conversion-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-factor-w-12-levels-..-11-1-1-9-5-1-5-12-9-10-administration-factor-w-7-levels--..-5-5-5-1-1-5-1-5-5-6-comment-factor-w-35-levels--..-30-1-1-1-1-1-1-3-2-1-perimeter-factor-w-160-levels-1014.155593894044800..-67-155-51-104-78-153-17-19-108-57-area-factor-w-160-levels-0.238070145845919..-73-49-121-100-63-72-88-128-99-24-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-factor-w-12-levels-..-11-1-1-9-5-1-5-12-9-10-administration-factor-w-7-levels--..-5-5-5-1-1-5-1-5-5-6-comment-chr---perimeter-factor-w-160-levels-1014.155593894044800..-67-155-51-104-78-153-17-19-108-57-area-factor-w-160-levels-0.238070145845919..-73-49-121-100-63-72-88-128-99-24-1-67-155-51-104-78-153-17-19-108-57-7-3-158-159-156-50-91-18-143-6-58-4-5-131-148-113-128-147-114-9-18-118-132-84-134-35-81-40-130-98-83-157-42-95-71-141-8-100-34-1-87-77-160-52-93-119-90-74-35-125-150-101-136-31-109-110-103-75-14-32-63-69-145-56-102-25-65-88-72-53-92-30-117-73-43-54-121-44-52-86-27-115-149-120-45-26-41-2-60-36-123-29-151-144-106-127-12-103-116-94-82-146-142-69-21-48-139-105-154-124-47-61-33-80-97-120-64-10-76-111-11-112-89-28-129-68-39-49-86-96-59-24-137-137-46-152-55-15-99-85-22-126-16-122-79-66-133-23-107-38-138-154-13-135-37-140-70-20-62-1-1014.155593894044800-1019.457949256323400-1020.278536197552200-4-1021.109926202218700-1041.122684298658400-1060.678503301135200-7-1081.964408568060900-1094.945610298295600-114.701418496307100-10-1155.916232728818800-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-factor-w-12-levels-..-11-1-1-9-5-1-5-12-9-10-administration-factor-w-7-levels--..-5-5-5-1-1-5-1-5-5-6-comment-chr---perimeter-num-2396-922-2181-3948-279-area-factor-w-160-levels-0.238070145845919..-73-49-121-100-63-72-88-128-99-24-warning-----na-1-286159.159-21651.964-56826.463-450293.759-2612.615-6-28608.401-3469445.793-62299.631-450291.261-147943.134-1-89499573298880117000-11922638460079328000-5153570673500797100-160-levels-0.238070145845919-9865.323033935605100-data.frame-160-obs.-of-6-variables-id-int-1-2-3-4-5-6-7-8-9-10-type-factor-w-12-levels-..-11-1-1-9-5-1-5-12-9-10-administration-factor-w-7-levels--..-5-5-5-1-1-5-1-5-5-6-comment-chr---perimeter-num-2396-922-2181-3948-279-area-num-286159-21652-56826-450294-2613-1---3-----5----7----9---11------1-2--3---4----5----6----7----1-2--3----warning-in--.factortmp-iseq-value-c------na-1--2--3----id-type-min.-1.00--52-1st-qu.-40.75--27-median-80.50---22-mean-80.50--15-3rd-qu.120.25--11-max.-160.00----8-other-25-administration-comment--76-length160--3-class-character---81-mode-character-perimeter-area-min.-3.087-min.-0-1st-qu.-421.431-1st-qu.-5087-median-939.369-median-21260-mean-1761.654-mean-125002-3rd-qu.-2135.987-3rd-qu.-83019-max.-23920.945-max.-3469446---table_writing-x-region-year05-year10-year11-year12-1-2----4341-3761-3613-3651-2-21-----3192-3088-2866-2877-3-35----1409-1446-1436-1394-4-42-----496-390-397-395-5-49----3162-2883-2857-2854-6-64----1681-1860-1834-1665-year13-1-3570-2-2796-3-1321-4-374-5-2849-6-1624-region-year05-year10-year11-year12-year13-1---11-77-72-71-71-2---89-78-75-71-68-3---155-129-126-124-120-4---169-134-135-131-129-5---144-102-99-97-88-6---99-92-88-84-93----dplyr-dplyr-year-total-caspian-1-1993-27.2-12.1-2-1994-24.6-11.0-3-1995-24.5-10.4-4-1996-22.4-9.8-5-1997-23.0-9.8-6-1998-22.0-9.5-year-total-caspian-caspianratio-1-1993-27.2-12.1-0.445-2-1994-24.6-11.0-0.447-3-1995-24.5-10.4-0.424-4-1996-22.4-9.8-0.438-5-1997-23.0-9.8-0.426-6-1998-22.0-9.5-0.432-year-total-caspian-caspianratio-1-1994-24.6-11.0-0.447-2-2000-20.3-9.2-0.453-3-2001-19.8-8.9-0.449-4-2002-19.8-9.2-0.465-5-2004-18.5-8.3-0.449-6-2005-17.7-8.0-0.452-year-total-caspian-caspianratio-1-2006-17.5-7.8-0.446-2-2012-15.7-7.0-0.446-3-1994-24.6-11.0-0.447-4-2001-19.8-8.9-0.449-5-2004-18.5-8.3-0.449-6-2005-17.7-8.0-0.452-total.sum-mean.ratio-1-169.1-0.4512222-year-total-caspian-caspianratio-1-2006-17.5-7.8-0.446-2-2012-15.7-7.0-0.446-3-1994-24.6-11.0-0.447-4-2001-19.8-8.9-0.449-5-2004-18.5-8.3-0.449-6-2005-17.7-8.0-0.452-------r-table_rules-----questions_tasks_tables--questions_tables--tasks_tables"><span class="toc-section-number">3.51</span> $ X__1: chr “Российская Федерация” “Центральный федеральный округ” “Белгородская область” “Брянская область” … ## $ 2005: num 17727 4341 11 89 155 … ## $ 2010: num 16516 3761 77 78 129 … ## $ 2011: num 15966 3613 72 75 126 … ## $ 2012: num 15678 3651 71 71 124 … ## $ 2013: num 15189 3570 71 68 120 … ### Типы данных столбцов {#excel_read_types} ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : Factor w/ 12 levels “Выгоны”,“Вырубки”,..: 11 1 1 9 5 1 5 12 9 10 … ## $ Administration: Factor w/ 7 levels “”,“РФ”,“Совьяковская администрация”,..: 5 5 5 1 1 5 1 5 5 6 … ## $ Comment : Factor w/ 35 levels “”,“АО &quot;Родина&quot;”,..: 30 1 1 1 1 1 1 3 2 1 … ## $ Perimeter : num 2396 922 2181 3948 279 … ## $ Area : Factor w/ 160 levels “0.238070145845919”,..: 73 49 121 100 63 72 88 128 99 24 … ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : chr “Территории населенных пунктов” “Выгоны” “Выгоны” “Пашни” … ## $ Administration: chr “Совьяковская сельская администрация” “Совьяковская сельская администрация” “Совьяковская сельская администрация” “” … ## $ Comment : chr “Село Беницы” “” “” “” … ## $ Perimeter : num 2396 922 2181 3948 279 … ## $ Area : chr “286159.158855028570000” “21651.963989321295000” “56826.463220403260000” “450293.758854912190000” … ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : chr “Территории населенных пунктов” “Выгоны” “Выгоны” “Пашни” … ## $ Administration: chr “Совьяковская сельская администрация” “Совьяковская сельская администрация” “Совьяковская сельская администрация” NA … ## $ Comment : chr “Село Беницы” NA NA NA … ## $ Perimeter : num 2.40e+18 9.22e+17 2.18e+18 3.95e+18 2.79e+17 … ## $ Area : chr “286159.158855028570000” “21651.963989321295000” “56826.463220403260000” “450293.758854912190000” … ## - attr(<em>, “spec”)=List of 2 ## ..$ cols :List of 6 ## .. ..$ ID : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_integer” “collector” ## .. ..$ Type : list() ## .. .. ..- attr(<em>, “class”)= chr “collector_character” “collector” ## .. ..$ Administration: list() ## .. .. ..- attr(</em>, “class”)= chr “collector_character” “collector” ## .. ..$ Comment : list() ## .. .. ..- attr(<em>, “class”)= chr “collector_character” “collector” ## .. ..$ Perimeter : list() ## .. .. ..- attr(</em>, “class”)= chr “collector_number” “collector” ## .. ..$ Area : list() ## .. .. ..- attr(<em>, “class”)= chr “collector_character” “collector” ## ..$ default: list() ## .. ..- attr(</em>, “class”)= chr “collector_guess” “collector” ## ..- attr(*, “class”)= chr “col_spec” ## Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec, : ‘scan()’ ожидает ‘a real’, а не ‘89499,573298880117000’ ## Просмотр таблицы {#view_table} ## Год Всего Балтийское Черное Азовское Каспийское Карское Белое Прочие ## 1 1993 27.2 2.5 0.4 4.3 12.1 5.3 1.0 1.6 ## 2 1994 24.6 2.3 0.4 3.2 11.0 5.0 0.9 1.8 ## 3 1995 24.5 2.3 0.4 3.5 10.4 5.2 0.9 1.8 ## 4 1996 22.4 2.2 0.3 3.1 9.8 4.7 0.8 1.5 ## 5 1997 23.0 2.2 0.3 3.8 9.8 4.4 0.8 1.7 ## 6 1998 22.0 2.2 0.3 3.2 9.5 4.2 0.8 1.8 ## 7 1999 20.7 2.2 0.3 2.5 9.1 4.1 0.8 1.7 ## 8 2000 20.3 2.2 0.3 2.0 9.2 4.2 0.9 1.5 ## 9 2001 19.8 2.1 0.3 1.9 8.9 4.2 0.9 1.5 ## 10 2002 19.8 2.0 0.2 2.0 9.2 4.1 0.8 1.5 ## 11 2003 19.0 2.0 0.2 2.1 8.4 4.0 0.8 1.5 ## 12 2004 18.5 2.0 0.2 2.1 8.3 3.8 0.8 1.3 ## 13 2005 17.7 2.0 0.2 1.6 8.0 3.8 0.8 1.3 ## 14 2006 17.5 1.9 0.2 1.7 7.8 3.8 0.8 1.3 ## 15 2007 17.2 1.9 0.2 1.7 7.4 3.8 0.8 1.4 ## 16 2008 17.1 1.9 0.2 1.6 7.5 3.9 0.8 1.2 ## 17 2009 15.9 1.8 0.2 1.5 6.8 3.5 0.7 1.4 ## 18 2010 16.5 2.0 0.2 1.6 7.3 3.3 0.7 1.4 ## 19 2011 16.0 1.9 0.2 1.6 7.1 3.2 0.7 1.3 ## 20 2012 15.7 1.8 0.2 1.6 7.0 3.0 0.7 1.4 ## 21 2013 15.2 1.8 0.2 1.6 6.9 3.0 0.6 1.1 ## 22 2014 14.8 1.7 0.2 1.5 6.4 3.2 0.6 1.2 ## Год Всего Балтийское Черное Азовское Каспийское Карское Белое Прочие ## 1 1993 27.2 2.5 0.4 4.3 12.1 5.3 1.0 1.6 ## 2 1994 24.6 2.3 0.4 3.2 11.0 5.0 0.9 1.8 ## 3 1995 24.5 2.3 0.4 3.5 10.4 5.2 0.9 1.8 ## 4 1996 22.4 2.2 0.3 3.1 9.8 4.7 0.8 1.5 ## 5 1997 23.0 2.2 0.3 3.8 9.8 4.4 0.8 1.7 ## 6 1998 22.0 2.2 0.3 3.2 9.5 4.2 0.8 1.8 ## Год Всего Балтийское Черное Азовское Каспийское Карское Белое Прочие ## 17 2009 15.9 1.8 0.2 1.5 6.8 3.5 0.7 1.4 ## 18 2010 16.5 2.0 0.2 1.6 7.3 3.3 0.7 1.4 ## 19 2011 16.0 1.9 0.2 1.6 7.1 3.2 0.7 1.3 ## 20 2012 15.7 1.8 0.2 1.6 7.0 3.0 0.7 1.4 ## 21 2013 15.2 1.8 0.2 1.6 6.9 3.0 0.6 1.1 ## 22 2014 14.8 1.7 0.2 1.5 6.4 3.2 0.6 1.2 ## Работа со столбцами {#working_with_columns} ### Названия столбцов {#colnames} ## [1] “X__1&quot; “2005” “2010” “2011” “2012” “2013” ## [1] “Год” “Всего” “Балтийское” “Черное” “Азовское”<br />
## [6] “Каспийское” “Карское” “Белое” “Прочие” ## [1] “Region” “Year05” “Year10” “Year11” “Year12” “Year13” ## [1] “Year” “Total” “Baltic” “Black” “Azov” “Caspian” “Kara”<br />
## [8] “White” “Other” ### Обращение к столбцам {#col_calling} ## [1] 17727 4341 11 89 155 169 ## [1] 17727 4341 11 89 155 169 ## [1] 17727 4341 11 89 155 169 ## Year05 ## 1 17727 ## 2 4341 ## 3 11 ## 4 89 ## 5 155 ## 6 169 ## Year05 ## 1 17727 ## 2 4341 ## 3 11 ## 4 89 ## 5 155 ## 6 169 ## Region Year11 ## 1 Российская Федерация 15966 ## 2 Центральный федеральный округ 3613 ## 3 Белгородская область 72 ## 4 Брянская область 75 ## 5 Владимирская область 126 ## 6 Воронежская область 135 ## Region Year11 ## 1 Российская Федерация 15966 ## 2 Центральный федеральный округ 3613 ## 3 Белгородская область 72 ## 4 Брянская область 75 ## 5 Владимирская область 126 ## 6 Воронежская область 135 ## Region Year11 ## 1 Российская Федерация 15966 ## 2 Центральный федеральный округ 3613 ## 3 Белгородская область 72 ## 4 Брянская область 75 ## 5 Владимирская область 126 ## 6 Воронежская область 135 ## Region Year11 ## 1 Российская Федерация 15966 ## 2 Центральный федеральный округ 3613 ## 3 Белгородская область 72 ## 4 Брянская область 75 ## 5 Владимирская область 126 ## 6 Воронежская область 135 ### Выбор и исключение столбцов {#col_select} ## ‘data.frame’: 22 obs. of 3 variables: ## $ Year : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 … ## $ Total : num 27.2 24.6 24.5 22.4 23 22 20.7 20.3 19.8 19.8 … ## $ Caspian: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 … ## ‘data.frame’: 22 obs. of 7 variables: ## $ Year : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 … ## $ Baltic : num 2.5 2.3 2.3 2.2 2.2 2.2 2.2 2.2 2.1 2 … ## $ Black : num 0.4 0.4 0.4 0.3 0.3 0.3 0.3 0.3 0.3 0.2 … ## $ Azov : num 4.3 3.2 3.5 3.1 3.8 3.2 2.5 2 1.9 2 … ## $ Caspian: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 … ## $ Kara : num 5.3 5 5.2 4.7 4.4 4.2 4.1 4.2 4.2 4.1 … ## $ White : num 1 0.9 0.9 0.8 0.8 0.8 0.8 0.9 0.9 0.8 … ## ‘data.frame’: 22 obs. of 6 variables: ## $ Year : int 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 … ## $ Baltic : num 2.5 2.3 2.3 2.2 2.2 2.2 2.2 2.2 2.1 2 … ## $ Black : num 0.4 0.4 0.4 0.3 0.3 0.3 0.3 0.3 0.3 0.2 … ## $ Caspian: num 12.1 11 10.4 9.8 9.8 9.5 9.1 9.2 8.9 9.2 … ## $ Kara : num 5.3 5 5.2 4.7 4.4 4.2 4.1 4.2 4.2 4.1 … ## $ White : num 1 0.9 0.9 0.8 0.8 0.8 0.8 0.9 0.9 0.8 … ### Добавление и вычисление столбцов {col_add} ## Year10 Year11 Year12 Year13 ## NA NA NA NA ## [1] 15837.250 3648.750 72.750 73.000 124.750 132.250 96.500 ## [8] 89.250 45.250 37.000 84.000 1234.500 52.750 86.000 ## [15] 67.500 25.800 93.000 188.750 224.750 922.000 2906.750 ## [22] 190.500 118.000 374.000 NA 0.175 373.750 152.750 ## [29] 96.000 260.000 345.750 87.250 44.000 1239.250 1399.250 ## [36] 27.750 27.250 878.500 62.000 155.250 248.500 389.000 ## [43] 77.750 3.825 31.000 47.000 93.250 0.000 2860.750 ## [50] 319.500 55.750 40.500 483.750 115.250 29.250 381.750 ## [57] 180.250 477.250 125.250 106.000 376.250 59.500 110.250 ## [64] 1745.750 44.750 733.000 184.000 NA 53.250 35.500 ## [71] 95.250 784.500 2094.500 0.275 29.000 8.375 34.500 ## [78] 10.775 73.500 427.250 582.250 632.750 107.250 166.000 ## [85] 22.750 792.250 82.500 36.250 327.500 183.250 79.000 ## [92] 21.500 42.250 15.000 4.975 NA NA ## Сортировка и фильтрация {#filtering_sorting} ### Сортировка {#table_sorting} ## Year Total Baltic Black Azov Caspian Kara White Other ## 5 1997 23.0 2.2 0.3 3.8 9.8 4.4 0.8 1.7 ## 2 1994 24.6 2.3 0.4 3.2 11.0 5.0 0.9 1.8 ## 4 1996 22.4 2.2 0.3 3.1 9.8 4.7 0.8 1.5 ## Year Total Baltic Black Azov Caspian Kara White Other ## 22 2014 14.8 1.7 0.2 1.5 6.4 3.2 0.6 1.2 ## 17 2009 15.9 1.8 0.2 1.5 6.8 3.5 0.7 1.4 ## 21 2013 15.2 1.8 0.2 1.6 6.9 3.0 0.6 1.1 ## 20 2012 15.7 1.8 0.2 1.6 7.0 3.0 0.7 1.4 ## 19 2011 16.0 1.9 0.2 1.6 7.1 3.2 0.7 1.3 ## 18 2010 16.5 2.0 0.2 1.6 7.3 3.3 0.7 1.4 ## Year Total Baltic Black Azov Caspian Kara White Other ## 22 2014 14.8 1.7 0.2 1.5 6.4 3.2 0.6 1.2 ## 17 2009 15.9 1.8 0.2 1.5 6.8 3.5 0.7 1.4 ## 21 2013 15.2 1.8 0.2 1.6 6.9 3.0 0.6 1.1 ## 20 2012 15.7 1.8 0.2 1.6 7.0 3.0 0.7 1.4 ## 19 2011 16.0 1.9 0.2 1.6 7.1 3.2 0.7 1.3 ## 18 2010 16.5 2.0 0.2 1.6 7.3 3.3 0.7 1.4 ### Фильтрация {#table_filtering} ## [1] TRUE TRUE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## Year Total Baltic Black Azov Caspian Kara White Other ## 1 1993 27.2 2.5 0.4 4.3 12.1 5.3 1.0 1.6 ## 2 1994 24.6 2.3 0.4 3.2 11.0 5.0 0.9 1.8 ## 3 1995 24.5 2.3 0.4 3.5 10.4 5.2 0.9 1.8 ## Year Total Baltic Black Azov Caspian Kara White Other ## 1 1993 27.2 2.5 0.4 4.3 12.1 5.3 1.0 1.6 ## 2 1994 24.6 2.3 0.4 3.2 11.0 5.0 0.9 1.8 ## 3 1995 24.5 2.3 0.4 3.5 10.4 5.2 0.9 1.8 ## [1] 2 21 35 42 49 64 73 86 ## [1] FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE ## [23] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [34] FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [45] FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE ## [56] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [67] FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE ## [78] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [89] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [1] TRUE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [12] FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE ## [23] FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [34] FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [45] FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE ## [56] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [67] FALSE TRUE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE ## [78] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE ## [89] FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE TRUE ## Пропущенные значения {#missed_values} ## [1] NA ## [1] 15678 ## [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [12] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [23] TRUE TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [34] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [45] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [56] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [67] TRUE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [78] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [89] TRUE TRUE TRUE TRUE TRUE TRUE TRUE FALSE FALSE ## Преобразование типов и поиск ошибок {#data_conversion} ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : Factor w/ 12 levels “Выгоны”,“Вырубки”,..: 11 1 1 9 5 1 5 12 9 10 … ## $ Administration: Factor w/ 7 levels “”,“РФ”,“Совьяковская администрация”,..: 5 5 5 1 1 5 1 5 5 6 … ## $ Comment : Factor w/ 35 levels “”,“АО &quot;Родина&quot;”,..: 30 1 1 1 1 1 1 3 2 1 … ## $ Perimeter : Factor w/ 160 levels “1014.155593894044800”,..: 67 155 51 104 78 153 17 19 108 57 … ## $ Area : Factor w/ 160 levels “0.238070145845919”,..: 73 49 121 100 63 72 88 128 99 24 … ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : Factor w/ 12 levels “Выгоны”,“Вырубки”,..: 11 1 1 9 5 1 5 12 9 10 … ## $ Administration: Factor w/ 7 levels “”,“РФ”,“Совьяковская администрация”,..: 5 5 5 1 1 5 1 5 5 6 … ## $ Comment : chr “Село Беницы” “” “” “” … ## $ Perimeter : Factor w/ 160 levels “1014.155593894044800”,..: 67 155 51 104 78 153 17 19 108 57 … ## $ Area : Factor w/ 160 levels “0.238070145845919”,..: 73 49 121 100 63 72 88 128 99 24 … ## [1] 67 155 51 104 78 153 17 19 108 57 7 3 158 159 156 50 91 ## [18] 143 6 58 4 5 131 148 113 128 147 114 9 18 118 132 84 134 ## [35] 81 40 130 98 83 157 42 95 71 141 8 100 34 1 87 77 160 ## [52] 93 119 90 74 35 125 150 101 136 31 109 110 103 75 14 32 63 ## [69] 145 56 102 25 65 88 72 53 92 30 117 73 43 54 121 44 52 ## [86] 27 115 149 120 45 26 41 2 60 36 123 29 151 144 106 127 12 ## [103] 116 94 82 146 142 69 21 48 139 105 154 124 47 61 33 80 97 ## [120] 64 10 76 111 11 112 89 28 129 68 39 49 86 96 59 24 137 ## [137] 46 152 55 15 99 85 22 126 16 122 79 66 133 23 107 38 138 ## [154] 13 135 37 140 70 20 62 ## [1] “1014.155593894044800” “1019.457949256323400” “1020.278536197552200” ## [4] “1021.109926202218700” “1041.122684298658400” “1060.678503301135200” ## [7] “1081.964408568060900” “1094.945610298295600” “114.701418496307100” ## [10] “1155.916232728818800” ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : Factor w/ 12 levels “Выгоны”,“Вырубки”,..: 11 1 1 9 5 1 5 12 9 10 … ## $ Administration: Factor w/ 7 levels “”,“РФ”,“Совьяковская администрация”,..: 5 5 5 1 1 5 1 5 5 6 … ## $ Comment : chr “Село Беницы” “” “” “” … ## $ Perimeter : num 2396 922 2181 3948 279 … ## $ Area : Factor w/ 160 levels “0.238070145845919”,..: 73 49 121 100 63 72 88 128 99 24 … ## Warning: в результате преобразования созданы NA ## [1] 286159.159 21651.964 56826.463 450293.759 2612.615 ## [6] 28608.401 3469445.793 62299.631 450291.261 147943.134 ## [1] 89499,573298880117000 11922,638460079328000 5153,570673500797100 ## 160 Levels: 0.238070145845919 … 9865.323033935605100 ## ‘data.frame’: 160 obs. of 6 variables: ## $ ID : int 1 2 3 4 5 6 7 8 9 10 … ## $ Type : Factor w/ 12 levels “Выгоны”,“Вырубки”,..: 11 1 1 9 5 1 5 12 9 10 … ## $ Administration: Factor w/ 7 levels “”,“РФ”,“Совьяковская администрация”,..: 5 5 5 1 1 5 1 5 5 6 … ## $ Comment : chr “Село Беницы” “” “” “” … ## $ Perimeter : num 2396 922 2181 3948 279 … ## $ Area : num 286159 21652 56826 450294 2613 … ## [1] “Выгоны” “Вырубки”<br />
## [3] “Гидрологические объекты” “Заболоченные земли”<br />
## [5] “Леса” “Лесные поляны”<br />
## [7] “Луга” “Нет данных”<br />
## [9] “Пашни” “Сады”<br />
## [11] “Территории населенных пунктов” “Фермерские хозяйства” ## [1] “”<br />
## [2] “РФ”<br />
## [3] “Совьяковская администрация”<br />
## [4] “Совьяковская сельскаая администрация” ## [5] “Совьяковская сельская администрация” ## [6] “Совьяковская сельская Администрация” ## [7] “Совьяковская сельская админитрация” ## [1] “”<br />
## [2] “РФ”<br />
## [3] “Совьяковская сельская администрация” ## Warning in <code>[&lt;-.factor</code>(<code>*tmp*</code>, iseq, value = c(“Прочее”, “Прочее”, : ## неправильный уровень фактора, получились NA ## [1] “Прочее”<br />
## [2] “РФ”<br />
## [3] “Совьяковская сельская администрация” ## ID Type<br />
## Min. : 1.00 Леса :52<br />
## 1st Qu.: 40.75 Выгоны :27<br />
## Median : 80.50 Фермерские хозяйства :22<br />
## Mean : 80.50 Пашни :15<br />
## 3rd Qu.:120.25 Луга :11<br />
## Max. :160.00 Территории населенных пунктов: 8<br />
## (Other) :25<br />
## Administration Comment<br />
## Прочее :76 Length:160<br />
## РФ : 3 Class :character<br />
## Совьяковская сельская администрация:81 Mode :character<br />
##<br />
##<br />
##<br />
##<br />
## Perimeter Area<br />
## Min. : 3.087 Min. : 0<br />
## 1st Qu.: 421.431 1st Qu.: 5087<br />
## Median : 939.369 Median : 21260<br />
## Mean : 1761.654 Mean : 125002<br />
## 3rd Qu.: 2135.987 3rd Qu.: 83019<br />
## Max. :23920.945 Max. :3469446<br />
## ## Сохранение таблиц {#table_writing} ## X Region Year05 Year10 Year11 Year12 ## 1 2 Центральный федеральный округ 4341 3761 3613 3651 ## 2 21 Северо-Западный федеральный округ 3192 3088 2866 2877 ## 3 35 Южный федеральный округ 1409 1446 1436 1394 ## 4 42 Северо-Кавказский федеральный округ 496 390 397 395 ## 5 49 Приволжский федеральный округ 3162 2883 2857 2854 ## 6 64 Уральский федеральный округ 1681 1860 1834 1665 ## Year13 ## 1 3570 ## 2 2796 ## 3 1321 ## 4 374 ## 5 2849 ## 6 1624 ## Region Year05 Year10 Year11 Year12 Year13 ## 1 Белгородская область 11 77 72 71 71 ## 2 Брянская область 89 78 75 71 68 ## 3 Владимирская область 155 129 126 124 120 ## 4 Воронежская область 169 134 135 131 129 ## 5 Ивановская область 144 102 99 97 88 ## 6 Калужская область 99 92 88 84 93 ## Обработка таблиц в dplyr {#dplyr} ## Year Total Caspian ## 1 1993 27.2 12.1 ## 2 1994 24.6 11.0 ## 3 1995 24.5 10.4 ## 4 1996 22.4 9.8 ## 5 1997 23.0 9.8 ## 6 1998 22.0 9.5 ## Year Total Caspian caspianRatio ## 1 1993 27.2 12.1 0.445 ## 2 1994 24.6 11.0 0.447 ## 3 1995 24.5 10.4 0.424 ## 4 1996 22.4 9.8 0.438 ## 5 1997 23.0 9.8 0.426 ## 6 1998 22.0 9.5 0.432 ## Year Total Caspian caspianRatio ## 1 1994 24.6 11.0 0.447 ## 2 2000 20.3 9.2 0.453 ## 3 2001 19.8 8.9 0.449 ## 4 2002 19.8 9.2 0.465 ## 5 2004 18.5 8.3 0.449 ## 6 2005 17.7 8.0 0.452 ## Year Total Caspian caspianRatio ## 1 2006 17.5 7.8 0.446 ## 2 2012 15.7 7.0 0.446 ## 3 1994 24.6 11.0 0.447 ## 4 2001 19.8 8.9 0.449 ## 5 2004 18.5 8.3 0.449 ## 6 2005 17.7 8.0 0.452 ## total.sum mean.ratio ## 1 169.1 0.4512222 ## Year Total Caspian caspianRatio ## 1 2006 17.5 7.8 0.446 ## 2 2012 15.7 7.0 0.446 ## 3 1994 24.6 11.0 0.447 ## 4 2001 19.8 8.9 0.449 ## 5 2004 18.5 8.3 0.449 ## 6 2005 17.7 8.0 0.452 ## Правила подготовки таблиц для чтения в R {#table_rules} ## Контрольные вопросы и задачи {#questions_tasks_tables} ### Вопросы {#questions_tables} ### Задачи {#tasks_tables}</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>4</b> Основы графики в R</a><ul>
<li class="chapter" data-level="4.1" data-path="graphics.html"><a href="graphics.html#data.frame-96-obs.-of-13-variables"><i class="fa fa-check"></i><b>4.1</b> ‘data.frame’: 96 obs. of 13 variables:</a></li>
<li class="chapter" data-level="4.2" data-path="graphics.html"><a href="graphics.html#-chr---------"><i class="fa fa-check"></i><b>4.2</b> $ Регион : chr “Российская Федерация” “Центральный федеральный округ” “Белгородская область” “Брянская область” …</a></li>
<li class="chapter" data-level="4.3" data-path="graphics.html"><a href="graphics.html#-num-16196.2-4552.9-221.9-28.5-177.9"><i class="fa fa-check"></i><b>4.3</b> $ ПродЭкспорт: num 16196.2 4552.9 221.9 28.5 177.9 …</a></li>
<li class="chapter" data-level="4.4" data-path="graphics.html"><a href="graphics.html#-num-43076-22954-614-650-454"><i class="fa fa-check"></i><b>4.4</b> $ ПродИмпорт : num 43076 22954 614 650 454 …</a></li>
<li class="chapter" data-level="4.5" data-path="graphics.html"><a href="graphics.html#-num-371791.8-204331.7-64.7-5-0.9"><i class="fa fa-check"></i><b>4.5</b> $ ТЭКЭкспорт : num 371791.8 204331.7 64.7 5 0.9 …</a></li>
<li class="chapter" data-level="4.6" data-path="graphics.html"><a href="graphics.html#-num-3613.6-1660.3-24.1-20.5-16.7"><i class="fa fa-check"></i><b>4.6</b> $ ТЭКИмпорт : num 3613.6 1660.3 24.1 20.5 16.7 …</a></li>
<li class="chapter" data-level="4.7" data-path="graphics.html"><a href="graphics.html#-num-30739.2-8442.7-33.3-24.5-87.7"><i class="fa fa-check"></i><b>4.7</b> $ ХимЭкспорт : num 30739.2 8442.7 33.3 24.5 87.7 …</a></li>
<li class="chapter" data-level="4.8" data-path="graphics.html"><a href="graphics.html#-num-50129.5-34870.4-242.8-71.7-419"><i class="fa fa-check"></i><b>4.8</b> $ ХимИмпорт : num 50129.5 34870.4 242.8 71.7 419 …</a></li>
<li class="chapter" data-level="4.9" data-path="graphics.html"><a href="graphics.html#-num-10965.8-1101.6-6.2-23.4-57.1"><i class="fa fa-check"></i><b>4.9</b> $ ДревЭкспорт: num 10965.8 1101.6 6.2 23.4 57.1 …</a></li>
<li class="chapter" data-level="4.10" data-path="graphics.html"><a href="graphics.html#-num-6641.5-3942.6-43.3-44.9-9"><i class="fa fa-check"></i><b>4.10</b> $ ДревИмпорт : num 6641.5 3942.6 43.3 44.9 9 …</a></li>
<li class="chapter" data-level="4.11" data-path="graphics.html"><a href="graphics.html#-num-40859.3-9877-2014.1-50.5-29"><i class="fa fa-check"></i><b>4.11</b> $ МетЭкспорт : num 40859.3 9877 2014.1 50.5 29 …</a></li>
<li class="chapter" data-level="4.12" data-path="graphics.html"><a href="graphics.html#-num-22017.4-11763.6-1207.3-68.3-56.6"><i class="fa fa-check"></i><b>4.12</b> $ МетИмпорт : num 22017.4 11763.6 1207.3 68.3 56.6 …</a></li>
<li class="chapter" data-level="4.13" data-path="graphics.html"><a href="graphics.html#-num-28338.5-12845.9-84.1-143.2-286.1"><i class="fa fa-check"></i><b>4.13</b> $ МашЭкспорт : num 28338.5 12845.9 84.1 143.2 286.1 …</a></li>
<li class="chapter" data-level="4.14" data-path="graphics.html"><a href="graphics.html#-num-154371-96196-1710-823-469"><i class="fa fa-check"></i><b>4.14</b> $ МашИмпорт : num 154371 96196 1710 823 469 …</a></li>
<li class="chapter" data-level="4.15" data-path="graphics.html"><a href="graphics.html#yfxcharts"><i class="fa fa-check"></i><b>4.15</b> Стандартные графики</a><ul>
<li class="chapter" data-level="4.15.1" data-path="graphics.html"><a href="graphics.html#scatterplots"><i class="fa fa-check"></i><b>4.15.1</b> Диаграммы рассеяния</a></li>
<li class="chapter" data-level="4.15.2" data-path="graphics.html"><a href="graphics.html#linear_graphs"><i class="fa fa-check"></i><b>4.15.2</b> Линейные графики</a></li>
<li class="chapter" data-level="4.15.3" data-path="graphics.html"><a href="graphics.html#graph_combining"><i class="fa fa-check"></i><b>4.15.3</b> Совмещение графиков</a></li>
<li class="chapter" data-level="4.15.4" data-path="graphics.html"><a href="graphics.html#func_parameters"><i class="fa fa-check"></i><b>4.15.4</b> Функциональные параметры</a></li>
</ul></li>
<li class="chapter" data-level="4.16" data-path="graphics.html"><a href="graphics.html#histograms"><i class="fa fa-check"></i><b>4.16</b> Гистограммы</a></li>
<li class="chapter" data-level="4.17" data-path="graphics.html"><a href="graphics.html#barplots"><i class="fa fa-check"></i><b>4.17</b> Столбчатые графики</a></li>
<li class="chapter" data-level="4.18" data-path="graphics.html"><a href="graphics.html#piecharts"><i class="fa fa-check"></i><b>4.18</b> Круговые (секторные) диаграммы</a></li>
<li class="chapter" data-level="4.19" data-path="graphics.html"><a href="graphics.html#colors"><i class="fa fa-check"></i><b>4.19</b> Цвет и прозрачность</a></li>
<li class="chapter" data-level="4.20" data-path="graphics.html"><a href="graphics.html#white-aliceblue-antiquewhite-antiquewhite1"><i class="fa fa-check"></i><b>4.20</b> [1] “white” “aliceblue” “antiquewhite” “antiquewhite1”</a></li>
<li class="chapter" data-level="4.21" data-path="graphics.html"><a href="graphics.html#antiquewhite2-antiquewhite3"><i class="fa fa-check"></i><b>4.21</b> [5] “antiquewhite2” “antiquewhite3”</a></li>
<li class="chapter" data-level="4.22" data-path="graphics.html"><a href="graphics.html#disp_settings"><i class="fa fa-check"></i><b>4.22</b> Настройки отображения</a><ul>
<li class="chapter" data-level="4.22.1" data-path="graphics.html"><a href="graphics.html#graph_params"><i class="fa fa-check"></i><b>4.22.1</b> Графические параметры</a></li>
<li class="chapter" data-level="4.22.2" data-path="graphics.html"><a href="graphics.html#axes"><i class="fa fa-check"></i><b>4.22.2</b> Разметка осей, рамка, сетка координат и произвольные линии</a></li>
<li class="chapter" data-level="4.22.3" data-path="graphics.html"><a href="graphics.html#annotations"><i class="fa fa-check"></i><b>4.22.3</b> Аннотации данных (текст на графике)</a></li>
</ul></li>
<li class="chapter" data-level="4.23" data-path="graphics.html"><a href="graphics.html#legend"><i class="fa fa-check"></i><b>4.23</b> Легенда</a></li>
<li class="chapter" data-level="4.24" data-path="graphics.html"><a href="graphics.html#questions_tasks_graphics"><i class="fa fa-check"></i><b>4.24</b> Контрольные вопросы и задачи</a><ul>
<li class="chapter" data-level="4.24.1" data-path="graphics.html"><a href="graphics.html#questions_graphics"><i class="fa fa-check"></i><b>4.24.1</b> Вопросы</a></li>
<li class="chapter" data-level="4.24.2" data-path="graphics.html"><a href="graphics.html#tasks_graphics"><i class="fa fa-check"></i><b>4.24.2</b> Задачи</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="controls.html"><a href="controls.html"><i class="fa fa-check"></i><b>5</b> Управление выполнением и векторизованные вычисления</a><ul>
<li class="chapter" data-level="5.1" data-path="controls.html"><a href="controls.html#cycles"><i class="fa fa-check"></i><b>5.1</b> Циклы</a></li>
<li class="chapter" data-level="5.2" data-path="controls.html"><a href="controls.html#section-5.2"><i class="fa fa-check"></i><b>5.2</b> ЦИКЛЫ</a></li>
<li class="chapter" data-level="5.3" data-path="controls.html"><a href="controls.html#section-122"><i class="fa fa-check"></i><b>5.3</b> [1] 1</a></li>
<li class="chapter" data-level="5.4" data-path="controls.html"><a href="controls.html#section-123"><i class="fa fa-check"></i><b>5.4</b> [1] 2</a></li>
<li class="chapter" data-level="5.5" data-path="controls.html"><a href="controls.html#section-124"><i class="fa fa-check"></i><b>5.5</b> [1] 3</a></li>
<li class="chapter" data-level="5.6" data-path="controls.html"><a href="controls.html#section-125"><i class="fa fa-check"></i><b>5.6</b> [1] 4</a></li>
<li class="chapter" data-level="5.7" data-path="controls.html"><a href="controls.html#section-126"><i class="fa fa-check"></i><b>5.7</b> [1] 5</a></li>
<li class="chapter" data-level="5.8" data-path="controls.html"><a href="controls.html#section-127"><i class="fa fa-check"></i><b>5.8</b> [1] 6</a></li>
<li class="chapter" data-level="5.9" data-path="controls.html"><a href="controls.html#section-128"><i class="fa fa-check"></i><b>5.9</b> [1] 7</a></li>
<li class="chapter" data-level="5.10" data-path="controls.html"><a href="controls.html#section-129"><i class="fa fa-check"></i><b>5.10</b> [1] 8</a></li>
<li class="chapter" data-level="5.11" data-path="controls.html"><a href="controls.html#section-130"><i class="fa fa-check"></i><b>5.11</b> [1] 9</a></li>
<li class="chapter" data-level="5.12" data-path="controls.html"><a href="controls.html#section-131"><i class="fa fa-check"></i><b>5.12</b> [1] 10</a></li>
<li class="chapter" data-level="5.13" data-path="controls.html"><a href="controls.html#section-132"><i class="fa fa-check"></i><b>5.13</b> [1] 0.3678794</a></li>
<li class="chapter" data-level="5.14" data-path="controls.html"><a href="controls.html#section-133"><i class="fa fa-check"></i><b>5.14</b> [1] 0.2706706</a></li>
<li class="chapter" data-level="5.15" data-path="controls.html"><a href="controls.html#section-134"><i class="fa fa-check"></i><b>5.15</b> [1] 0.2987224</a></li>
<li class="chapter" data-level="5.16" data-path="controls.html"><a href="controls.html#section-135"><i class="fa fa-check"></i><b>5.16</b> [1] 0.4395753</a></li>
<li class="chapter" data-level="5.17" data-path="controls.html"><a href="controls.html#section-136"><i class="fa fa-check"></i><b>5.17</b> [1] 0.8085536</a></li>
<li class="chapter" data-level="5.18" data-path="controls.html"><a href="controls.html#section-137"><i class="fa fa-check"></i><b>5.18</b> [1] 1.784702</a></li>
<li class="chapter" data-level="5.19" data-path="controls.html"><a href="controls.html#section-138"><i class="fa fa-check"></i><b>5.19</b> [1] 4.595885</a></li>
<li class="chapter" data-level="5.20" data-path="controls.html"><a href="controls.html#section-139"><i class="fa fa-check"></i><b>5.20</b> [1] 13.52585</a></li>
<li class="chapter" data-level="5.21" data-path="controls.html"><a href="controls.html#section-140"><i class="fa fa-check"></i><b>5.21</b> [1] 44.78295</a></li>
<li class="chapter" data-level="5.22" data-path="controls.html"><a href="controls.html#section-141"><i class="fa fa-check"></i><b>5.22</b> [1] 164.7473</a></li>
<li class="chapter" data-level="5.23" data-path="controls.html"><a href="controls.html#section-142"><i class="fa fa-check"></i><b>5.23</b> [1] 1</a></li>
<li class="chapter" data-level="5.24" data-path="controls.html"><a href="controls.html#section-143"><i class="fa fa-check"></i><b>5.24</b> [1] 2</a></li>
<li class="chapter" data-level="5.25" data-path="controls.html"><a href="controls.html#section-144"><i class="fa fa-check"></i><b>5.25</b> [1] 3</a></li>
<li class="chapter" data-level="5.26" data-path="controls.html"><a href="controls.html#section-145"><i class="fa fa-check"></i><b>5.26</b> [1] 4</a></li>
<li class="chapter" data-level="5.27" data-path="controls.html"><a href="controls.html#section-146"><i class="fa fa-check"></i><b>5.27</b> [1] 5</a></li>
<li class="chapter" data-level="5.28" data-path="controls.html"><a href="controls.html#section-147"><i class="fa fa-check"></i><b>5.28</b> [1] 6</a></li>
<li class="chapter" data-level="5.29" data-path="controls.html"><a href="controls.html#section-148"><i class="fa fa-check"></i><b>5.29</b> [1] 7</a></li>
<li class="chapter" data-level="5.30" data-path="controls.html"><a href="controls.html#section-149"><i class="fa fa-check"></i><b>5.30</b> [1] 8</a></li>
<li class="chapter" data-level="5.31" data-path="controls.html"><a href="controls.html#section-150"><i class="fa fa-check"></i><b>5.31</b> [1] 9</a></li>
<li class="chapter" data-level="5.32" data-path="controls.html"><a href="controls.html#section-151"><i class="fa fa-check"></i><b>5.32</b> [1] 10</a></li>
<li class="chapter" data-level="5.33" data-path="controls.html"><a href="controls.html#ifelse"><i class="fa fa-check"></i><b>5.33</b> Условия</a></li>
<li class="chapter" data-level="5.34" data-path="controls.html"><a href="controls.html#section-5.34"><i class="fa fa-check"></i><b>5.34</b> УСЛОВИЯ</a></li>
<li class="chapter" data-level="5.35" data-path="controls.html"><a href="controls.html#exp1"><i class="fa fa-check"></i><b>5.35</b> 1! &lt; exp(1)</a></li>
<li class="chapter" data-level="5.36" data-path="controls.html"><a href="controls.html#exp2"><i class="fa fa-check"></i><b>5.36</b> 2! &lt; exp(2)</a></li>
<li class="chapter" data-level="5.37" data-path="controls.html"><a href="controls.html#exp3"><i class="fa fa-check"></i><b>5.37</b> 3! &lt; exp(3)</a></li>
<li class="chapter" data-level="5.38" data-path="controls.html"><a href="controls.html#exp4"><i class="fa fa-check"></i><b>5.38</b> 4! &lt; exp(4)</a></li>
<li class="chapter" data-level="5.39" data-path="controls.html"><a href="controls.html#exp5"><i class="fa fa-check"></i><b>5.39</b> 5! &lt; exp(5)</a></li>
<li class="chapter" data-level="5.40" data-path="controls.html"><a href="controls.html#exp6"><i class="fa fa-check"></i><b>5.40</b> 6! &gt; exp(6)</a></li>
<li class="chapter" data-level="5.41" data-path="controls.html"><a href="controls.html#exp7"><i class="fa fa-check"></i><b>5.41</b> 7! &gt; exp(7)</a></li>
<li class="chapter" data-level="5.42" data-path="controls.html"><a href="controls.html#exp8"><i class="fa fa-check"></i><b>5.42</b> 8! &gt; exp(8)</a></li>
<li class="chapter" data-level="5.43" data-path="controls.html"><a href="controls.html#exp9"><i class="fa fa-check"></i><b>5.43</b> 9! &gt; exp(9)</a></li>
<li class="chapter" data-level="5.44" data-path="controls.html"><a href="controls.html#exp10"><i class="fa fa-check"></i><b>5.44</b> 10! &gt; exp(10)</a></li>
<li class="chapter" data-level="5.45" data-path="controls.html"><a href="controls.html#functions"><i class="fa fa-check"></i><b>5.45</b> Функции</a></li>
<li class="chapter" data-level="5.46" data-path="controls.html"><a href="controls.html#section-5.46"><i class="fa fa-check"></i><b>5.46</b> ФУНКЦИИ</a></li>
<li class="chapter" data-level="5.47" data-path="controls.html"><a href="controls.html#vectorized"><i class="fa fa-check"></i><b>5.47</b> Векторизованые вычисления</a></li>
<li class="chapter" data-level="5.48" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>5.48</b> ВЕКТОРИЗОВАННЫЕ ВЫЧИСЛЕНИЯ</a></li>
<li class="chapter" data-level="5.49" data-path="controls.html"><a href="controls.html#warning--dplyr----r--3.4.2"><i class="fa fa-check"></i><b>5.49</b> Warning: пакет ‘dplyr’ был собран под R версии 3.4.2</a></li>
<li class="chapter" data-level="5.50" data-path="controls.html"><a href="controls.html#section-152"><i class="fa fa-check"></i><b>5.50</b> </a></li>
<li class="chapter" data-level="5.51" data-path="controls.html"><a href="controls.html#--dplyr"><i class="fa fa-check"></i><b>5.51</b> Присоединяю пакет: ‘dplyr’</a></li>
<li class="chapter" data-level="5.52" data-path="controls.html"><a href="controls.html#----packagestats"><i class="fa fa-check"></i><b>5.52</b> Следующие объекты скрыты от ‘package:stats’:</a></li>
<li class="chapter" data-level="5.53" data-path="controls.html"><a href="controls.html#section-153"><i class="fa fa-check"></i><b>5.53</b> </a></li>
<li class="chapter" data-level="5.54" data-path="controls.html"><a href="controls.html#filter-lag"><i class="fa fa-check"></i><b>5.54</b> filter, lag</a></li>
<li class="chapter" data-level="5.55" data-path="controls.html"><a href="controls.html#----packagebase"><i class="fa fa-check"></i><b>5.55</b> Следующие объекты скрыты от ‘package:base’:</a></li>
<li class="chapter" data-level="5.56" data-path="controls.html"><a href="controls.html#section-154"><i class="fa fa-check"></i><b>5.56</b> </a></li>
<li class="chapter" data-level="5.57" data-path="controls.html"><a href="controls.html#intersect-setdiff-setequal-union"><i class="fa fa-check"></i><b>5.57</b> intersect, setdiff, setequal, union</a></li>
<li class="chapter" data-level="5.58" data-path="controls.html"><a href="controls.html#year-total-solid-flgas-so-no-co-ch-org"><i class="fa fa-check"></i><b>5.58</b> YEAR TOTAL SOLID FLGAS SO NO CO CH ORG</a></li>
<li class="chapter" data-level="5.59" data-path="controls.html"><a href="controls.html#section-155"><i class="fa fa-check"></i><b>5.59</b> 1 1992 28207.6 5609.1 22598.5 8171.3 2718.1 6813.0 2583.9 1608.9</a></li>
<li class="chapter" data-level="5.60" data-path="controls.html"><a href="controls.html#section-156"><i class="fa fa-check"></i><b>5.60</b> 2 1993 24788.3 4746.1 20042.2 7217.9 2462.0 5894.0 2386.7 1604.8</a></li>
<li class="chapter" data-level="5.61" data-path="controls.html"><a href="controls.html#section-157"><i class="fa fa-check"></i><b>5.61</b> 3 1994 21929.1 3870.2 18058.9 6512.5 2085.2 5140.8 2609.3 1238.0</a></li>
<li class="chapter" data-level="5.62" data-path="controls.html"><a href="controls.html#section-158"><i class="fa fa-check"></i><b>5.62</b> 4 1995 21269.6 3600.4 17669.2 6424.8 1996.6 5005.6 2735.7 1110.9</a></li>
<li class="chapter" data-level="5.63" data-path="controls.html"><a href="controls.html#section-159"><i class="fa fa-check"></i><b>5.63</b> 5 1996 20274.1 3233.4 17040.8 6156.7 1920.4 4876.6 2531.3 1161.8</a></li>
<li class="chapter" data-level="5.64" data-path="controls.html"><a href="controls.html#section-160"><i class="fa fa-check"></i><b>5.64</b> 6 1997 19332.9 3041.8 16291.1 5991.1 1799.7 4653.0 2554.2 989.9</a></li>
<li class="chapter" data-level="5.65" data-path="controls.html"><a href="controls.html#year-total-solid-flgas-so-no-co-ch-org-maxsrc"><i class="fa fa-check"></i><b>5.65</b> YEAR TOTAL SOLID FLGAS SO NO CO CH ORG MAXSRC</a></li>
<li class="chapter" data-level="5.66" data-path="controls.html"><a href="controls.html#so"><i class="fa fa-check"></i><b>5.66</b> 1 1992 28207.6 5609.1 22598.5 8171.3 2718.1 6813.0 2583.9 1608.9 SO</a></li>
<li class="chapter" data-level="5.67" data-path="controls.html"><a href="controls.html#so-1"><i class="fa fa-check"></i><b>5.67</b> 2 1993 24788.3 4746.1 20042.2 7217.9 2462.0 5894.0 2386.7 1604.8 SO</a></li>
<li class="chapter" data-level="5.68" data-path="controls.html"><a href="controls.html#so-2"><i class="fa fa-check"></i><b>5.68</b> 3 1994 21929.1 3870.2 18058.9 6512.5 2085.2 5140.8 2609.3 1238.0 SO</a></li>
<li class="chapter" data-level="5.69" data-path="controls.html"><a href="controls.html#so-3"><i class="fa fa-check"></i><b>5.69</b> 4 1995 21269.6 3600.4 17669.2 6424.8 1996.6 5005.6 2735.7 1110.9 SO</a></li>
<li class="chapter" data-level="5.70" data-path="controls.html"><a href="controls.html#so-4"><i class="fa fa-check"></i><b>5.70</b> 5 1996 20274.1 3233.4 17040.8 6156.7 1920.4 4876.6 2531.3 1161.8 SO</a></li>
<li class="chapter" data-level="5.71" data-path="controls.html"><a href="controls.html#so-5"><i class="fa fa-check"></i><b>5.71</b> 6 1997 19332.9 3041.8 16291.1 5991.1 1799.7 4653.0 2554.2 989.9 SO</a></li>
<li class="chapter" data-level="5.72" data-path="controls.html"><a href="controls.html#so-6"><i class="fa fa-check"></i><b>5.72</b> 7 1998 18661.8 2864.4 15797.4 5679.3 1753.3 4562.9 2571.6 921.9 SO</a></li>
<li class="chapter" data-level="5.73" data-path="controls.html"><a href="controls.html#so-7"><i class="fa fa-check"></i><b>5.73</b> 8 1999 18539.7 2768.4 15771.2 5505.5 1716.4 4663.9 2767.7 831.0 SO</a></li>
<li class="chapter" data-level="5.74" data-path="controls.html"><a href="controls.html#so-8"><i class="fa fa-check"></i><b>5.74</b> 9 2000 18819.8 2972.2 15847.6 5407.1 1698.4 4997.9 2685.4 850.4 SO</a></li>
<li class="chapter" data-level="5.75" data-path="controls.html"><a href="controls.html#so-9"><i class="fa fa-check"></i><b>5.75</b> 10 2001 19123.6 2973.2 16150.4 5254.0 1678.9 5148.1 2723.6 1130.8 SO</a></li>
<li class="chapter" data-level="5.76" data-path="controls.html"><a href="controls.html#co"><i class="fa fa-check"></i><b>5.76</b> 11 2002 19481.2 2882.8 16598.4 4987.4 1646.2 5857.5 2733.2 1164.8 CO</a></li>
<li class="chapter" data-level="5.77" data-path="controls.html"><a href="controls.html#co-1"><i class="fa fa-check"></i><b>5.77</b> 12 2003 19829.4 2868.0 16961.4 4959.6 1661.8 5929.4 2834.1 1356.5 CO</a></li>
<li class="chapter" data-level="5.78" data-path="controls.html"><a href="controls.html#co-2"><i class="fa fa-check"></i><b>5.78</b> 13 2004 20491.3 2855.7 17635.6 4768.4 1628.9 6774.4 2786.8 1448.2 CO</a></li>
<li class="chapter" data-level="5.79" data-path="controls.html"><a href="controls.html#co-3"><i class="fa fa-check"></i><b>5.79</b> 14 2005 20425.4 2802.0 17623.3 4675.0 1666.8 6521.2 2868.1 1650.6 CO</a></li>
<li class="chapter" data-level="5.80" data-path="controls.html"><a href="controls.html#co-4"><i class="fa fa-check"></i><b>5.80</b> 15 2006 20568.4 2842.8 17725.6 4764.7 1703.1 6338.3 2815.0 1863.1 CO</a></li>
<li class="chapter" data-level="5.81" data-path="controls.html"><a href="controls.html#co-5"><i class="fa fa-check"></i><b>5.81</b> 16 2007 20636.9 2743.4 17893.5 4573.1 1732.8 6448.4 2992.4 1908.6 CO</a></li>
<li class="chapter" data-level="5.82" data-path="controls.html"><a href="controls.html#co-6"><i class="fa fa-check"></i><b>5.82</b> 17 2008 20103.3 2704.2 17399.0 4534.1 1816.6 6091.5 3217.5 1532.0 CO</a></li>
<li class="chapter" data-level="5.83" data-path="controls.html"><a href="controls.html#co-7"><i class="fa fa-check"></i><b>5.83</b> 18 2009 19021.2 2341.1 16680.1 4370.6 1730.5 5500.5 3347.3 1546.0 CO</a></li>
<li class="chapter" data-level="5.84" data-path="controls.html"><a href="controls.html#co-8"><i class="fa fa-check"></i><b>5.84</b> 19 2010 19115.6 2381.2 16734.4 4385.3 1855.2 5565.1 3135.9 1605.3 CO</a></li>
<li class="chapter" data-level="5.85" data-path="controls.html"><a href="controls.html#co-9"><i class="fa fa-check"></i><b>5.85</b> 20 2011 19162.3 2283.1 16879.2 4342.7 1880.0 5753.5 3105.8 1622.8 CO</a></li>
<li class="chapter" data-level="5.86" data-path="controls.html"><a href="controls.html#co-10"><i class="fa fa-check"></i><b>5.86</b> 21 2012 19630.3 2249.4 17380.9 4340.9 1937.5 6001.8 3293.3 1638.2 CO</a></li>
<li class="chapter" data-level="5.87" data-path="controls.html"><a href="controls.html#co-11"><i class="fa fa-check"></i><b>5.87</b> 22 2013 18446.5 2008.5 16438.0 4173.3 1874.2 5350.9 3424.8 1455.8 CO</a></li>
<li class="chapter" data-level="5.88" data-path="controls.html"><a href="controls.html#co-12"><i class="fa fa-check"></i><b>5.88</b> 23 2014 17451.9 1922.2 15529.7 4036.3 1805.5 4938.4 3251.0 1340.0 CO</a></li>
<li class="chapter" data-level="5.89" data-path="controls.html"><a href="controls.html#co-13"><i class="fa fa-check"></i><b>5.89</b> 24 2015 17295.7 1820.4 15475.3 4099.4 1787.4 4799.6 3323.0 1294.5 CO</a></li>
<li class="chapter" data-level="5.90" data-path="controls.html"><a href="controls.html#co-14"><i class="fa fa-check"></i><b>5.90</b> 25 2016 17349.3 1723.9 15625.4 4011.4 1830.1 4907.1 3406.1 1304.6 CO</a></li>
<li class="chapter" data-level="5.91" data-path="controls.html"><a href="controls.html#minsrc"><i class="fa fa-check"></i><b>5.91</b> MINSRC</a></li>
<li class="chapter" data-level="5.92" data-path="controls.html"><a href="controls.html#org"><i class="fa fa-check"></i><b>5.92</b> 1 ORG</a></li>
<li class="chapter" data-level="5.93" data-path="controls.html"><a href="controls.html#org-1"><i class="fa fa-check"></i><b>5.93</b> 2 ORG</a></li>
<li class="chapter" data-level="5.94" data-path="controls.html"><a href="controls.html#org-2"><i class="fa fa-check"></i><b>5.94</b> 3 ORG</a></li>
<li class="chapter" data-level="5.95" data-path="controls.html"><a href="controls.html#org-3"><i class="fa fa-check"></i><b>5.95</b> 4 ORG</a></li>
<li class="chapter" data-level="5.96" data-path="controls.html"><a href="controls.html#org-4"><i class="fa fa-check"></i><b>5.96</b> 5 ORG</a></li>
<li class="chapter" data-level="5.97" data-path="controls.html"><a href="controls.html#org-5"><i class="fa fa-check"></i><b>5.97</b> 6 ORG</a></li>
<li class="chapter" data-level="5.98" data-path="controls.html"><a href="controls.html#org-6"><i class="fa fa-check"></i><b>5.98</b> 7 ORG</a></li>
<li class="chapter" data-level="5.99" data-path="controls.html"><a href="controls.html#org-7"><i class="fa fa-check"></i><b>5.99</b> 8 ORG</a></li>
<li class="chapter" data-level="5.100" data-path="controls.html"><a href="controls.html#org-8"><i class="fa fa-check"></i><b>5.100</b> 9 ORG</a></li>
<li class="chapter" data-level="5.101" data-path="controls.html"><a href="controls.html#org-9"><i class="fa fa-check"></i><b>5.101</b> 10 ORG</a></li>
<li class="chapter" data-level="5.102" data-path="controls.html"><a href="controls.html#org-10"><i class="fa fa-check"></i><b>5.102</b> 11 ORG</a></li>
<li class="chapter" data-level="5.103" data-path="controls.html"><a href="controls.html#org-11"><i class="fa fa-check"></i><b>5.103</b> 12 ORG</a></li>
<li class="chapter" data-level="5.104" data-path="controls.html"><a href="controls.html#org-12"><i class="fa fa-check"></i><b>5.104</b> 13 ORG</a></li>
<li class="chapter" data-level="5.105" data-path="controls.html"><a href="controls.html#org-13"><i class="fa fa-check"></i><b>5.105</b> 14 ORG</a></li>
<li class="chapter" data-level="5.106" data-path="controls.html"><a href="controls.html#no"><i class="fa fa-check"></i><b>5.106</b> 15 NO</a></li>
<li class="chapter" data-level="5.107" data-path="controls.html"><a href="controls.html#no-1"><i class="fa fa-check"></i><b>5.107</b> 16 NO</a></li>
<li class="chapter" data-level="5.108" data-path="controls.html"><a href="controls.html#org-14"><i class="fa fa-check"></i><b>5.108</b> 17 ORG</a></li>
<li class="chapter" data-level="5.109" data-path="controls.html"><a href="controls.html#org-15"><i class="fa fa-check"></i><b>5.109</b> 18 ORG</a></li>
<li class="chapter" data-level="5.110" data-path="controls.html"><a href="controls.html#org-16"><i class="fa fa-check"></i><b>5.110</b> 19 ORG</a></li>
<li class="chapter" data-level="5.111" data-path="controls.html"><a href="controls.html#org-17"><i class="fa fa-check"></i><b>5.111</b> 20 ORG</a></li>
<li class="chapter" data-level="5.112" data-path="controls.html"><a href="controls.html#org-18"><i class="fa fa-check"></i><b>5.112</b> 21 ORG</a></li>
<li class="chapter" data-level="5.113" data-path="controls.html"><a href="controls.html#org-19"><i class="fa fa-check"></i><b>5.113</b> 22 ORG</a></li>
<li class="chapter" data-level="5.114" data-path="controls.html"><a href="controls.html#org-20"><i class="fa fa-check"></i><b>5.114</b> 23 ORG</a></li>
<li class="chapter" data-level="5.115" data-path="controls.html"><a href="controls.html#org-21"><i class="fa fa-check"></i><b>5.115</b> 24 ORG</a></li>
<li class="chapter" data-level="5.116" data-path="controls.html"><a href="controls.html#org-22"><i class="fa fa-check"></i><b>5.116</b> 25 ORG</a></li>
<li class="chapter" data-level="5.117" data-path="controls.html"><a href="controls.html#warning-in-mean.defaultxi-----"><i class="fa fa-check"></i><b>5.117</b> Warning in mean.default(X[[i]], …): аргумент не является числовым или</a></li>
<li class="chapter" data-level="5.118" data-path="controls.html"><a href="controls.html#--na"><i class="fa fa-check"></i><b>5.118</b> логическим: возвращаю NA</a></li>
<li class="chapter" data-level="5.119" data-path="data-structures.html"><a href="data-structures.html#----"><i class="fa fa-check"></i><b>5.119</b> Регион Площадь Население Трудящиеся Доход</a></li>
<li class="chapter" data-level="5.120" data-path="controls.html"><a href="controls.html#na-2137.287-17958.362-8487.625-25077.125"><i class="fa fa-check"></i><b>5.120</b> NA 2137.287 17958.362 8487.625 25077.125</a></li>
<li class="chapter" data-level="5.121" data-path="index.html"><a href="index.html#---"><i class="fa fa-check"></i><b>5.121</b> Расходы Зарплата ВРП Активы</a></li>
<li class="chapter" data-level="5.122" data-path="controls.html"><a href="controls.html#section-161"><i class="fa fa-check"></i><b>5.122</b> 18338.375 28976.375 6239994.875 16690191.375</a></li>
<li class="chapter" data-level="5.123" data-path="controls.html"><a href="controls.html#warning--purrr----r--3.4.2"><i class="fa fa-check"></i><b>5.123</b> Warning: пакет ‘purrr’ был собран под R версии 3.4.2</a></li>
<li class="chapter" data-level="5.124" data-path="controls.html"><a href="controls.html#warning-in-mean.default.xi-----"><i class="fa fa-check"></i><b>5.124</b> Warning in mean.default(.x[[i]], …): аргумент не является числовым или</a></li>
<li class="chapter" data-level="5.125" data-path="controls.html"><a href="controls.html#--na-1"><i class="fa fa-check"></i><b>5.125</b> логическим: возвращаю NA</a></li>
<li class="chapter" data-level="5.126" data-path="controls.html"><a href="controls.html#-----1"><i class="fa fa-check"></i><b>5.126</b> Регион Площадь Население Трудящиеся Доход</a></li>
<li class="chapter" data-level="5.127" data-path="controls.html"><a href="controls.html#na-2137.287-17958.362-8487.625-25077.125-1"><i class="fa fa-check"></i><b>5.127</b> NA 2137.287 17958.362 8487.625 25077.125</a></li>
<li class="chapter" data-level="5.128" data-path="controls.html"><a href="controls.html#----1"><i class="fa fa-check"></i><b>5.128</b> Расходы Зарплата ВРП Активы</a></li>
<li class="chapter" data-level="5.129" data-path="controls.html"><a href="controls.html#section-162"><i class="fa fa-check"></i><b>5.129</b> 18338.375 28976.375 6239994.875 16690191.375</a></li>
<li class="chapter" data-level="5.130" data-path="controls.html"><a href="controls.html#questions_tasks_controls"><i class="fa fa-check"></i><b>5.130</b> Контрольные вопросы и задачи</a><ul>
<li class="chapter" data-level="5.130.1" data-path="controls.html"><a href="controls.html#questions_controls"><i class="fa fa-check"></i><b>5.130.1</b> Вопросы</a></li>
<li class="chapter" data-level="5.130.2" data-path="controls.html"><a href="controls.html#tasks_controls"><i class="fa fa-check"></i><b>5.130.2</b> Задачи</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i><b>6</b> Пространственные данные в R</a><ul>
<li class="chapter" data-level="6.1" data-path="spatial-data.html"><a href="spatial-data.html#spatial_models"><i class="fa fa-check"></i><b>6.1</b> Модели пространственных данных</a><ul>
<li class="chapter" data-level="6.1.1" data-path="spatial-data.html"><a href="spatial-data.html#simple_features"><i class="fa fa-check"></i><b>6.1.1</b> Векторные данные</a></li>
<li class="chapter" data-level="6.1.2" data-path="spatial-data.html"><a href="spatial-data.html#raster_data"><i class="fa fa-check"></i><b>6.1.2</b> Растровые данные</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="spatial-data.html"><a href="spatial-data.html#spatref"><i class="fa fa-check"></i><b>6.2</b> Пространственная привязка</a><ul>
<li class="chapter" data-level="6.2.1" data-path="spatial-data.html"><a href="spatial-data.html#spatref_components"><i class="fa fa-check"></i><b>6.2.1</b> Компоненты пространственной привязки</a></li>
<li class="chapter" data-level="6.2.2" data-path="spatial-data.html"><a href="spatial-data.html#spatref_formats"><i class="fa fa-check"></i><b>6.2.2</b> Форматы описания пространственной привязки</a></li>
<li class="chapter" data-level="6.2.3" data-path="spatial-data.html"><a href="spatial-data.html#spatref_transform"><i class="fa fa-check"></i><b>6.2.3</b> Преобразование координат</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="spatial-data.html"><a href="spatial-data.html#vector_data_r"><i class="fa fa-check"></i><b>6.3</b> Векторные данные</a><ul>
<li class="chapter" data-level="6.3.1" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>6.3.1</b> Базовые библиотеки</a></li>
<li class="chapter" data-level="6.3.2" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.3.2</b> Чтение векторных данных</a></li>
<li class="chapter" data-level="6.3.3" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>6.3.3</b> Внутренняя структура</a></li>
<li class="chapter" data-level="6.3.4" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.3.4</b> Базовые возможности отображения</a></li>
<li class="chapter" data-level="6.3.5" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>6.3.5</b> Пространственная привязка</a></li>
<li class="chapter" data-level="6.3.6" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>6.3.6</b> Атрибутивные операции</a></li>
<li class="chapter" data-level="6.3.7" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.3.7</b> Выборка по местоположению</a></li>
<li class="chapter" data-level="6.3.8" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.3.8</b> Работа с геометрией</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="spatial-data.html"><a href="spatial-data.html#raster_data_r"><i class="fa fa-check"></i><b>6.4</b> Растровые данные</a><ul>
<li class="chapter" data-level="6.4.1" data-path="spatial-data.html"><a href="spatial-data.html#section-6.4.1"><i class="fa fa-check"></i><b>6.4.1</b> Чтение</a></li>
<li class="chapter" data-level="6.4.2" data-path="spatial-data.html"><a href="spatial-data.html#--1"><i class="fa fa-check"></i><b>6.4.2</b> Внутренняя структура</a></li>
<li class="chapter" data-level="6.4.3" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.4.3</b> Базовые возможности визуализации</a></li>
<li class="chapter" data-level="6.4.4" data-path="spatial-data.html"><a href="spatial-data.html#section-6.4.4"><i class="fa fa-check"></i><b>6.4.4</b> Проецирование</a></li>
<li class="chapter" data-level="6.4.5" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.4.5</b> Операции со значениями</a></li>
<li class="chapter" data-level="6.4.6" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>6.4.6</b> Операции с геометрией</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="spatial-data.html"><a href="spatial-data.html#questions_tasks_spatial"><i class="fa fa-check"></i><b>6.5</b> Контрольные вопросы и задачи</a><ul>
<li class="chapter" data-level="6.5.1" data-path="spatial-data.html"><a href="spatial-data.html#questions_spatial"><i class="fa fa-check"></i><b>6.5.1</b> Вопросы</a></li>
<li class="chapter" data-level="6.5.2" data-path="spatial-data.html"><a href="spatial-data.html#tasks_spatial"><i class="fa fa-check"></i><b>6.5.2</b> Задачи</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://istina.msu.ru/profile/tsamsonov/" target="blank">Тимофей Самсонов</a></li>
<li><a href="https://doi.org/10.5281/zenodo.901911"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.901911.svg" title="DOI"></a><li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Визуализация и анализ географических данных на языке R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="spatial_data" class="section level1">
<h1><span class="header-section-number">Глава 6</span> Пространственные данные в R</h1>
<p><strong>Необходимые пакеты:</strong> <code>sf, raster, dplyr, RColorBrewer</code></p>
<p>Данный модуль посвящен введению в работу с пространственными данными в R. Рассмотрены общие вопросы моделирования реального мира средствами моделей пространственных данных. Рассматривается чтение векторных и растровых данных, их визуализация стандартными средствами.</p>
<div id="spatial_models" class="section level2">
<h2><span class="header-section-number">6.1</span> Модели пространственных данных</h2>
<p><strong>Пространственные данные</strong> — это данные о пространственных объектах и их наборах. В свою очередь, пространственный объект определяется как <em>цифровая модель материального или абстрактного объекта реального или виртуального мира с указанием его идентификатора, координатных и атрибутивных данных</em>.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>Если говорить по сути, то пространственные данные можно определить как <em>данные о географических объектах или явлениях, фиксирующие их местоположение и/или распределение в системе координат, привязанной к телу Земли или любого другого небесного тела</em>. Таким образом, отличительной особенностью пространственных данных перед непространственными является координатное описание местоположения. Важно знать отличия между векторной и растровой моделью пространственных данных.</p>
<p><strong>Векторная модель</strong> пространственных данных включает описание координатных данных пространственных объектов и, возможно, топологических отношений между ними. Векторные данные фиксируют местоположение и форму объектов в виде геометрических примитивов, таких как точки, линии, полигоны, объемные тела. Выбор модели объекта (например, представить город точкой или полигоном) зависит от масштаба анализа и целей исследования. Векторная модель данных является объектно-ориентированной.</p>
<p><strong>Растровая модель</strong> описывает не объекты, а пространственное распределение некоторой (выбранной исследователем) характеристики. Пространство разбивается регулярной сеткой ячеек, в каждой ячейке фиксируется значение исследуемого параметра (путем статистического осреднения, семплирования в центре ячейки и т.п.). Растровые данные могут быть как количественными (например, поле температуры), так и качественными (например, растр классифицированного снимка, каждая ячейка которого фиксирует принадлежность к тому или иному типу объекта). Таким образом, растровая модель является пространственно-ориентированной (или феномен-ориентированной).</p>
<p>Существуют и другие модели пространственных данных, однако их рассмотрение выходит за рамки настоящей лекции.</p>
<p>В настоящей лекции мы познакомимся с чтением и визуализацией пространственных данных в векторном и растровом формате, а также рассмотрим вопросы связанные с использованием картографических проекций.</p>
<div id="simple_features" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Векторные данные</h3>
<p><strong>Simple Features</strong> (официально <em>Simple Features Access</em>) — это стандарт <a href="http://www.opengeospatial.org/standards/sfa">OGC 06-103</a>, разработанный Open Geospatial Consortium (OGC) и реализованный также в виде международного стандарта <a href="https://www.iso.org/standard/40114.html">ISO 19125</a>, который определяет общую модель хранения и доступа к векторным объектам (точка, линия, многоугольник, мульти точечные, мультилинии и т. д.), в географических информационных системах.</p>
<p>Геометрическое представление пространственных объектов базируется на следующих принципах:</p>
<ul>
<li>Все геометрии состоят из точек.</li>
<li>Точки являются координатами в 2-, 3- или 4-мерном пространстве.</li>
<li>Все точки в геометрии имеют одинаковую размерность.</li>
</ul>
<p>В дополнение к координатам <span class="math inline">\(X\)</span> и <span class="math inline">\(Y\)</span> имеются два дополнительных дополнительных параметра:</p>
<ul>
<li>координата <span class="math inline">\(Z\)</span>, обозначающая высоту</li>
<li>координата <span class="math inline">\(M\)</span>, обозначающая некоторую меру, связанную с точкой, а не с признаком в целом (в этом случае это будет атрибут объекта).</li>
</ul>
<p>Измерение <span class="math inline">\(M\)</span> может быть использовано, например, для представления времени или линейных координат (для маршрутов).</p>
<p>Координаты простой геометрии всегда содержат компоненты <span class="math inline">\(X\)</span> и <span class="math inline">\(Y\)</span>, поэтому все разнообразие возможных представлений определяется наличием или отсутствием дополнительных измерений <span class="math inline">\(Z\)</span> и <span class="math inline">\(M\)</span> Таким образом, получаем <strong>четыре</strong> варианта геометрии:</p>
<ul>
<li>двумерные точки <span class="math inline">\(XY\)</span></li>
<li>трехмерные точки <span class="math inline">\(XYZ\)</span></li>
<li>трехмерные точки <span class="math inline">\(XYM\)</span></li>
<li>четырехмерные точки <span class="math inline">\(XYZM\)</span></li>
</ul>
<p>В случае использования широт и долгот <span class="math inline">\(X\)</span> соответствует долготе, <span class="math inline">\(Y\)</span> соответствует широте.</p>
<p>Всего стандарт <strong>Simple Features</strong> включает в себя 17 типов геометрий. Из них наиболее употребительными являются следующие 7:</p>
<table>
<colgroup>
<col width="5%" />
<col width="94%" />
</colgroup>
<thead>
<tr class="header">
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>POINT</code></td>
<td>нуль-мерная геометрия, содержащая одну точку</td>
</tr>
<tr class="even">
<td><code>LINESTRING</code></td>
<td>последовательность точек, соединенных прямыми, несамопересекающимися отрезками; одномерная геометрия</td>
</tr>
<tr class="odd">
<td><code>POLYGON</code></td>
<td>геометрия с положительной площадью (двумерная); последовательность точек, отрезки между которыми формируют замкнутое кольцо без самопересечений; первое кольцо является внешним, ноль и более остальных колец представляют дырки внетри полигона</td>
</tr>
<tr class="even">
<td><code>MULTIPOINT</code></td>
<td>множество точек; геометрия типа <code>MULTIPOINT</code> называется <em>простой</em> если ни одна пара точек в <code>MULTIPOINT</code> не совпадает</td>
</tr>
<tr class="odd">
<td><code>MULTILINESTRING</code></td>
<td>множество линий</td>
</tr>
<tr class="even">
<td><code>MULTIPOLYGON</code></td>
<td>множество полигонов</td>
</tr>
<tr class="odd">
<td><code>GEOMETRYCOLLECTION</code></td>
<td>множество геометрий произвольного типа за исключением <code>GEOMETRYCOLLECTION</code></td>
</tr>
</tbody>
</table>
<p>Примеры различных видов геометрий представлены на рисунке ниже:</p>
<pre><code>## Загрузка требуемого пакета: methods
## Linking to GEOS 3.6.1, GDAL 2.1.3, proj.4 4.9.3</code></pre>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-2-1.png" width="1536" /></p>
<p>Оставшиеся виды геометрий <em>Simple Features</em> включают: <code>CIRCULARSTRING</code>, <code>COMPOUNDCURVE</code>, <code>CURVEPOLYGON</code>, <code>MULTICURVE</code>, <code>MULTISURFACE</code>, <code>CURVE</code>, <code>SURFACE</code>, <code>POLYHEDRALSURFACE</code>, <code>TIN</code>, <code>TRIANGLE</code>.</p>
<p>Существует два официально закрепленных формата представления SF: <em>Well-Known Text (WKT)</em> и <em>Well-Known Binary (WKB)</em>, которые необходимы для чтения таких данных человеком и машиной соответственно.</p>
<p><strong>Well-Known Text (WKT)</strong> — стандарт представления геометрии в виде множества списков координат, в которых координаты вершин разделены пробелами, вершины разделены запятыми, а компоненты полигонов и мультигеометрий заключены в круглые скобки и также разделены запятыми. Вышеприведенной картинке соответствуют следующие строки <em>WKT</em>:</p>
<pre><code>## MULTIPOINT (3.2 4, 3 4.6, 3.8 4.4, 3.5 3.8, 3.4 3.6, 3.9 4.5)
## LINESTRING (0 3, 0 4, 1 5, 2 5)
## MULTILINESTRING ((0 3, 0 4, 1 5, 2 5), (0.2 3, 0.2 4, 1 4.8, 2 4.8), (0 4.4, 0.6 5))
## POLYGON ((0 0, 1 0, 3 2, 2 4, 1 4, 0 0), (1 1, 1 2, 2 2, 1 1))
## MULTIPOLYGON (((0 0, 1 0, 3 2, 2 4, 1 4, 0 0), (1 1, 1 2, 2 2, 1 1)), ((3 0, 4 0, 4 1, 3 1, 3 0), (3.3 0.3, 3.3 0.8, 3.8 0.8, 3.8 0.3, 3.3 0.3)), ((3 3, 4 2, 4 3, 3 3)))
## GEOMETRYCOLLECTION (MULTIPOINT (3.2 4, 3 4.6, 3.8 4.4, 3.5 3.8, 3.4 3.6, 3.9 4.5), MULTIPOLYGON (((0 0, 1 0, 3 2, 2 4, 1 4, 0 0), (1 1, 1 2, 2 2, 1 1)), ((3 0, 4 0, 4 1, 3 1, 3 0), (3.3 0.3, 3.3 0.8, 3.8 0.8, 3.8 0.3, 3.3 0.3)), ((3 3, 4 2, 4 3, 3 3))), LINESTRING (0 3, 0 4, 1 5, 2 5))</code></pre>
<p><strong>Well-Known Binary (WKB)</strong> — бинарный формат хранения координат. Именно этот формат фактически используется в базах данных, поскольку он обеспечивает высокую скорость чтения и записи данных (в отлиие от текстового). Однако внешний вид данных в формате WKB мало о чем говорит человеку, поскольку он предназначен для чтения компьютером. Например, вышеприведенная строка <code>LINESTRING</code> будет выглядеть так:</p>
<pre><code>## 01 02 00 00 00 04 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 40 00 00 00 00 00 00 00 00 00 00 00 00 00 00 10 40 00 00 00 00 00 00 f0 3f 00 00 00 00 00 00 14 40 00 00 00 00 00 00 00 40 00 00 00 00 00 00 14 40</code></pre>
</div>
<div id="raster_data" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Растровые данные</h3>
<p><strong>Растр</strong> представляет из себя матрицу значений. Каждой ячейке матрицы соответствует прямоугольная пространственная область фиксированного размера, которая называется <em>пикселом</em>. Различают растры <em>непрерывные</em> и <em>категориальные (классифицированные)</em>. Также необходимо разделять <em>одноканальные</em> и <em>многоканальные растры</em>. Примером одноканального растра является цифровая модель рельфа. В виде многоканальных растров часто представляют космические снимки.</p>
<p>В отличие от векторных данных, которые требут указания координат для каждой вершины, регулярно-ячеистый характер растровой модели позволяет вычислять координаты пикселов на основе их индексов. Поэтому фактически растровые данные хранятся в виде линейно упорядоченного списка значений <em>(raster values)</em> и описания геометрии растра <em>(raster geometry)</em>.</p>
<p><strong>Геометрия растра</strong> определяет, где именно располагаются в пространстве пикселы растра и может быть описана путем указания следующих компонент<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>:</p>
<table>
<thead>
<tr class="header">
<th>Параметр</th>
<th>Назначение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>NCOLS</code></td>
<td>Количество столбцов</td>
</tr>
<tr class="even">
<td><code>NROWS</code></td>
<td>Количество строк</td>
</tr>
<tr class="odd">
<td><code>XLLCENTER</code></td>
<td>Координата <span class="math inline">\(X\)</span> центра левой нижней ячейки растра</td>
</tr>
<tr class="even">
<td><code>YLLCENTER</code></td>
<td>Координата <span class="math inline">\(Y\)</span> центра левой нижней ячейки растра</td>
</tr>
<tr class="odd">
<td><code>CELLSIZE</code></td>
<td>Размер ячейки</td>
</tr>
</tbody>
</table>
<p>Иногда вместо параметров <code>XLLCENTER</code>/<code>YLLCENTER</code> указываются <code>XLLCORNER</code>/<code>YLLCORNER</code>, которые кодируют координаты левого нижнего угла, а не центра левой нижней ячейки растра. Выбор одного из двух этих вариантов определяет тип <em>регистрации растра</em>, а их значения указывают, в какое именно место необходимо “посадить” растр, чтобы его ячейки заняли соответствующие им области в системе координат. Если геометрия растра характеризуется <em>анизотропией</em>, то вместо одного значения <code>CELLSIZE</code> могут быть указаны разные размеры ячеек по осям координат <code>CELLSIZEX</code> и <code>CELLSIZEY</code>.</p>
<p>В отличие от векторной модели, которая позволяет хранить данные только о нужных географических локациях, растровая модель такой свободы не предоставляет. Матрица ячеек растра всегда покрывает область данных целиком, и за простоту растровой структуры приходится расплачиваться ее неэкономичностью. Поскольку часто данные имеются не на всю территорию, возникает необходимость кодирования ячеек, для которых данные не известны, специальным числом (назовем его условно <code>NODATA_VALUE</code>). Значение этого числа хранится в метаданных растра и позволяет интерпретировать соответствующие ячейки как пустые.</p>
</div>
</div>
<div id="spatref" class="section level2">
<h2><span class="header-section-number">6.2</span> Пространственная привязка</h2>
<div id="spatref_components" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Компоненты пространственной привязки</h3>
<p><strong>Пространственная привязка</strong> (<em>spatial reference</em> или <em>georeference</em>) — важнейшая составляющая пространственных данных, которая говорит нам о том, как правильно интерпретировать координаты объектов. Пространственная привязка в простейшем случае включает несколько фундаментальных компонент:</p>
<ol style="list-style-type: decimal">
<li><em>Эллипсоид вращения</em> — тело, по отношению к которому вычисляются геодезические координаты точек (широты и долготы)</li>
<li><em>Исходные геодезические даты (датум)</em> — параметры положения эллипсоида в теле Земли</li>
<li><em>Географическая система координат</em> — включает датум, положение начального меридиана и единицы измерения широт и долгот</li>
<li><em>Проекция</em> — математический спопоб перехода от географических координат на эллипсоиде к плоским прямоугольным координатам карты.</li>
<li><em>Плоская прямоугольная система координат</em> — включает проекцию, ее параметры и единицы измерения координат.</li>
</ol>
<p>Если точки имеют также координаты <span class="math inline">\(Z\)</span>, то для их правильной интерпретации необходимы дополнительные компоненты пространственной привязки:</p>
<ol style="list-style-type: decimal">
<li><em>Система счета высот</em> (геодезические, нормальные, ортометрические) - определяют содержательный смысл и порядок вычисления высот и глубин (координата Z)</li>
<li><em>Модель геоида, квазигеоида или эллипсоида</em> — определяет поверхность, относительно которой вычисляются высоты точек.</li>
<li><em>Вертикальная система координат</em> — фактическая реализация системы счета высот относительно конкретной поверхности относимости с заданным положением нулевого уровня. Например, в России это <em>Балтийская система нормальных высот</em> с нулем в г. Кронштадт.</li>
</ol>
<p>Аналогичным образом требуется введение системы счета дополнительных координат <span class="math inline">\(M\)</span>, если они используются в представлении координат.</p>
</div>
<div id="spatref_formats" class="section level3">
<h3><span class="header-section-number">6.2.2</span> Форматы описания пространственной привязки</h3>
<p>Существует три распространенных способа задания (хранения) пространственной привязки:</p>
<ul>
<li><em>PROJ.4 String</em> — представление в виде строки.</li>
<li><em>WKT (Well-Known Text)</em> — представление в виде иерархического списка.</li>
<li><em>EPSG (European Petroleum Survey Group)</em> — представление в виде числового кода.</li>
</ul>
<p>Для поиска проекций в перечисленных форматах представления удобно воспользоваться порталом <a href="spatialreference.org" class="uri">spatialreference.org</a>.</p>
<p><strong>PROJ.4 String</strong> — строковый формат представления информации о пространственной привязки, используемый в библиотеке <a href="http://proj4.org">PROJ.4</a>. Данная библиотека лежит в основе координатных систем пространственных данных, используется в <strong>R</strong>, <strong>Python</strong>, <strong>QGIS</strong> и прочих средах. Основные параметры строки:</p>
<pre><code>+datum     Datum name (see `proj -ld`)
+ellps     Ellipsoid name (see `proj -le`)
+lat_0     Latitude of origin
+lat_1     Latitude of first standard parallel
+lat_2     Latitude of second standard parallel
+lat_ts    Latitude of true scale
+lon_0     Central meridian
+proj      Projection name (see `proj -l`)
+units     meters, US survey feet, etc.
+vunits    vertical units.
+x_0       False easting
+y_0       False northing
+zone      UTM zone</code></pre>
<p>Примеры записи координат в формате PROJ.4:</p>
<ul>
<li>Географические координаты в <em>WGS84</em> (без проекции):</li>
</ul>
<pre><code>## +proj=longlat +datum=WGS84 +no_defs</code></pre>
<ul>
<li>Координаты в проекции <em>Web Mercator</em> (проекция Google Maps, Яндекс.Карт и т.д.):</li>
</ul>
<pre><code>## +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs</code></pre>
<ul>
<li>Координаты в <em>конической равнопромежуточной проекции</em>:</li>
</ul>
<pre><code>## +proj=eqdc +lat_0=0 +lon_0=0 +lat_1=60 +lat_2=60 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs</code></pre>
<ul>
<li>Координаты в проекции <em>UTM, зона 37</em>:</li>
</ul>
<pre><code>## +proj=utm +zone=37 +datum=WGS84 +units=m +no_defs</code></pre>
<p>Запись координат в формате WKT предполагает представление вышеуказанных компонент пространственной привязки к виде иерерхического списка. Например, так будет выглядеть информация о <em>полярной стереографической проекции для карт России</em>:</p>
<pre><code>PROJCS[&quot;WGS 84 / EPSG Russia Polar Stereographic&quot;,
    GEOGCS[&quot;WGS 84&quot;,
        DATUM[&quot;WGS_1984&quot;,
            SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
                AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
            AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
        PRIMEM[&quot;Greenwich&quot;,0,
            AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
        UNIT[&quot;degree&quot;,0.0174532925199433,
            AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
        AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],
    PROJECTION[&quot;Polar_Stereographic&quot;],
    PARAMETER[&quot;latitude_of_origin&quot;,90],
    PARAMETER[&quot;central_meridian&quot;,105],
    PARAMETER[&quot;scale_factor&quot;,0.994],
    PARAMETER[&quot;false_easting&quot;,2000000],
    PARAMETER[&quot;false_northing&quot;,2000000],
    UNIT[&quot;metre&quot;,1,
        AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],
    AXIS[&quot;X&quot;,EAST],
    AXIS[&quot;Y&quot;,NORTH],
    AUTHORITY[&quot;EPSG&quot;,&quot;5940&quot;]]</code></pre>
<p><strong>EPSG (European Petroleum Survey Group)</strong> — европейская рабочая группа нефтегазовой области, которая ведет реестр систем координат с уникальными цифровыми кодами вида <code>EPSG:xxxxxx</code>. Коды EPSG оказались настолько удобны, что используются повсеместно для быстрой инициализации проекций со стандартными параметрами. Например, вышеприведенные проекции имеют следующие коды EPSG:</p>
<ul>
<li><em>WGS84</em>: <code>EPSG:4326</code></li>
<li><em>Web Mercator</em>: <code>EPSG:3857</code></li>
<li><em>UTM</em>: <code>EPSG:326..</code> , например для UTM 37N: <code>EPSG:32637</code></li>
</ul>
</div>
<div id="spatref_transform" class="section level3">
<h3><span class="header-section-number">6.2.3</span> Преобразование координат</h3>
<p>Преобразование координат включает три различных операции:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Трансформирование</strong> — пересчет географических координат с одного датума на другой</p></li>
<li><p><strong>Проецирование</strong> — переход от географических координат к плоским прямоугольным</p></li>
<li><p><strong>Обратное проецирование</strong> — переход от плоских координат к прямоугольным.</p></li>
</ol>
<p>Например, чтобы пересчитать координаты <em>UTM</em> в проекцию <em>Гаусса-Крюгера</em>, необходимо:</p>
<ol style="list-style-type: decimal">
<li>Обратно проецировать координаты в географические <em>WGS84</em></li>
<li>Трансформировать географические координаты c <em>WGS84</em> в <em>ГСК-2011</em></li>
<li>Проецировать координаты <em>ГСК-2011</em> в проекцию <em>Гаусса-Крюгера</em></li>
</ol>
<p><em>Несоответствие датумов часто является причиной того, что данные из разных наборов плохо совмещаются друг с другом</em></p>
</div>
</div>
<div id="vector_data_r" class="section level2">
<h2><span class="header-section-number">6.3</span> Векторные данные</h2>
<div id="-" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Базовые библиотеки</h3>
<p>В R существует высоко развитая инфраструктура для работы с векторными данными, которая обеспечивается пакетом <a href="https://cran.r-project.org/web/packages/sf/index.html">sf</a>. Этот пакет появился сосвсем недавно (в 2016 году). Ранее поддержка пространственных данных обеспечивалась пакетом <a href="https://cran.r-project.org/web/packages/sp/index.html">sp</a>, который по прежнему активно используется, и на который “завязано” множество других библиотек. Существующая в настоящий момент инфраструктура кратко показана ниже:</p>
<div class="figure">
<img src="images/sf_architecture.png" alt="Архитектура программных библиотек для работы с пространственными данными в R" />
<p class="caption">Архитектура программных библиотек для работы с пространственными данными в R</p>
</div>
<p>Исторический пакет <code>sp</code> обеспечивал (и продолжает обеспечивать) поддержку пространственных данных в виде специальных классов данных типа <code>Spatial</code>, реализуя классы как для чисто геометрических объектов (<code>SpatialPolygons</code>), так и для пространственных объектов с атрибутами (<code>SpatialPolygonsDataFrame</code>). Во втором случае набор объектов имеет ассоциированную с ним таблицу атрибутов. С классами типа <code>Spatial</code> существут несколько проблем. Во-первых, они не являются объектами типа <code>data.frame</code> (не расширяют их), а являются самостоятельным классом объектов, поэтому к ним часто невозможно корректно применить стандартные операции трансформации таблиц (типа тех, что доступны в пакете <strong>dplyr</strong>). Во-вторых, объекты типа <code>Spatial</code> не реализуют существующие стандарты представления пространственных данных (типа <em>Simple Features</em>), что накладывает ограничения на их интероперабельность с современными форматами данных (например, <a href="http://www.geopackage.org">GeoPackage</a>).</p>
<p>Пакет <a href="https://cran.r-project.org/web/packages/sf/index.html">sf</a> решает все эти проблемы. Множество функций, которые были раньше разбросаны по нескольким пакетам <strong>R</strong> (sp, rgdal, rgeos), теперь доступны в одном интерфейсе:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sf)
<span class="kw">methods</span>(<span class="dt">class =</span> <span class="st">&quot;sf&quot;</span>) <span class="co"># Посмотрим, какие методы доступных для объектов класса sf</span>
##  [1] [                     [[&lt;-                  $&lt;-                  
##  [4] aggregate             cbind                 coerce               
##  [7] initialize            merge                 plot                 
## [10] print                 rbind                 show                 
## [13] slotsFromS3           st_agr                st_agr&lt;-             
## [16] st_as_sf              st_bbox               st_boundary          
## [19] st_buffer             st_cast               st_centroid          
## [22] st_collection_extract st_convex_hull        st_coordinates       
## [25] st_crs                st_crs&lt;-              st_difference        
## [28] st_geometry           st_geometry&lt;-         st_intersection      
## [31] st_is                 st_line_merge         st_make_valid        
## [34] st_node               st_point_on_surface   st_polygonize        
## [37] st_precision          st_segmentize         st_set_precision     
## [40] st_simplify           st_split              st_sym_difference    
## [43] st_transform          st_triangulate        st_union             
## [46] st_voronoi            st_zm                
## see &#39;?methods&#39; for accessing help and source code</code></pre></div>
<p>Cо многими из этих функций мы познакомимся в последующих разделах нашего курса. Некоторые из них (такие как <code>arrange</code>, <code>filter</code>, <code>mutate</code> из пакета <strong>dplyr</strong>), должны быть уже знакомы вам по предыдущим лекциям. Можно обратить внимание на то, что практически все функции начинаются с префикса <code>st_</code>, что означает <strong>“spatiotemporal”</strong>. Данные префиксы были выбраны для унификации с аналогичными названиями функций, используемых в широко распространенной СУБД PostgreSQL для оперирования объектами Simple Features.</p>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Чтение векторных данных</h3>
<p>Существует большое множество форматов хранения пространственных данных. Но в общем и целом их можно разделить на две категории: файловые форматы (наиболее привычные пользователям) и хранение данных в СУБД — системах управления базами данных. Благодаря библиотеке GDAL пакет <strong>sf</strong> имеет возможность читать и записывать <a href="http://www.gdal.org/ogr_formats.html">более 90 различных форматов векторных даных</a>. Разумеется, не все из них общеупотребительны. Исторически наиболее распространенным форматом был (и остается) <a href="https://www.esri.com/library/whitepapers/pdfs/shapefile.pdf">ESRI Shapefile</a>. Данный формат, однако не отвечает современным техническим требованиям с точки зрения гибкости, соответствия стандартам и возможностям хранения разнообразных типов геометрий (напомним, что в стандарте Simple Features их 17, а с учетом четырех вариантов размерности точек получается целых 68 ). Современный формат, который позволяет делать это (и не только), это <a href="http://www.geopackage.org">GeoPackage</a>. Именно его мы и будем использовать в нашем практикуме.</p>
<p>Для чтения данных средствами sf необходимо использовать функцию <code>st_read()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">countries &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&#39;ne/countries.gpkg&#39;</span>)
## Reading layer `admin_0_map_units&#39; from data source `/Volumes/Data/GitHub/r-geo-course/data/ne/countries.gpkg&#39; using driver `GPKG&#39;
## Simple feature collection with 183 features and 72 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -180 ymin: -90 xmax: 180 ymax: 83.64513
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs</code></pre></div>
<p>Лог функции сообщил нам следующую информацию:</p>
<ul>
<li>Набор данных представляет собой коллекцию из 183 пространственных объектов с 72 атрибутами</li>
<li>Тип геометрии <code>MULTIPOLYGON</code></li>
<li>Размерность геометрии <span class="math inline">\(XY\)</span></li>
<li>Ограничивающий прямоугольник (разброс координат) по осям <span class="math inline">\(X\)</span> и <span class="math inline">\(Y\)</span> имеет диапазон <span class="math inline">\([-180, 180] \times [-90, 83.64513]\)</span></li>
<li>EPSG-код пространственной привязки равен <code>4326</code></li>
<li>PROJ.4-строка пространственной привязки равна <code>+proj=longlat +datum=WGS84 +no_defs</code></li>
</ul>
</div>
<div id="-" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Внутренняя структура</h3>
<p>Традиционно во всех ГИС-приложениях и базах пространственных данных множество пространственных объектов представляется в виде таблицы атрибутов, где каждая строка соответствует объекту, а каждый столбец — атрибуту объекта. С каждой строкой таблицы должна быть ассоциирована информация о геометрии объекта, которая, в зависимости от формата данных, может либо храниться непосредственно в таблице (в специальном столбце), либо быть вынесена в отдельную структуру данных, которая связана с таблицей атрибутов посредством ключа<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>.</p>
<p>В <strong>R</strong> используется первый подход, в котором информация о геометрии хранится в специальном столбце таблицы. Каждая ячейка этого столбца соответствует геометрическому объекту <em>Simple Features</em>. Представление геометрических объектов реализовано стандартными средствами, такими как списки, матрицы и векторы. Эти структуры данных упорядоченным образом хранят координаты объектов и естественным образом соответствуют способу организации данных, который регламентируется стандартом <em>Simple Features</em>. Поскольку геометрический столбец хранит не обычные переменные, а структуры данных, он реализуется в виде так называемого <em>списка-колонки (list-column)</em>, каждый элемент которой соответствует отдельному объекту.</p>
<p>Исходя из этих соображений, представление пространственных объектов реализовано в <strong>R</strong> в виде иерархии из трех классов объектов:</p>
<ol style="list-style-type: decimal">
<li><code>sf</code> (simple features) — объект класса <code>data.frame</code>, представляющий множество пространственных объектов со списком-колонкой для хранения геометрии</li>
<li><code>sfc</code> (simple features geometry column) — список-колонка в объекте <code>sf</code>, представляющий множество геометрий пространственных объектов</li>
<li><code>sfg</code> (simple feature geometry) — геометрия пространственного объекта внутри списка <code>sfc</code></li>
</ol>
<p>В соответствии с перечисленными спецификациями происходит работа с пространственными объектами. То что, объекты типа Simple Features реализованы в виде самых обычных фреймов данных, означает что <em>любая операция, применимая к фрейму данных, будет также применима к объекту типа</em> <code>sf</code>. Это очень важная особенность объектов типа sf, которой сильно не хватало в экосистеме исторического пакета <code>sp</code>.</p>
<p>Посмотрим, как все это реализовано, на конкретном примере:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(countries)
## [1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre></div>
<p>Данная форма записи говорит о том, что прочитанный слой имеет класс <em>sf</em>, который, в свою очередь, является расширением класса <em>data.frame</em>.</p>
<p>А теперь посмотрим на последние колонки в первых строках таблицы:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(countries[<span class="kw">tail</span>(<span class="kw">colnames</span>(countries))])
## Simple feature collection with 6 features and 5 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -73.41544 ymin: -55.25 xmax: 75.15803 ymax: 42.68825
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
##   tiny homepart min_zoom min_label max_label
## 1  -99        1        0         3         7
## 2  -99        1        0         3         7
## 3  -99        1        0         5        10
## 4  -99        1        0         4         9
## 5  -99        1        0         2         7
## 6  -99        1        0         5        10
##                         geometry
## 1 MULTIPOLYGON (((61.21081709...
## 2 MULTIPOLYGON (((23.90415368...
## 3 MULTIPOLYGON (((21.02004031...
## 4 MULTIPOLYGON (((51.57951867...
## 5 MULTIPOLYGON (((-66.95992 -...
## 6 MULTIPOLYGON (((43.58274580...</code></pre></div>
<p>Видно, что геометрия пространственных объектов хранится в заключительном столбце с названием <code>geometry</code>. Данный столбец можно быстро извлечь, применив функцию <code>st_geometry()</code>. Полученный объект будет иметь тип <strong>sfc</strong> (Simple Feature Geometry Column)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">outlines &lt;-<span class="st"> </span><span class="kw">st_geometry</span>(countries)
<span class="kw">class</span>(outlines)
## [1] &quot;sfc_MULTIPOLYGON&quot; &quot;sfc&quot;</code></pre></div>
<p>Полученный вывод говорит нам о том, что наши объекты имеют класс <code>sfc_MULTIPOLYGON</code>, который является расширением класса <code>sfc</code> (simple feature geometry column).</p>
<p>Теперь если просмотреть начало данных, то мы увидим, что это больше не фрейм данных, а аннотированный список:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(outlines)
## Geometry set for 6 features 
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -73.41544 ymin: -55.25 xmax: 75.15803 ymax: 42.68825
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
## First 5 geometries:
## MULTIPOLYGON (((61.2108170917257 35.65007233330...
## MULTIPOLYGON (((23.9041536801182 -11.7222815894...
## MULTIPOLYGON (((21.0200403174764 40.84272695572...
## MULTIPOLYGON (((51.5795186704633 24.24549713795...
## MULTIPOLYGON (((-66.95992 -54.8968100000001, -6...</code></pre></div>
<p>Далее можно опуститься на базовый уровень геометрии, получив доступ к отдельному объекту. Поскольку объект класса <code>sfc</code> представляет собой список, любой элемент можно извлечь по его порядковому номеру. Класс полученного объекта будет:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(outlines[[<span class="dv">8</span>]])
## [1] &quot;XY&quot;           &quot;MULTIPOLYGON&quot; &quot;sfg&quot;</code></pre></div>
<p>Исходя из полученной информации можно сделать вывод, что геометрия 8-го объекта таблицы <code>countries</code> имеет класс <code>sfg</code>, реализованный в виде мультиполигонов (<code>MULTIPOLYGON</code>) с плоскими координатами (<code>XY</code>)</p>
<p>Наконец, чтобы добраться до координат в чистом виде, необходимо развернуть иерархию списков, из которых состоит объект <code>sfg</code>. Количество уровней вложенности всегда зависит от конкретного объекта, их может быть достаточно много, особенно если объекты представлены мультиполигонами (несколько компонент связности), каждый из которых такж состоит из полигонов с дырками. В нашем случае все достаточно просто, так как в слое <code>countries</code> дырок в полигонах нет, а 8-й по счету полигон состоит из одной-единственной геометрии, координаты которой в виде матрицы можно извлечь как:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">outlines[[<span class="dv">8</span>]][[<span class="dv">1</span>]]
## [[1]]
##          [,1]     [,2]
##  [1,] 68.9350 -48.6250
##  [2,] 69.5800 -48.9400
##  [3,] 70.5250 -49.0650
##  [4,] 70.5600 -49.2550
##  [5,] 70.2800 -49.7100
##  [6,] 68.7450 -49.7750
##  [7,] 68.7200 -49.2425
##  [8,] 68.8675 -48.8300
##  [9,] 68.9350 -48.6250</code></pre></div>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Базовые возможности отображения</h3>
<p>Если попытаться применить функцию <code>plot()</code> к геометрии объекта, она попытается нарисовать тематические карты по всем имеющимся атрибутам (но остановится, если их более 9):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(countries)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Если задача стоит нарисовать границы объектов, то нужно отображать объект <strong>sfc</strong>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(outlines, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Для быстрого построения тематических карт по выбранному показателю необходимо при вызове функции <code>plot()</code> указать соответствующий атрибут фрейма данных:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(countries[<span class="st">&#39;sovereignt&#39;</span>], <span class="dt">key.pos =</span> <span class="ot">NULL</span>) <span class="co"># Здесь легенда не нужна</span></code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(countries[<span class="st">&#39;gdp_md_est&#39;</span>])</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
<p>Ясно, что на этих картах можно много что улучшить, однако это мы отложим до следующей главы, где подробно разбирается построение тематических карт в R.</p>
</div>
<div id="-" class="section level3">
<h3><span class="header-section-number">6.3.5</span> Пространственная привязка</h3>
<p>Работа с пространственной привязкой данных в R состоит в основном из четырех операций:</p>
<ul>
<li>чтение информации о системе координат</li>
<li>создание информации о системе координат</li>
<li>замена информации о системе координат</li>
<li>изменение системы координат (проецирование)</li>
</ul>
<p>Первые три операции (чтение, создание, замена) осуществляются функцией <code>st_crs()</code>. Чтобы прочитать информацию о проекции, достаточно передать в качестве параметра объект типа <code>sf</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">st_crs</span>(countries)    <span class="co"># Координатная система</span>
## Coordinate Reference System:
##   EPSG: 4326 
##   proj4string: &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre></div>
<p>Эта же функция позволяет создать новую координатную систему, путем передачи ей кода <em>EPSG</em> или строки <em>PROJ.4</em>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">st_crs</span>(<span class="dv">3857</span>) <span class="co"># Проекция Меркатора для карт мира</span>
## Coordinate Reference System:
##   EPSG: 3857 
##   proj4string: &quot;+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs&quot;
<span class="kw">st_crs</span>(<span class="dv">54030</span>) <span class="co"># Проекция Робинсона для карт мира</span>
## Coordinate Reference System:
##   EPSG: 54030 
##   proj4string: &quot;+proj=robin +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs&quot;

<span class="co"># Проекция UTM, зона 37.</span>
<span class="kw">st_crs</span>(<span class="st">&#39;+proj=utm +zone=37 +datum=WGS84 +units=m&#39;</span>)
## Coordinate Reference System:
##   EPSG: 32637 
##   proj4string: &quot;+proj=utm +zone=37 +datum=WGS84 +units=m +no_defs&quot;</code></pre></div>
<p>Замена координатной системы требуется в тех случаях, когда слой не имеет пространственной привязки, или же она задана некореектно. В этом случае необходимо вызвать для слоя функцию <code>st_crs()</code> и перезаписать результат.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">st_crs</span>(countries) &lt;-<span class="st"> </span><span class="ot">NA</span>
<span class="kw">st_crs</span>(countries) 
## Coordinate Reference System: NA

<span class="kw">st_crs</span>(countries) &lt;-<span class="st"> </span><span class="kw">st_crs</span>(<span class="dv">4326</span>)
<span class="kw">st_crs</span>(countries)
## Coordinate Reference System:
##   EPSG: 4326 
##   proj4string: &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre></div>
<blockquote>
<p><strong>Внимание</strong>: замена координатной системы не осуществляет перепроецирования данных и не меняет координаты точек. Она лишь влияет на то, как эти координаты будут интерпретироваться. Если вместо проецирования выполнить замену информации о координатной системе, данные будут позиционироваться в неправильном месте.</p>
</blockquote>
<p>Для трансформирования данных в другую проекцию следует использовать функцию <code>st_tranform(x, crs)</code>. Данная функция принимает в качестве параметров класс объектов sf и координатную систему, в которую необхоимо проецировать данные:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Проекция Меркатора</span>
countries.merc &lt;-<span class="st"> </span><span class="kw">st_transform</span>(countries, <span class="dv">3857</span>)
<span class="kw">plot</span>(<span class="kw">st_geometry</span>(countries.merc), 
     <span class="dt">col =</span> <span class="st">&#39;lightgray&#39;</span>,
     <span class="dt">lwd =</span> <span class="fl">0.5</span>,
     <span class="dt">graticule =</span> <span class="ot">TRUE</span>, 
     <span class="dt">axes =</span> <span class="ot">TRUE</span>)

<span class="co"># Проекция Робинсона (используем dplyr)</span>
countries.rob &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_transform</span>(<span class="dv">54030</span>)
<span class="kw">plot</span>(<span class="kw">st_geometry</span>(countries.rob), 
     <span class="dt">col =</span> <span class="st">&#39;lightgray&#39;</span>,
     <span class="dt">lwd =</span> <span class="fl">0.5</span>,
     <span class="dt">graticule =</span> <span class="ot">TRUE</span>, 
     <span class="dt">axes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># Зарубежная Европа в Конической равнопромежуточной проекции. </span>
<span class="co"># Задаем только необходимые параметры проекции</span>
europe.conic &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &#39;Europe&#39;</span> <span class="op">&amp;</span><span class="st"> </span>sovereignt <span class="op">!=</span><span class="st"> &#39;Russia&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">st_transform</span>(<span class="st">&#39;+proj=eqdc +lon_0=10 +lat_1=30 +lat_2=60 +datum=WGS84 +units=m&#39;</span>)

<span class="kw">plot</span>(<span class="kw">st_geometry</span>(europe.conic), 
     <span class="dt">col =</span> <span class="st">&#39;lightgray&#39;</span>,
     <span class="dt">lwd =</span> <span class="fl">0.5</span>,
     <span class="dt">graticule =</span> <span class="ot">TRUE</span>, 
     <span class="dt">axes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-23-2.png" width="672" /></p>
<blockquote>
<p><strong>Внимание</strong>: чтобы слои данных можно было совместно анализировать и наносить на одну карту, они должны иметь одну и ту же координатную систему (проекцию).</p>
</blockquote>
</div>
<div id="-" class="section level3">
<h3><span class="header-section-number">6.3.6</span> Атрибутивные операции</h3>
<p>Поскольку пространственные объекты хранятся в фреймах данных, к ним можно применять стандартные операции выборки по атрибутам и преобразования таблиц. Например, можно выбрать Италию и отобразить ее на отдельной карте:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

italy &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sovereignt <span class="op">==</span><span class="st"> &#39;Italy&#39;</span>)
<span class="kw">plot</span>(<span class="kw">st_geometry</span>(italy))</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>Следующий пример иллюстрирует как выбрать страны с населением более 100 млн человек:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">largest &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(pop_est) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(pop_est <span class="op">&gt;</span><span class="st"> </span><span class="dv">100000000</span>)
<span class="kw">plot</span>(outlines, <span class="dt">col =</span> <span class="st">&#39;lightgrey&#39;</span>)
<span class="kw">plot</span>(largest, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>Обратите внимание на то, что при вызове функции <code>select()</code> столец <code>geometry</code> не был указан в числе выбираемых переменных. Тем не менее, то, что мы смоги построить карту по результатам выборки, говорит о том, что данный столбец был сохранен. <em>Функции <strong>dplyr</strong> определены для объектов <code>sf</code> таким образом, чтобы всегда сохранять геометрический столбец.</em></p>
<p>Еще интереснее работает агрегирование объектов по атрибутам. В случае, когда агрегируются пространственные объекты, необходимо объединять и их геометрию. При этом если у агрегируемых объектов имеется общая граница, ее необходимо удалить, а если объекты разнесены в пространстве, из них нужно собрать новый мульти-объект.</p>
<p>Например, мы можем агрегировать валовый региональный продукт по континентам:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">continents &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">gdp =</span> <span class="kw">sum</span>(gdp_md_est))
<span class="kw">plot</span>(continents[<span class="st">&#39;gdp&#39;</span>])</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>Потрясающе просто, не правда ли? Вдобавок, мы еще и получили границы континентов (достаточно условные, конечно), которых у нас раньше не было. Данный пример также показывает, что атрибутивные операции над пространственными объектами всегда учитывают их геометрию.</p>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.3.7</span> Выборка по местоположению</h3>
<p>Поиск объектов по местоположению базируется на проверке топологических отношений между объектами. Топологические отношения описывают взаимное расположение объектов. Различные варианты топологических отношений для площадных объектов представлены на следующем рисунке, где серым цветом показаны пересечения <em>внутренних областей</em> объектов <span class="math inline">\(A\)</span> и <span class="math inline">\(B\)</span>, синим цветом — пересечения <em>границ</em> объектов <span class="math inline">\(A\)</span> и <span class="math inline">\(B\)</span>: <img src="07-SpatialData_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Отношение <em>Пересекает (intersects)</em> будет истинно для любого случая когда две геометрии имеют хотя бы одну общую точку, то есть во всех случаях кроме <em>Не пересекает (disjoint)</em>. Для проверки этих, а также некоторых других отношений, в пакете <code>sf</code> существуует ряд функций:</p>
<table>
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead>
<tr class="header">
<th>Функция</th>
<th>Топологическое отношение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>st_intersects(x, y)</code></td>
<td><code>x</code> имеет общие точки с <code>y</code></td>
</tr>
<tr class="even">
<td><code>st_disjoint(x, y)</code></td>
<td><code>x</code> не имеет общих точек с <code>y</code></td>
</tr>
<tr class="odd">
<td><code>st_touches(x, y)</code></td>
<td><code>x</code> касается <code>y</code> (граница <code>x</code> имеет общие точки с границей <code>y</code> И внутренняя область <code>x</code> не имеет имеет общих точек с внутренней областью <code>y</code>)</td>
</tr>
<tr class="even">
<td><code>st_crosses(x, y)</code></td>
<td><code>x</code> пересекает <code>y</code> (граница <code>x</code> имеет общие точки с границей <code>y</code>, при этом размерность их пересечения меньше размерности хотя бы одного из исходных обхектов)</td>
</tr>
<tr class="odd">
<td><code>st_within(x, y)</code></td>
<td><code>x</code> внутри <code>y</code> (все точки <code>x</code> содержатся в <code>y</code> И внутренняя область <code>x</code> имеет общие точки с внутренней областью <code>y</code>)</td>
</tr>
<tr class="even">
<td><code>st_contains(x, y)</code></td>
<td><code>x</code> содержит <code>y</code> (все точки <code>y</code> содержатся в <code>x</code> И внутренняя область <code>y</code> имеет общие точки с внутренней областью <code>x</code>)</td>
</tr>
<tr class="odd">
<td><code>st_contains_properly(x, y)</code></td>
<td><code>x</code> содержит <code>y</code> полностью (все точки <code>y</code> содержатся в <code>x</code> И граница <code>x</code> не имеет общих точек с границей <code>y</code>)</td>
</tr>
<tr class="even">
<td><code>st_overlaps(x, y)</code></td>
<td><code>x</code> перекрывает <code>y</code> (внутренняя область <code>x</code> имеет как общие, так и не общие точки с внутренней областью <code>y</code>)</td>
</tr>
<tr class="odd">
<td><code>st_equals(x, y)</code></td>
<td><code>x</code> совпадает <code>y</code> (множества точек <code>x</code> и <code>y</code> совпадают)</td>
</tr>
<tr class="even">
<td><code>st_covers(x, y)</code></td>
<td><code>x</code> покрывает <code>y</code> (все точки <code>y</code> содержатся в <code>x</code>)</td>
</tr>
<tr class="odd">
<td><code>st_covered_by(x, y)</code></td>
<td><code>x</code> покрыт <code>y</code> (все точки <code>x</code> содержатся в <code>y</code>)</td>
</tr>
<tr class="even">
<td><code>st_equals_exact(x, y)</code></td>
<td><code>x</code> совпадает <code>y</code> точно (упорядоченные множества точек <code>x</code> и <code>y</code> совпадают)</td>
</tr>
</tbody>
</table>
<p>Между <code>covered_by</code> и <code>within</code>, а также <code>covers</code> и <code>contains</code> нет разницы в случае, когда оба объекта являются площадными. Эта разница будет сказываться если хотя бы один из объектов является линией либо точкой. В этом случае <code>within</code>, <code>contains</code> и <code>contains_properly</code> будут давать ложный результат (FALSE), поскольку ни у линий, ни у точек нет внутренней области.</p>
<p>Проверка топологических отношений используется для выполнения выборки объектов по местоположению — <em>пространственной выборки</em>. Наиболее простой способ выбрать объекты по пространственному местоположению — это использовать один слой в качестве фильтра для другого слоя. В этом случае будет по умолчанию использовано отношение <code>st_intersects()</code> (пересекает). Никаких отличий от работы с обычными таблицами нет. Например, вот так можно выбрать точки, находящиеся внутри ранее отобранных стран с максимальным ВВП:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cities &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&#39;ne/cities.gpkg&#39;</span>)
## Reading layer `populated_places&#39; from data source `/Volumes/Data/GitHub/r-geo-course/data/ne/cities.gpkg&#39; using driver `GPKG&#39;
## Simple feature collection with 243 features and 103 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -175.2206 ymin: -41.29999 xmax: 179.2166 ymax: 64.15002
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
city.pts &lt;-<span class="st"> </span><span class="kw">st_geometry</span>(cities)

<span class="co"># Наносим исходную конфигурацию</span>
<span class="kw">plot</span>(outlines, <span class="dt">lwd =</span> <span class="fl">0.5</span>)
<span class="kw">plot</span>(cities, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">pch =</span> <span class="dv">20</span>, <span class="dt">cex =</span> <span class="fl">0.5</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)

<span class="co"># Отбираем точки внутри стран с максимальным ВВП</span>
sel &lt;-<span class="st"> </span>cities[largest, ]
## although coordinates are longitude/latitude, st_intersects assumes that they are planar

<span class="co"># Смотрим что получилось</span>
<span class="kw">plot</span>(outlines, <span class="dt">lwd =</span> <span class="fl">0.5</span>)
<span class="kw">plot</span>(largest, <span class="dt">col =</span> <span class="st">&#39;gray&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(sel, <span class="dt">pch =</span> <span class="dv">20</span>, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>Разумеется, при выполнении пространственных запросов могут возникать и другие пространственные отношения. Например, мы можем выбрать все страны, имеющие общую границу с Чехией. Для этого можно использовать топологическое отношение <code>st_touches</code> вместо <code>st_intersects</code> — это будет гарантировать, что сама Чехия в результате не выберется (касающиеся объекты не могут перекрываться). Тип отношения необходимо поставить в параметр <code>op =</code> при выполнении фильтрации фрейма данных:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cz &lt;-<span class="st"> </span>countries <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sovereignt <span class="op">==</span><span class="st"> &#39;Czechia&#39;</span>)
neighbors &lt;-<span class="st"> </span>countries[cz, op =<span class="st"> </span>st_touches]
## although coordinates are longitude/latitude, st_touches assumes that they are planar

<span class="kw">plot</span>(<span class="kw">st_geometry</span>(neighbors), <span class="dt">col =</span> <span class="st">&#39;lightgray&#39;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>)
<span class="kw">plot</span>(cz, <span class="dt">col =</span> <span class="st">&#39;darkgray&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.3.8</span> Работа с геометрией</h3>
<div id="-" class="section level4">
<h4><span class="header-section-number">6.3.8.1</span> Создание геометрии</h4>
<p>Пространственные объекты в R можно собирать “вручную”, если есть такая необходимость. Например, вам известны координаты границ участков полевого обследования, полученные посредством GPS, а вам необходимо превратить их в полигоны, чтобы выполнить анализ и картографирование. Придется из координат собрать полигоны программным путем. Процесс создания пространственных объектов осуществляется в последовательности их иерархического соподчинения: <strong>sfg</strong> &gt; <strong>sfc</strong> &gt; <strong>sf</strong>.</p>
<p>Для создания геометрических объектов в пакете sf существует ряд функций с говорящими названиями:</p>
<table>
<thead>
<tr class="header">
<th>Функция</th>
<th>Тип пространственного объекта</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>st_point()</code></td>
<td><em>POINT</em></td>
</tr>
<tr class="even">
<td><code>st_linestring()</code></td>
<td><em>LINESTRING</em></td>
</tr>
<tr class="odd">
<td><code>st_polygon()</code></td>
<td><em>POLYGON</em></td>
</tr>
<tr class="even">
<td><code>st_multipoint()</code></td>
<td><em>MULTIPOINT</em></td>
</tr>
<tr class="odd">
<td><code>st_multilinestring()</code></td>
<td><em>MULTILINESTRING</em></td>
</tr>
<tr class="even">
<td><code>st_multipolygon()</code></td>
<td><em>MULTIPOLYGON</em></td>
</tr>
<tr class="odd">
<td><code>st_geometrycollection()</code></td>
<td><em>GEOMETRYCOLLECTION</em></td>
</tr>
</tbody>
</table>
<p>В зависимости от типа создаваемого объекта, данные функции принимают координаты, организованные в виде одной из трех структур данных:</p>
<ul>
<li>Вектор координат (<em>POINT</em>)</li>
<li>Матрица координат (<em>MULTIPOINT</em> или <em>LINESTRING</em>), в которой строки соответствуют точкам, столбцы — координатам</li>
<li>Список (для всех остальных типов)</li>
</ul>
<p>Проще всего создаются отдельные <strong>точки</strong> (<em>POINT</em>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">st_point</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>)) <span class="co"># XY POINT</span>
## POINT (0 2)
<span class="kw">st_point</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="op">-</span><span class="dv">1</span>)) <span class="co"># XYZ POINT</span>
## POINT Z (0 2 -1)
<span class="kw">st_point</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>), <span class="dt">dim =</span> <span class="st">&#39;XYM&#39;</span>) <span class="co"># XYM POINT</span>
## POINT M (0 2 5)
<span class="kw">st_point</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">5</span>)) <span class="co"># XYZM POINT</span>
## POINT ZM (0 2 -1 5)</code></pre></div>
<p>Дополнительный параметр <code>dim=</code> служит для уточнения типа геометрии точек и по сути нужен только тогда, когда необходимо создать редко используемые точки типа <em>XYM</em>. во всех остальных случаях (<em>XY</em>, <em>XYZ</em>, <em>XYZM</em>) размерность геометрии распознается по умолчанию.</p>
<p>При создании <strong>мультиточек</strong> (<em>MULTIPOINT</em>) и <strong>линий</strong> (<em>LINESTRING</em>) необходимо подавать на вход функции уже матрицу координат:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coords &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="dv">0</span>, <span class="dv">2</span>,
  <span class="dv">1</span>, <span class="dv">3</span>,
  <span class="dv">3</span>, <span class="dv">1</span>,
  <span class="dv">5</span>, <span class="dv">0</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

mp &lt;-<span class="st"> </span><span class="kw">st_multipoint</span>(coords) <span class="co"># XY MULTIPOINT</span>
<span class="kw">print</span>(mp)
## MULTIPOINT (0 2, 1 3, 3 1, 5 0)

ls &lt;-<span class="st"> </span><span class="kw">st_linestring</span>(coords) <span class="co"># XY LINESTRING</span>
<span class="kw">print</span>(ls)
## LINESTRING (0 2, 1 3, 3 1, 5 0)</code></pre></div>
<p>В первом случае геометрия состоит из отдельных точек. Во втором случае те же самые точки соединены линией:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">plot</span>(ls)
<span class="kw">plot</span>(mp, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">pch =</span> <span class="dv">19</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>Создание трех-(<em>XYZ</em>, <em>XYM</em>) и четрехмерных (<em>ZYXM</em>) мультиточек и линий выполняется аналогично, но матрица должна содержать не 2, а, соответственно 3 или 4 столбца, и при необходимости параметр <code>dim = 'XYM'</code>.</p>
<p>Создание <strong>полигонов</strong> (<em>POLYGON</em>), <strong>мультиполигонов</strong> (<em>MULTIPOLYGON</em>) и <strong>мультилиний</strong> (<em>MULTILINESTRING</em>) требует уже создания списков из матриц.</p>
<p>Почему нельзя представить обычный (не мульти) полигон просто матрицей координат? Потому что полигон может содержать дырки. Например, контур леса может содержать дырку в том месте, где находится озеро. Или озеро может содержать дырку в том месте, где находится остров. Природа предлагает нам бесконечное число таких примеров. В целях универсализации приходится закладываться на возможность наличия дырок в полигонах, поэтому даже полигоны без дырок представляются в виде списков. При этом действу.т следующее правила:</p>
<ul>
<li>Первая матрица координат в списке отвечает за контур полигона</li>
<li>Все остальные матрицы координат отвечают за дыры в полигоне</li>
<li>Координаты первой и последней точки в каждой матрице должны совпадать</li>
</ul>
<p>Если дыр в полигоне нет, его список будет содержать только одну матрицу. Рассмотрим оба примера построения <strong>полигонов</strong>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coords &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>( <span class="co"># Координаты главного полигона</span>
  <span class="dv">1</span>, <span class="dv">0</span>,
  <span class="dv">0</span>, <span class="dv">2</span>,
  <span class="dv">2</span>, <span class="dv">3</span>,
  <span class="dv">4</span>, <span class="dv">2</span>,
  <span class="dv">3</span>, <span class="fl">0.5</span>,
  <span class="dv">1</span>, <span class="dv">0</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

pol &lt;-<span class="st"> </span><span class="kw">st_polygon</span>(<span class="kw">list</span>(coords)) <span class="co"># Простой полигон</span>
<span class="kw">print</span>(pol)
## POLYGON ((1 0, 0 2, 2 3, 4 2, 3 0.5, 1 0))

<span class="kw">plot</span>(pol, <span class="dt">col =</span> <span class="st">&#39;lightblue&#39;</span>)

hole &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>( <span class="co"># Координаты дыры</span>
  <span class="dv">2</span>, <span class="dv">1</span>,
  <span class="dv">3</span>, <span class="fl">1.5</span>,
  <span class="dv">3</span>, <span class="dv">2</span>,
  <span class="dv">2</span>, <span class="dv">2</span>,
  <span class="dv">2</span>, <span class="dv">1</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

pol2 &lt;-<span class="st"> </span><span class="kw">st_polygon</span>(<span class="kw">list</span>(coords, hole)) <span class="co"># Полигон с дырой</span>
<span class="kw">print</span>(pol2)
## POLYGON ((1 0, 0 2, 2 3, 4 2, 3 0.5, 1 0), (2 1, 3 1.5, 3 2, 2 2, 2 1))

<span class="kw">plot</span>(pol2, <span class="dt">col =</span> <span class="st">&#39;lightblue&#39;</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Мультиполигоны (<em>MULTIPOLYGON</em>) и мультилинии (<em>MULTILINESTRING</em>) требуются тогда, когда один и тот же географический объект состоит из нескольких геометрических объектов. Простейший пример — островные государства. Чтобы представить страну, занимающую архипелаг (Багамские острова, Индонезия, Япония и т.д.) как один пространственный объект, необходимо создать мультиполигон. Все компоненты мультиполигона будут иметь общий набор атрибутов (непространственных характеристик). Мультилинии используются реже мультиполигонов и необходимы для представления линейных объектов, разорванных в пространстве. Примером такого объекта может быть любая река или канал, которые разорваны в тех местах, где они протекают через озеро или водохранилище, представленное полигональным объектом.</p>
<p>В мультиполигонах добавляется еще один уровень списка, то есть искомые матрицы координат будут располагаться как минимум на втором уровне вложенности:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coords1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="fl">0.5</span>, <span class="dv">0</span>,
  <span class="dv">0</span>, <span class="dv">1</span>,
  <span class="dv">1</span>, <span class="fl">1.5</span>,
  <span class="dv">2</span>, <span class="dv">1</span>,
  <span class="fl">1.5</span>, <span class="fl">0.25</span>,
  <span class="fl">0.5</span>, <span class="dv">0</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

coords2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="dv">3</span>, <span class="dv">1</span>,
  <span class="fl">2.5</span>, <span class="dv">2</span>,
  <span class="fl">3.5</span>, <span class="fl">2.5</span>,
  <span class="dv">4</span>, <span class="dv">2</span>,
  <span class="dv">4</span>, <span class="fl">1.25</span>,
  <span class="dv">3</span>, <span class="dv">1</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

mpol &lt;-<span class="st"> </span><span class="kw">st_multipolygon</span>(<span class="kw">list</span>(<span class="kw">list</span>(coords1), <span class="kw">list</span>(coords2)))

<span class="kw">print</span>(mpol)
## MULTIPOLYGON (((0.5 0, 0 1, 1 1.5, 2 1, 1.5 0.25, 0.5 0)), ((3 1, 2.5 2, 3.5 2.5, 4 2, 4 1.25, 3 1)))

<span class="kw">plot</span>(pol, <span class="dt">col =</span> <span class="st">&#39;grey&#39;</span>) <span class="co"># Обычный полигон (серый)</span>
<span class="kw">plot</span>(mpol, <span class="dt">col =</span> <span class="st">&#39;pink&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>) <span class="co"># Мультиполигон (розовый)</span></code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p>Как насчет острова на озере? Если остров и суша, окружающая озеро, составляют единое целое (например, подлежат учету как единый массив леса), их можно собрать как мультиполигон. В этом случае первая компонента мультиполигона будет представлять собой полигон с дыркой, а вторая компонента — остров. Порядок компонент в данном случае роли не играет:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coords4 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="fl">2.2</span>, <span class="fl">1.2</span>,
  <span class="fl">2.8</span>, <span class="fl">1.5</span>,
  <span class="fl">2.8</span>, <span class="fl">1.8</span>,
  <span class="fl">2.2</span>, <span class="fl">1.8</span>,
  <span class="fl">2.2</span>, <span class="fl">1.2</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

island &lt;-<span class="st"> </span><span class="kw">st_polygon</span>(<span class="kw">list</span>(coords4))

mpol2 &lt;-<span class="st"> </span><span class="kw">st_multipolygon</span>(<span class="kw">list</span>(pol2, island))

<span class="kw">print</span>(mpol2)
## MULTIPOLYGON (((1 0, 0 2, 2 3, 4 2, 3 0.5, 1 0), (2 1, 3 1.5, 3 2, 2 2, 2 1)), ((2.2 1.2, 2.8 1.5, 2.8 1.8, 2.2 1.8, 2.2 1.2)))

<span class="kw">plot</span>(mpol2, <span class="dt">col =</span> <span class="st">&#39;gray&#39;</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Из данного примера также видно, что при сборе мультиполигона на самом нижнем уровне вложености можно подавать не списки матриц координат, а готовые полигоны.</p>
<p>Мультилиния, в отличие от мультиполигона, не требует дополнительного списка верхнего уровня, поскольку линии не могут содержать дыр. Например, можно собрать мультилинию из двух частей, соответствующих участкам реки до и после озера:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coords1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="op">-</span><span class="dv">3</span>, <span class="dv">0</span>,
  <span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span>,
  <span class="dv">0</span>, <span class="dv">2</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

coords2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(
  <span class="dv">4</span>, <span class="dv">2</span>,
  <span class="dv">5</span>, <span class="dv">3</span>,
  <span class="dv">6</span>, <span class="dv">5</span>
), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

mline &lt;-<span class="st"> </span><span class="kw">st_multilinestring</span>(<span class="kw">list</span>(coords1, coords2))
<span class="kw">print</span>(mline)
## MULTILINESTRING ((-3 0, -1 2, 0 2), (4 2, 5 3, 6 5))

<span class="kw">plot</span>(mline, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> <span class="st">&#39;blue&#39;</span>)
<span class="kw">plot</span>(pol2, <span class="dt">col =</span> <span class="st">&#39;lightblue&#39;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-36-1.png" width="672" /> Наконец, еще один вид геометрии — это геометрическая коллекция (GEOMETRYCOLLECTION), который позволяет хранить вместе любые виды геометрий. Эта возможность используется достаточно редко, тем не менее, рассмотреть ее нужно. Геометрическая коллекция собирается из списка объектов с простыми типами геометрии (мы создали их ранее):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">col &lt;-<span class="st"> </span><span class="kw">st_geometrycollection</span>(<span class="kw">list</span>(ls, mp, mline, pol2))
<span class="kw">print</span>(col)
## GEOMETRYCOLLECTION (LINESTRING (0 2, 1 3, 3 1, 5 0), MULTIPOINT (0 2, 1 3, 3 1, 5 0), MULTILINESTRING ((-3 0, -1 2, 0 2), (4 2, 5 3, 6 5)), POLYGON ((1 0, 0 2, 2 3, 4 2, 3 0.5, 1 0), (2 1, 3 1.5, 3 2, 2 2, 2 1)))
<span class="kw">plot</span>(col)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
<div id="-" class="section level4">
<h4><span class="header-section-number">6.3.8.2</span> Преобразование геометрии</h4>
<p>Для преобразования типов геометрии существует функция <code>st_cast()</code>. Она позволяет делать преобразвания между различными вариантами геометрических объектов. На вход функции необходимо подать объект класса sfg, sfc или sf, а также тип геометрии. Например, довольно распространена задача конвертации площадного объекта в линейный и обратно. Получить границы стран на основе их полигонов можно так:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">italy.borders &lt;-<span class="st"> </span><span class="kw">st_cast</span>(italy, <span class="st">&#39;MULTILINESTRING&#39;</span>)
<span class="kw">class</span>(italy.borders)
## [1] &quot;sf&quot;         &quot;data.frame&quot;

italy.regions &lt;-<span class="st"> </span><span class="kw">st_cast</span>(italy.borders, <span class="st">&#39;MULTIPOLYGON&#39;</span>)
<span class="kw">class</span>(italy.regions)
## [1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre></div>
</div>
<div id="-" class="section level4">
<h4><span class="header-section-number">6.3.8.3</span> Геометрические атрибуты</h4>
<p>К описательным характеристикам геометрии относятся ограничивающий прямоугольник, периметр (для линий и полигонов) и площадь (для полигонов), которые можно получить с помощью функций <code>st_bbox()</code>, <code>st_area()</code> и <code>st_length()</code> соответственно:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">st_bbox</span>(cz)   <span class="co"># Координаты органичивающего прямоугольника</span>
##     xmin     ymin     xmax     ymax 
## 12.24011 48.55531 18.85314 51.11727
<span class="kw">st_area</span>(cz)   <span class="co"># Площадь</span>
## 81207602929 m^2
<span class="kw">st_length</span>(cz) <span class="co"># Периметр</span>
## 1333019 m</code></pre></div>
<p>Ограничивающий прямоугольник можно быстро преобразовать в полигон и нанести на карту, применив функцию <code>st_as_sfc()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">box &lt;-<span class="st"> </span><span class="kw">st_as_sfc</span>(<span class="kw">st_bbox</span>(cz)) <span class="co"># Ограничивающий прямоугольник</span>

<span class="kw">plot</span>(neighbors <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_geometry</span>())
<span class="kw">plot</span>(cz <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_geometry</span>(), 
     <span class="dt">col =</span> <span class="st">&#39;lightgrey&#39;</span>,
     <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(box, 
     <span class="dt">border =</span> <span class="st">&#39;red&#39;</span>, 
     <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="07-SpatialData_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="raster_data_r" class="section level2">
<h2><span class="header-section-number">6.4</span> Растровые данные</h2>
<div id="section-6.4.1" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Чтение</h3>
</div>
<div id="--1" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Внутренняя структура</h3>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.4.3</span> Базовые возможности визуализации</h3>
</div>
<div id="section-6.4.4" class="section level3">
<h3><span class="header-section-number">6.4.4</span> Проецирование</h3>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.4.5</span> Операции со значениями</h3>
</div>
<div id="--" class="section level3">
<h3><span class="header-section-number">6.4.6</span> Операции с геометрией</h3>
</div>
</div>
<div id="questions_tasks_spatial" class="section level2">
<h2><span class="header-section-number">6.5</span> Контрольные вопросы и задачи</h2>
<div id="questions_spatial" class="section level3">
<h3><span class="header-section-number">6.5.1</span> Вопросы</h3>
</div>
<div id="tasks_spatial" class="section level3">
<h3><span class="header-section-number">6.5.2</span> Задачи</h3>

</div>
</div>
</div>








<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>ГОСТ Р 52438-2005 &lt;<Географические информационные системы. Термины и определения>&gt;. В стандарте поясняется, что объектом может быть неподвижный или движущийся простой или сложный объект, явление, событие, процесс и ситуация. Моделируемый объект может относиться к территории, акватории, недрам и воздушному пространству Земли, околоземному космическому пространству, другим космическим телам и небесной сфере. В широком смысле под пространственным объектом в геоинформатике понимается как сам объект, так и адекватная ему цифровая модель<a href="spatial-data.html#fnref1">↩</a></p></li>
<li id="fn2"><p>Названия перечисленных компонент геометрии растра укоренились благодаря распространенности стандарта <a href="https://en.wikipedia.org/wiki/Esri_grid">Esri ASCII Grid</a><a href="spatial-data.html#fnref2">↩</a></p></li>
<li id="fn3"><p>Например, в широко распространенном формате <strong>Esri Shapefile</strong> атрибутивная таблица хранится в файле <code>*.dbf</code> формата <em>DBASE</em>, геометрия хранится в отдельном файле <code>*.shp</code>, а связь между ними осуществляется через файл <code>*.shx</code>. Разбиение формата хранения на несколько файлов — это одна из уязвимостей шейп-файлов: при отсутствии хотя бы одного из этих файлов данные прочесть стандартными средствами (без дополнительного хакинга) будет нельзя.<a href="spatial-data.html#fnref3">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="controls.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["r-geo-course.pdf", "r-geo-course.epub"],
"toc": {
"collapse": "section",
"edit": "https://github.com/tsamsonov/r-geo-course/edit/master/%s"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
