<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Визуализация и анализ географических данных на языке R</title>
  <meta name="description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Визуализация и анализ географических данных на языке R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных" />
  <meta name="github-repo" content="tsamsonov/r-geo-course" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Визуализация и анализ географических данных на языке R" />
  
  <meta name="twitter:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных" />
  

<meta name="author" content="Тимофей Самсонов">


<meta name="date" content="2018-09-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="tables.html">
<link rel="next" href="graphics.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.4/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Визуализация и анализ географических данных на языке R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Введение</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Программное обеспечение</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#---"><i class="fa fa-check"></i>Установка и подключение пакетов</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Выполнение программного кода</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Установка рабочей директории</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Диагностические функции</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Получение справки</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#d09ad0bed0bcd0bcd0b5d0bdd182d0b0d180d0b8d0b8"><i class="fa fa-check"></i>Комментарии</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#----r"><i class="fa fa-check"></i>Стандарт оформления кода на R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Зарезервированные слова</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>Названия переменных</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Названия специальных символов</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i>Ссылка на пособие</a></li>
</ul></li>
<li class="part"><span><b>I Начало работы с R</b></span></li>
<li class="chapter" data-level="1" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>1</b> Типы данных, условия, ввод и вывод</a><ul>
<li class="chapter" data-level="1.1" data-path="data-types.html"><a href="data-types.html#data_types"><i class="fa fa-check"></i><b>1.1</b> Типы данных</a><ul>
<li class="chapter" data-level="1.1.1" data-path="data-types.html"><a href="data-types.html#numbers"><i class="fa fa-check"></i><b>1.1.1</b> Числа</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-types.html"><a href="data-types.html#strings"><i class="fa fa-check"></i><b>1.1.2</b> Строки</a></li>
<li class="chapter" data-level="1.1.3" data-path="data-types.html"><a href="data-types.html#dates"><i class="fa fa-check"></i><b>1.1.3</b> Даты</a></li>
<li class="chapter" data-level="1.1.4" data-path="data-types.html"><a href="data-types.html#booleans"><i class="fa fa-check"></i><b>1.1.4</b> Логические</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-types.html"><a href="data-types.html#manipulations"><i class="fa fa-check"></i><b>1.2</b> Манипуляции с типами</a><ul>
<li class="chapter" data-level="1.2.1" data-path="data-types.html"><a href="data-types.html#determine_data_type"><i class="fa fa-check"></i><b>1.2.1</b> Определение типа данных</a></li>
<li class="chapter" data-level="1.2.2" data-path="data-types.html"><a href="data-types.html#conversion"><i class="fa fa-check"></i><b>1.2.2</b> Преобразование типов данных</a></li>
<li class="chapter" data-level="1.2.3" data-path="data-types.html"><a href="data-types.html#check_types"><i class="fa fa-check"></i><b>1.2.3</b> Проверка типов данных и пустых значений</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-types.html"><a href="data-types.html#read_write_console"><i class="fa fa-check"></i><b>1.3</b> Ввод и вывод данных в консоли</a><ul>
<li class="chapter" data-level="1.3.1" data-path="data-types.html"><a href="data-types.html#read_console"><i class="fa fa-check"></i><b>1.3.1</b> Ввод данных</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-types.html"><a href="data-types.html#read_console"><i class="fa fa-check"></i><b>1.3.2</b> Ввод данных</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="data-types.html"><a href="data-types.html#ifelse"><i class="fa fa-check"></i><b>1.4</b> Условный оператор</a></li>
<li class="chapter" data-level="1.5" data-path="data-types.html"><a href="data-types.html#switch"><i class="fa fa-check"></i><b>1.5</b> Оператор переключения</a></li>
<li class="chapter" data-level="1.6" data-path="data-types.html"><a href="data-types.html#review"><i class="fa fa-check"></i><b>1.6</b> Краткий обзор</a></li>
<li class="chapter" data-level="1.7" data-path="data-types.html"><a href="data-types.html#questions_tasks_basics"><i class="fa fa-check"></i><b>1.7</b> Контрольные вопросы и упражнения</a><ul>
<li class="chapter" data-level="1.7.1" data-path="data-types.html"><a href="data-types.html#questions_basics"><i class="fa fa-check"></i><b>1.7.1</b> Вопросы</a></li>
<li class="chapter" data-level="1.7.2" data-path="data-types.html"><a href="data-types.html#tasks_basic"><i class="fa fa-check"></i><b>1.7.2</b> Упражнения</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Структуры данных и циклы</a><ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#data_structures_homo"><i class="fa fa-check"></i><b>2.1</b> Однородные структуры данных</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>2.1.1</b> Векторы</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>2.1.2</b> Матрицы</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-structures.html"><a href="data-structures.html#arrays"><i class="fa fa-check"></i><b>2.1.3</b> Массивы</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#heterogeneous"><i class="fa fa-check"></i><b>2.2</b> Разнородные структуры данных</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-structures.html"><a href="data-structures.html#data_frames"><i class="fa fa-check"></i><b>2.2.1</b> Фреймы данных</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>2.2.2</b> Списки</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>2.3</b> Факторы</a></li>
<li class="chapter" data-level="2.4" data-path="data-structures.html"><a href="data-structures.html#vector_desc"><i class="fa fa-check"></i><b>2.4</b> Описание структуры данных</a></li>
<li class="chapter" data-level="2.5" data-path="data-structures.html"><a href="data-structures.html#cycles"><i class="fa fa-check"></i><b>2.5</b> Циклы</a></li>
<li class="chapter" data-level="2.6" data-path="data-structures.html"><a href="data-structures.html#review_structures"><i class="fa fa-check"></i><b>2.6</b> Краткий обзор</a></li>
<li class="chapter" data-level="2.7" data-path="data-structures.html"><a href="data-structures.html#questions_tasks_vectors"><i class="fa fa-check"></i><b>2.7</b> Контрольные вопросы и упражнения</a><ul>
<li class="chapter" data-level="2.7.1" data-path="data-structures.html"><a href="data-structures.html#questions_vectors"><i class="fa fa-check"></i><b>2.7.1</b> Вопросы</a></li>
<li class="chapter" data-level="2.7.2" data-path="data-structures.html"><a href="data-structures.html#tasks_vectors"><i class="fa fa-check"></i><b>2.7.2</b> Упражнения</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>3</b> Таблицы</a><ul>
<li class="chapter" data-level="3.1" data-path="tables.html"><a href="tables.html#tables_prerequisites"><i class="fa fa-check"></i><b>3.1</b> Предварительные требования</a></li>
<li class="chapter" data-level="3.2" data-path="tables.html"><a href="tables.html#tables_datastructures"><i class="fa fa-check"></i><b>3.2</b> Структуры данных</a></li>
<li class="chapter" data-level="3.3" data-path="tables.html"><a href="tables.html#tables_reading"><i class="fa fa-check"></i><b>3.3</b> Чтение</a><ul>
<li class="chapter" data-level="3.3.1" data-path="tables.html"><a href="tables.html#tables_reading_inner"><i class="fa fa-check"></i><b>3.3.1</b> Встроенные данные</a></li>
<li class="chapter" data-level="3.3.2" data-path="tables.html"><a href="tables.html#tables_reading_text"><i class="fa fa-check"></i><b>3.3.2</b> Текстовые таблицы</a></li>
<li class="chapter" data-level="3.3.3" data-path="tables.html"><a href="tables.html#tables_reading_excel"><i class="fa fa-check"></i><b>3.3.3</b> Таблицы Microsoft Excel</a></li>
<li class="chapter" data-level="3.3.4" data-path="tables.html"><a href="tables.html#tables_reading_params"><i class="fa fa-check"></i><b>3.3.4</b> Параметры</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tables.html"><a href="tables.html#tables_view"><i class="fa fa-check"></i><b>3.4</b> Просмотр</a></li>
<li class="chapter" data-level="3.5" data-path="tables.html"><a href="tables.html#tables_elements"><i class="fa fa-check"></i><b>3.5</b> Столбцы, строки и ячейки</a><ul>
<li class="chapter" data-level="3.5.1" data-path="tables.html"><a href="tables.html#tables_elements_names"><i class="fa fa-check"></i><b>3.5.1</b> Названия</a></li>
<li class="chapter" data-level="3.5.2" data-path="tables.html"><a href="tables.html#tables_elements_columns"><i class="fa fa-check"></i><b>3.5.2</b> Обращение к столбцам</a></li>
<li class="chapter" data-level="3.5.3" data-path="tables.html"><a href="tables.html#tables_elements_rows"><i class="fa fa-check"></i><b>3.5.3</b> Обращение к строкам</a></li>
<li class="chapter" data-level="3.5.4" data-path="tables.html"><a href="tables.html#tables_elements_cells"><i class="fa fa-check"></i><b>3.5.4</b> Обращение к ячейкам</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tables.html"><a href="tables.html#tables_manipuilations"><i class="fa fa-check"></i><b>3.6</b> Преобразования</a><ul>
<li class="chapter" data-level="3.6.1" data-path="tables.html"><a href="tables.html#tables_manipiulations_grammar"><i class="fa fa-check"></i><b>3.6.1</b> Грамматика манипуляций</a></li>
<li class="chapter" data-level="3.6.2" data-path="tables.html"><a href="tables.html#tables_manipiulations_pipeline"><i class="fa fa-check"></i><b>3.6.2</b> Конвейер манипуляций</a></li>
<li class="chapter" data-level="3.6.3" data-path="tables.html"><a href="tables.html#tables_tidy"><i class="fa fa-check"></i><b>3.6.3</b> Преобразование структуры</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="tables.html"><a href="tables.html#tables_join"><i class="fa fa-check"></i><b>3.7</b> Соединение</a></li>
<li class="chapter" data-level="3.8" data-path="tables.html"><a href="tables.html#tables_write"><i class="fa fa-check"></i><b>3.8</b> Запись</a></li>
<li class="chapter" data-level="3.9" data-path="tables.html"><a href="tables.html#tables_rules"><i class="fa fa-check"></i><b>3.9</b> Рекомендации по подготовке таблиц для чтения в R</a></li>
<li class="chapter" data-level="3.10" data-path="tables.html"><a href="tables.html#tables_review"><i class="fa fa-check"></i><b>3.10</b> Краткий обзор</a></li>
<li class="chapter" data-level="3.11" data-path="tables.html"><a href="tables.html#tables_questions"><i class="fa fa-check"></i><b>3.11</b> Контрольные вопросы и упражнения</a><ul>
<li class="chapter" data-level="3.11.1" data-path="tables.html"><a href="tables.html#tables_questions_questions"><i class="fa fa-check"></i><b>3.11.1</b> Вопросы</a></li>
<li class="chapter" data-level="3.11.2" data-path="tables.html"><a href="tables.html#tables_questions_tasks"><i class="fa fa-check"></i><b>3.11.2</b> Упражнения</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tech.html"><a href="tech.html"><i class="fa fa-check"></i><b>4</b> Техники программирования</a><ul>
<li class="chapter" data-level="4.1" data-path="tech.html"><a href="tech.html#tech-fun"><i class="fa fa-check"></i><b>4.1</b> Функциональное программирование</a><ul>
<li class="chapter" data-level="4.1.1" data-path="tech.html"><a href="tech.html#tech-fun-functions"><i class="fa fa-check"></i><b>4.1.1</b> Функции</a></li>
<li class="chapter" data-level="4.1.2" data-path="tech.html"><a href="tech.html#tech-fun-functionals"><i class="fa fa-check"></i><b>4.1.2</b> Функционалы</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tech.html"><a href="tech.html#tech-meta"><i class="fa fa-check"></i><b>4.2</b> Метапрограммирование</a></li>
<li class="chapter" data-level="4.3" data-path="tech.html"><a href="tech.html#tech_review"><i class="fa fa-check"></i><b>4.3</b> Краткий обзор</a></li>
<li class="chapter" data-level="4.4" data-path="tech.html"><a href="tech.html#tech_questions"><i class="fa fa-check"></i><b>4.4</b> Контрольные вопросы и упражнения</a><ul>
<li class="chapter" data-level="4.4.1" data-path="tech.html"><a href="tech.html#tech_questions_questions"><i class="fa fa-check"></i><b>4.4.1</b> Вопросы</a></li>
<li class="chapter" data-level="4.4.2" data-path="tech.html"><a href="tech.html#tech_questions_tasks"><i class="fa fa-check"></i><b>4.4.2</b> Упражнения</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Графика и статистика</b></span></li>
<li class="chapter" data-level="5" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>5</b> Базовая графика в R</a><ul>
<li class="chapter" data-level="5.1" data-path="graphics.html"><a href="graphics.html#yfxcharts"><i class="fa fa-check"></i><b>5.1</b> Стандартные графики</a><ul>
<li class="chapter" data-level="5.1.1" data-path="graphics.html"><a href="graphics.html#scatterplots"><i class="fa fa-check"></i><b>5.1.1</b> Диаграммы рассеяния</a></li>
<li class="chapter" data-level="5.1.2" data-path="graphics.html"><a href="graphics.html#linear_graphs"><i class="fa fa-check"></i><b>5.1.2</b> Линейные графики</a></li>
<li class="chapter" data-level="5.1.3" data-path="graphics.html"><a href="graphics.html#graph_combining"><i class="fa fa-check"></i><b>5.1.3</b> Совмещение графиков</a></li>
<li class="chapter" data-level="5.1.4" data-path="graphics.html"><a href="graphics.html#func_parameters"><i class="fa fa-check"></i><b>5.1.4</b> Функциональные параметры</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="graphics.html"><a href="graphics.html#histograms"><i class="fa fa-check"></i><b>5.2</b> Гистограммы</a></li>
<li class="chapter" data-level="5.3" data-path="graphics.html"><a href="graphics.html#barplots"><i class="fa fa-check"></i><b>5.3</b> Столбчатые графики</a></li>
<li class="chapter" data-level="5.4" data-path="graphics.html"><a href="graphics.html#piecharts"><i class="fa fa-check"></i><b>5.4</b> Круговые (секторные) диаграммы</a></li>
<li class="chapter" data-level="5.5" data-path="graphics.html"><a href="graphics.html#colors"><i class="fa fa-check"></i><b>5.5</b> Цвет и прозрачность</a></li>
<li class="chapter" data-level="5.6" data-path="graphics.html"><a href="graphics.html#disp_settings"><i class="fa fa-check"></i><b>5.6</b> Настройки отображения</a><ul>
<li class="chapter" data-level="5.6.1" data-path="graphics.html"><a href="graphics.html#graph_params"><i class="fa fa-check"></i><b>5.6.1</b> Графические параметры</a></li>
<li class="chapter" data-level="5.6.2" data-path="graphics.html"><a href="graphics.html#axes"><i class="fa fa-check"></i><b>5.6.2</b> Разметка осей, рамка, сетка координат и произвольные линии</a></li>
<li class="chapter" data-level="5.6.3" data-path="graphics.html"><a href="graphics.html#annotations"><i class="fa fa-check"></i><b>5.6.3</b> Аннотации данных (текст на графике)</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="graphics.html"><a href="graphics.html#legend"><i class="fa fa-check"></i><b>5.7</b> Легенда</a></li>
<li class="chapter" data-level="5.8" data-path="graphics.html"><a href="graphics.html#questions_tasks_graphics"><i class="fa fa-check"></i><b>5.8</b> Контрольные вопросы и задачи</a><ul>
<li class="chapter" data-level="5.8.1" data-path="graphics.html"><a href="graphics.html#questions_graphics"><i class="fa fa-check"></i><b>5.8.1</b> Вопросы</a></li>
<li class="chapter" data-level="5.8.2" data-path="graphics.html"><a href="graphics.html#tasks_graphics"><i class="fa fa-check"></i><b>5.8.2</b> Задачи</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advgraphics.html"><a href="advgraphics.html"><i class="fa fa-check"></i><b>6</b> Продвинутая графика в R</a></li>
<li class="chapter" data-level="7" data-path="stat-analysis.html"><a href="stat-analysis.html"><i class="fa fa-check"></i><b>7</b> Основы статистики в R</a></li>
<li class="chapter" data-level="8" data-path="circular.html"><a href="circular.html"><i class="fa fa-check"></i><b>8</b> Статистика направлений и времени</a><ul>
<li class="chapter" data-level="8.1" data-path="circular.html"><a href="circular.html#circular-intro"><i class="fa fa-check"></i><b>8.1</b> Введение</a></li>
<li class="chapter" data-level="8.2" data-path="circular.html"><a href="circular.html#circular-stats"><i class="fa fa-check"></i><b>8.2</b> Вычисление статистических моментов</a></li>
<li class="chapter" data-level="8.3" data-path="circular.html"><a href="circular.html#circular-modes"><i class="fa fa-check"></i><b>8.3</b> Определение модальных направлений</a></li>
<li class="chapter" data-level="8.4" data-path="circular.html"><a href="circular.html#circular-stats-vis"><i class="fa fa-check"></i><b>8.4</b> Визуализация круговой статистики</a></li>
</ul></li>
<li class="part"><span><b>III Пространственные данные в R</b></span></li>
<li class="chapter" data-level="9" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i><b>9</b> Пространственные данные в R</a><ul>
<li class="chapter" data-level="9.1" data-path="spatial-data.html"><a href="spatial-data.html#spatial_models"><i class="fa fa-check"></i><b>9.1</b> Модели пространственных данных</a><ul>
<li class="chapter" data-level="9.1.1" data-path="spatial-data.html"><a href="spatial-data.html#simple_features"><i class="fa fa-check"></i><b>9.1.1</b> Векторные данные</a></li>
<li class="chapter" data-level="9.1.2" data-path="spatial-data.html"><a href="spatial-data.html#raster_data"><i class="fa fa-check"></i><b>9.1.2</b> Растровые данные</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="spatial-data.html"><a href="spatial-data.html#spatref"><i class="fa fa-check"></i><b>9.2</b> Пространственная привязка</a><ul>
<li class="chapter" data-level="9.2.1" data-path="spatial-data.html"><a href="spatial-data.html#spatref_components"><i class="fa fa-check"></i><b>9.2.1</b> Компоненты пространственной привязки</a></li>
<li class="chapter" data-level="9.2.2" data-path="spatial-data.html"><a href="spatial-data.html#spatref_formats"><i class="fa fa-check"></i><b>9.2.2</b> Форматы описания пространственной привязки</a></li>
<li class="chapter" data-level="9.2.3" data-path="spatial-data.html"><a href="spatial-data.html#spatref_transform"><i class="fa fa-check"></i><b>9.2.3</b> Преобразование координат</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="spatial-data.html"><a href="spatial-data.html#vector_data_r"><i class="fa fa-check"></i><b>9.3</b> Векторные данные</a><ul>
<li class="chapter" data-level="9.3.1" data-path="spatial-data.html"><a href="spatial-data.html#vector_data_packages"><i class="fa fa-check"></i><b>9.3.1</b> Базовые библиотеки</a></li>
<li class="chapter" data-level="9.3.2" data-path="spatial-data.html"><a href="spatial-data.html#vector_data_reading"><i class="fa fa-check"></i><b>9.3.2</b> Чтение</a></li>
<li class="chapter" data-level="9.3.3" data-path="spatial-data.html"><a href="spatial-data.html#sf_structure"><i class="fa fa-check"></i><b>9.3.3</b> Внутренняя структура</a></li>
<li class="chapter" data-level="9.3.4" data-path="spatial-data.html"><a href="spatial-data.html#sf_plotting"><i class="fa fa-check"></i><b>9.3.4</b> Визуализация</a></li>
<li class="chapter" data-level="9.3.5" data-path="spatial-data.html"><a href="spatial-data.html#sf_crs"><i class="fa fa-check"></i><b>9.3.5</b> Системы координат и проекции</a></li>
<li class="chapter" data-level="9.3.6" data-path="spatial-data.html"><a href="spatial-data.html#sf_attrs"><i class="fa fa-check"></i><b>9.3.6</b> Атрибутивные операции</a></li>
<li class="chapter" data-level="9.3.7" data-path="spatial-data.html"><a href="spatial-data.html#sf_spat_selection"><i class="fa fa-check"></i><b>9.3.7</b> Пространственные операции</a></li>
<li class="chapter" data-level="9.3.8" data-path="spatial-data.html"><a href="spatial-data.html#sf_creation"><i class="fa fa-check"></i><b>9.3.8</b> Создание пространственных объектов</a></li>
<li class="chapter" data-level="9.3.9" data-path="spatial-data.html"><a href="spatial-data.html#sf_geom_attrs"><i class="fa fa-check"></i><b>9.3.9</b> Геометрические атрибуты</a></li>
<li class="chapter" data-level="9.3.10" data-path="spatial-data.html"><a href="spatial-data.html#sf_export"><i class="fa fa-check"></i><b>9.3.10</b> Экспорт</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="spatial-data.html"><a href="spatial-data.html#raster_data_r"><i class="fa fa-check"></i><b>9.4</b> Растровые данные</a><ul>
<li class="chapter" data-level="9.4.1" data-path="spatial-data.html"><a href="spatial-data.html#raster_read"><i class="fa fa-check"></i><b>9.4.1</b> Чтение</a></li>
<li class="chapter" data-level="9.4.2" data-path="spatial-data.html"><a href="spatial-data.html#raster_viz"><i class="fa fa-check"></i><b>9.4.2</b> Визуализация</a></li>
<li class="chapter" data-level="9.4.3" data-path="spatial-data.html"><a href="spatial-data.html#raster_proj"><i class="fa fa-check"></i><b>9.4.3</b> Системы координат и проекции</a></li>
<li class="chapter" data-level="9.4.4" data-path="index.html"><a href="index.html#--"><i class="fa fa-check"></i><b>9.4.4</b> Операции со значениями</a></li>
<li class="chapter" data-level="9.4.5" data-path="spatial-data.html"><a href="spatial-data.html#section-9.4.5"><i class="fa fa-check"></i><b>9.4.5</b> Экспорт</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="thematic-mapping.html"><a href="thematic-mapping.html"><i class="fa fa-check"></i><b>10</b> Тематические карты в R</a><ul>
<li class="chapter" data-level="10.1" data-path="thematic-mapping.html"><a href="thematic-mapping.html#table_join"><i class="fa fa-check"></i><b>10.1</b> Соединение таблиц в R</a></li>
<li class="chapter" data-level="10.2" data-path="thematic-mapping.html"><a href="thematic-mapping.html#data_classify"><i class="fa fa-check"></i><b>10.2</b> Классификация данных</a></li>
<li class="chapter" data-level="10.3" data-path="thematic-mapping.html"><a href="thematic-mapping.html#lattice_maps"><i class="fa fa-check"></i><b>10.3</b> Серии карт lattice</a><ul>
<li class="chapter" data-level="10.3.1" data-path="thematic-mapping.html"><a href="thematic-mapping.html#lattice_choropleth"><i class="fa fa-check"></i><b>10.3.1</b> Картограммы</a></li>
<li class="chapter" data-level="10.3.2" data-path="thematic-mapping.html"><a href="thematic-mapping.html#lattice_diagrams"><i class="fa fa-check"></i><b>10.3.2</b> Картодиграммы</a></li>
<li class="chapter" data-level="10.3.3" data-path="thematic-mapping.html"><a href="thematic-mapping.html#lattice_legends"><i class="fa fa-check"></i><b>10.3.3</b> Легенда и компоновка</a></li>
<li class="chapter" data-level="10.3.4" data-path="thematic-mapping.html"><a href="thematic-mapping.html#lattice_basemap"><i class="fa fa-check"></i><b>10.3.4</b> Элементы картографической основы</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="thematic-mapping.html"><a href="thematic-mapping.html#raster_maps"><i class="fa fa-check"></i><b>10.4</b> Карты растров</a><ul>
<li class="chapter" data-level="10.4.1" data-path="thematic-mapping.html"><a href="thematic-mapping.html#raster_single_map"><i class="fa fa-check"></i><b>10.4.1</b> Одиночный растр</a></li>
<li class="chapter" data-level="10.4.2" data-path="thematic-mapping.html"><a href="thematic-mapping.html#multiple_raster_map"><i class="fa fa-check"></i><b>10.4.2</b> Серия растров</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="thematic-mapping.html"><a href="thematic-mapping.html#export_graphics"><i class="fa fa-check"></i><b>10.5</b> Экспорт изображения в графический файл</a><ul>
<li class="chapter" data-level="10.5.1" data-path="thematic-mapping.html"><a href="thematic-mapping.html#singlepage_png"><i class="fa fa-check"></i><b>10.5.1</b> Одностраничные файлы PNG</a></li>
<li class="chapter" data-level="10.5.2" data-path="thematic-mapping.html"><a href="thematic-mapping.html#multipage_pdf"><i class="fa fa-check"></i><b>10.5.2</b> Многостраничные файлы PDF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="vector-analysis.html"><a href="vector-analysis.html"><i class="fa fa-check"></i><b>11</b> Пространственный анализ 1. Векторные методы</a><ul>
<li class="chapter" data-level="11.1" data-path="vector-analysis.html"><a href="vector-analysis.html#spatial_queries"><i class="fa fa-check"></i><b>11.1</b> Пространственные запросы</a><ul>
<li class="chapter" data-level="11.1.1" data-path="vector-analysis.html"><a href="vector-analysis.html#context_objects"><i class="fa fa-check"></i><b>11.1.1</b> Контекстные и целевые объекты</a></li>
<li class="chapter" data-level="11.1.2" data-path="vector-analysis.html"><a href="vector-analysis.html#zones"><i class="fa fa-check"></i><b>11.1.2</b> Зоны окружения объектов</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="vector-analysis.html"><a href="vector-analysis.html#use_case"><i class="fa fa-check"></i><b>11.2</b> Постановка задач и изучение данных</a></li>
<li class="chapter" data-level="11.3" data-path="vector-analysis.html"><a href="vector-analysis.html#distance_analysis"><i class="fa fa-check"></i><b>11.3</b> Анализ расстояний</a></li>
<li class="chapter" data-level="11.4" data-path="vector-analysis.html"><a href="vector-analysis.html#topology_analysis"><i class="fa fa-check"></i><b>11.4</b> Анализ взаимного положения (топологический)</a></li>
<li class="chapter" data-level="11.5" data-path="vector-analysis.html"><a href="vector-analysis.html#absolute_zones"><i class="fa fa-check"></i><b>11.5</b> Анализ абсолютных зон окружения</a></li>
<li class="chapter" data-level="11.6" data-path="vector-analysis.html"><a href="vector-analysis.html#conc_zones"><i class="fa fa-check"></i><b>11.6</b> Анализ конкурентных зон окружения</a></li>
<li class="chapter" data-level="11.7" data-path="vector-analysis.html"><a href="vector-analysis.html#transport_zones"><i class="fa fa-check"></i><b>11.7</b> Анализ зон транспортной доступности</a></li>
<li class="chapter" data-level="11.8" data-path="vector-analysis.html"><a href="vector-analysis.html#routes"><i class="fa fa-check"></i><b>11.8</b> Построение маршрутов и матриц времени движения</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="raster-analysis.html"><a href="raster-analysis.html"><i class="fa fa-check"></i><b>12</b> Пространственный анализ 2. Растровые методы</a><ul>
<li class="chapter" data-level="12.1" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_intro"><i class="fa fa-check"></i><b>12.1</b> Введение</a></li>
<li class="chapter" data-level="12.2" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_local"><i class="fa fa-check"></i><b>12.2</b> Локальные операции</a></li>
<li class="chapter" data-level="12.3" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_focal"><i class="fa fa-check"></i><b>12.3</b> Фокальные операции</a><ul>
<li class="chapter" data-level="12.3.1" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_focal_fixed"><i class="fa fa-check"></i><b>12.3.1</b> Фиксированная окрестность</a></li>
<li class="chapter" data-level="12.3.2" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_focal_extended"><i class="fa fa-check"></i><b>12.3.2</b> Расширенная окрестность</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_zonal"><i class="fa fa-check"></i><b>12.4</b> Зональные операции</a></li>
<li class="chapter" data-level="12.5" data-path="raster-analysis.html"><a href="raster-analysis.html#raster_global"><i class="fa fa-check"></i><b>12.5</b> Глобальные операции</a></li>
</ul></li>
<li class="part"><span><b>IV Пространственная статистика</b></span></li>
<li class="chapter" data-level="13" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html"><i class="fa fa-check"></i><b>13</b> Детерминистическая интерполяция</a><ul>
<li class="chapter" data-level="13.1" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_intro"><i class="fa fa-check"></i><b>13.1</b> Введение</a></li>
<li class="chapter" data-level="13.2" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_grid"><i class="fa fa-check"></i><b>13.2</b> Построение сетки</a></li>
<li class="chapter" data-level="13.3" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_methods"><i class="fa fa-check"></i><b>13.3</b> Интерполяционные методы</a><ul>
<li class="chapter" data-level="13.3.1" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_nn"><i class="fa fa-check"></i><b>13.3.1</b> Метод ближайшего соседа (nearest neighbour)</a></li>
<li class="chapter" data-level="13.3.2" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_tin"><i class="fa fa-check"></i><b>13.3.2</b> Интерполяция на основе триангуляции</a></li>
<li class="chapter" data-level="13.3.3" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_idw"><i class="fa fa-check"></i><b>13.3.3</b> Метод обратно взвешенных расстояний (IDW)</a></li>
<li class="chapter" data-level="13.3.4" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_rbf"><i class="fa fa-check"></i><b>13.3.4</b> Метод радиальных базисных функций (РБФ)</a></li>
<li class="chapter" data-level="13.3.5" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#interpolation_bspline"><i class="fa fa-check"></i><b>13.3.5</b> Метод иерархических базисных сплайнов (B-сплайнов)</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#approximation_methods"><i class="fa fa-check"></i><b>13.4</b> Аппроксимационные методы</a><ul>
<li class="chapter" data-level="13.4.1" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#approximation_global"><i class="fa fa-check"></i><b>13.4.1</b> Глобальный тренд</a></li>
<li class="chapter" data-level="13.4.2" data-path="interpolation-deterministic.html"><a href="interpolation-deterministic.html#approximation_local"><i class="fa fa-check"></i><b>13.4.2</b> Локальный тренд</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="kriging.html"><a href="kriging.html"><i class="fa fa-check"></i><b>14</b> Геостатистическая интерполяция</a></li>
<li class="chapter" data-level="15" data-path="autocorrelation.html"><a href="autocorrelation.html"><i class="fa fa-check"></i><b>15</b> Пространственная автокорреляция</a><ul>
<li class="chapter" data-level="15.1" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_intro"><i class="fa fa-check"></i><b>15.1</b> Введение</a></li>
<li class="chapter" data-level="15.2" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_neighbors"><i class="fa fa-check"></i><b>15.2</b> Пространственное соседство</a><ul>
<li class="chapter" data-level="15.2.1" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_neighbors_contguity"><i class="fa fa-check"></i><b>15.2.1</b> Соседи по смежности</a></li>
<li class="chapter" data-level="15.2.2" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_neighbors_graph"><i class="fa fa-check"></i><b>15.2.2</b> Соседи по графу</a></li>
<li class="chapter" data-level="15.2.3" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_neighbors_metrics"><i class="fa fa-check"></i><b>15.2.3</b> Соседи по метрике</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_weights"><i class="fa fa-check"></i><b>15.3</b> Пространственные веса</a></li>
<li class="chapter" data-level="15.4" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_measures"><i class="fa fa-check"></i><b>15.4</b> Пространственная автокорреляция</a><ul>
<li class="chapter" data-level="15.4.1" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_moran"><i class="fa fa-check"></i><b>15.4.1</b> Индекс Морана (Moran’s I)</a></li>
<li class="chapter" data-level="15.4.2" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_permutation"><i class="fa fa-check"></i><b>15.4.2</b> Перестановочный тест Морана</a></li>
<li class="chapter" data-level="15.4.3" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_moranscatter"><i class="fa fa-check"></i><b>15.4.3</b> Диаграмма рассеяния Морана</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_autoregression"><i class="fa fa-check"></i><b>15.5</b> Пространственная авторегрессия</a></li>
<li class="chapter" data-level="15.6" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_lisa"><i class="fa fa-check"></i><b>15.6</b> Локальные показатели пространственной ассоциации (LISA)</a></li>
<li class="chapter" data-level="15.7" data-path="autocorrelation.html"><a href="autocorrelation.html#autocorrelation_gwr"><i class="fa fa-check"></i><b>15.7</b> Географически взвешенная реграссия (GWR)</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="point-patterns.html"><a href="point-patterns.html"><i class="fa fa-check"></i><b>16</b> Анализ точечных процессов</a></li>
<li class="appendix"><span><b>Решение проблем</b></span></li>
<li class="chapter" data-level="A" data-path="package-troubles.html"><a href="package-troubles.html"><i class="fa fa-check"></i><b>A</b> Установка пакетов</a><ul>
<li class="chapter" data-level="A.1" data-path="package-troubles.html"><a href="package-troubles.html#package-troubles-standard"><i class="fa fa-check"></i><b>A.1</b> Недоступен стандартный каталог</a></li>
<li class="chapter" data-level="A.2" data-path="package-troubles.html"><a href="package-troubles.html#package-troubles-copy"><i class="fa fa-check"></i><b>A.2</b> Устанавливается, но не копируется</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://istina.msu.ru/profile/tsamsonov/" target="blank">Тимофей Самсонов</a></li>
<li><a href="https://doi.org/10.5281/zenodo.901911"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.901911.svg" title="DOI"></a><li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Визуализация и анализ географических данных на языке R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tech" class="section level1">
<h1><span class="header-section-number">Глава 4</span> Техники программирования</h1>
<p>В настоящей главе мы кратко познакомимся с функциональным программированием и метапрограммированием, которые являются одними из основных техник программирования на R.</p>
<div id="tech-fun" class="section level2">
<h2><span class="header-section-number">4.1</span> Функциональное программирование</h2>
<div id="tech-fun-functions" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Функции</h3>
<p>Функции в R можно использовать для структурирования кода на логически завершенные, автономные фрагменты кода, каждый из которых выполняет конкретную задачу. Синтаксис функции выглядит следующим образом:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">functionName =<span class="st"> </span><span class="cf">function</span>(parameter1, parameter2, ...){
  ...
  <span class="kw">return</span>(result)
  ...
  last_value =<span class="st"> </span>...
}</code></pre></div>
<p>Функция создается c помощью ключевого слова <code>function</code>, за которым в круглых скобках заключается произвольное количество параметров (столько, сколько вам нужно: от нуля и более). С помощью этих параметров вы сможете передавать внутрь функции значения переменных. Созданной функции необходимо дать имя, используя оператор присвоения <code>&lt;-</code> или <code>=</code>.</p>
<p>Возврат значения функции осуществляется двумя способами:</p>
<ul>
<li>Если не указано иное, то будет возвращен результат вычисления последнего выражения, выполненного внутри функции (<code>last_value</code> в примере выше)</li>
<li>Результат можно вернуть принудительно в любом месте функции, передав его в выражение <code>return()</code>.</li>
</ul>
<blockquote>
<p>Выражение <code>return()</code> работает аналогично ключевому слову <code>break</code> в циклах: оно прерывает выполнение функции и осуществляет выход из нее. Как правило, return() используется, если возврат значения надо сделать где-то посередине или в начале функции. Однако я реккомендую использовать его всегда, поскольку это помогает читателю вашей функции быстро определить, что же именно возвращается из функции</p>
</blockquote>
<p>Как правило, функции оказываются полезны, если:</p>
<ul>
<li>Вы дублируете один и тот же код в разных частях программы</li>
<li>Ваш код становится слишком длинным, при этом присутствует очевидная этапность решения задачи, позволяющая разбить программу на автономные блоки</li>
<li>У вас есть фрагмент кода, который выполняет вспомогательную (второстепенную функцию), и не относится непосредственно к основной логике программы.</li>
</ul>
<p>Предположим, у нас есть линия, заданная координатами четырех точек, и нам надо вычислить длины каждого из трех отрезков. Без использования функции мы запишем это так:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">4</span>)
y =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">4</span>)
d12 =<span class="st"> </span><span class="kw">sqrt</span>((x[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>x[<span class="dv">2</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(y[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>y[<span class="dv">2</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
d23 =<span class="st"> </span><span class="kw">sqrt</span>((x[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(y[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>y[<span class="dv">3</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
d31 =<span class="st"> </span><span class="kw">sqrt</span>((x[<span class="dv">3</span>] <span class="op">-</span><span class="st"> </span>x[<span class="dv">4</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(y[<span class="dv">3</span>] <span class="op">-</span><span class="st"> </span>y[<span class="dv">4</span>]) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
<span class="kw">cat</span>(d12, d23, d31)</code></pre></div>
<pre><code>## 3.08763 0.9085829 1.316126</code></pre>
<p>В правой части этих выражений стоит один и тот же код, который я скопировал и вставил, а далее заменил названия переменных. Это плохо сразу по двум причинам: дублирование фрагментов программы и возрастание вероятности опечаток в скопированой копии. Улучшить код можно, введя функцию вычисления расстояний:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">distance =<span class="st"> </span><span class="cf">function</span>(x1, y1, x2, y2) {
  <span class="kw">sqrt</span>((x1 <span class="op">-</span><span class="st"> </span>x2) <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(y1 <span class="op">-</span><span class="st"> </span>y2) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
}

d12 =<span class="st"> </span><span class="kw">distance</span>(x[<span class="dv">1</span>], y[<span class="dv">1</span>], x[<span class="dv">2</span>], y[<span class="dv">2</span>])
d23 =<span class="st"> </span><span class="kw">distance</span>(x[<span class="dv">2</span>], y[<span class="dv">2</span>], x[<span class="dv">3</span>], y[<span class="dv">3</span>])
d31 =<span class="st"> </span><span class="kw">distance</span>(x[<span class="dv">3</span>], y[<span class="dv">3</span>], x[<span class="dv">4</span>], y[<span class="dv">4</span>])
<span class="kw">cat</span>(d12, d23, d31)</code></pre></div>
<pre><code>## 3.08763 0.9085829 1.316126</code></pre>
<p>Функция всегда возвращает один объект: значение, вектор, список и т.д. Например, мы можем сделать функцию следующего уровня, рассчитывающая сразу все расстояния для множества точек:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">distances =<span class="st"> </span><span class="cf">function</span>(x, y) {
  n =<span class="st"> </span><span class="kw">length</span>(x)
  <span class="kw">distance</span>(x[<span class="dv">1</span><span class="op">:</span>(n<span class="op">-</span><span class="dv">1</span>)], y[<span class="dv">1</span><span class="op">:</span>(n<span class="op">-</span><span class="dv">1</span>)], x[<span class="dv">2</span><span class="op">:</span>n], y[<span class="dv">2</span><span class="op">:</span>n])
}

<span class="kw">distances</span>(x, y)</code></pre></div>
<pre><code>## [1] 3.0876301 0.9085829 1.3161261</code></pre>
<p>Можно пойти еще дальше, и сделать функцию, выполняющую вычисление длины линии, заданной координатами:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">line_length =<span class="st"> </span><span class="cf">function</span>(x, y) {
  <span class="kw">sum</span>(<span class="kw">distances</span>(x, y))
}

<span class="kw">line_length</span>(x, y)</code></pre></div>
<pre><code>## [1] 5.312339</code></pre>
<p>Обратите внимание на то, как мы используем одну ранее написанную функцию при создании другой функции! Это весьма распространенная практика: одна и та же функция может быть как самостоятельно полезной (вызываться непосредственно в программе полтьзователя), так и применяться для решения задач внутри других функций. При этом иногда даже относительно простые фрагменты кода имеет смысл оформлять в виде функций, так как это может улучшить читаемость программы и пояснить смысл выполняемых операций. Так, например, <code>line_length(x, y)</code> в более явном виде обозначает операцию вычисления длины по координатам, нежели <code>sum(distances(x, y))</code>. В то же время, здесь важно не переусердствовать и оформлять короткие фрагменты кода в виде функций только если они будут применяться вами неоднократно.</p>
<p>Если вам нужно вернуть из функции несколько объектов, имеющих разный тип или смысл, заключите их в список и дайте каждому элементу списка “говорящее” имя. Например, помимо периметра, мы можем вернуть также извилистость линии (отношение длины линии к длине отрезка, соединяющего ее первую и последнюю точку):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">line_params =<span class="st"> </span><span class="cf">function</span>(x, y) {
  n =<span class="st"> </span><span class="kw">length</span>(x)
  
  l =<span class="st"> </span><span class="kw">line_length</span>(x, y)
  s =<span class="st"> </span>l <span class="op">/</span><span class="st"> </span><span class="kw">distance</span>(x[<span class="dv">1</span>], y[<span class="dv">1</span>], x[n], y[n]) 
  
  <span class="kw">list</span>(<span class="dt">length =</span> l, <span class="dt">sinuosity =</span> s)
}

result =<span class="st"> </span><span class="kw">line_params</span>(x, y)
result<span class="op">$</span>length</code></pre></div>
<pre><code>## [1] 5.312339</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result<span class="op">$</span>sinuosity</code></pre></div>
<pre><code>## [1] 3.58577</code></pre>
</div>
<div id="tech-fun-functionals" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Функционалы</h3>
<p>Данные (в том числе географические) практически всегда носят множественный характер и организованы в определенные структуры (см. главу 2). Эта особенность данных выдвигает логичное желание иметь процедуры, которые можно применять к полному набору данных, а не к его отдельным компонентам. Это и есть процедуры векторизованных вычислений.</p>
<p>Предположим, вам необходимо что-то вычислить для каждой строки таблицы, при этом порядок вычисления зависит от содержимого ячеек данной строки. Вы можете организовать подобные вычисления с помощью циклов, однако в <strong>R</strong> существуют специальные функции семейста <code>apply</code>, которые позволяют решать подобные задачи более элегантно и с высокой скоростью:</p>
<table>
<colgroup>
<col width="17%" />
<col width="82%" />
</colgroup>
<thead>
<tr class="header">
<th>Функция</th>
<th>Назначение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>apply()</code></td>
<td>применить функцию ко всем строкам или столбцам матрицы</td>
</tr>
<tr class="even">
<td><code>lapply()</code></td>
<td>применить функцию к каждому компоненту вектора или списка и получить результат также в виде списка (<em>l — list</em>)</td>
</tr>
<tr class="odd">
<td><code>sapply()</code></td>
<td>применить функцию к каждому компоненту вектора или списка и получить результат в виде вектора (<em>s — simplify</em>)</td>
</tr>
<tr class="even">
<td><code>vapply()</code></td>
<td>аналогична vapply, но требует явного задания типа данных возвращаемого вектора, за счет чего работает быстрее (<em>v — velocity</em>)</td>
</tr>
<tr class="odd">
<td><code>mapply()</code></td>
<td>применить функцию к каждому компоненту нескольких векторов или списков и вернуть результат в виде списка (<em>m — multivariate</em>)</td>
</tr>
<tr class="even">
<td><code>rapply()</code></td>
<td>применить функцию рекурсивно ко всем элементам переданного списка и вернуть результат в аналогичной структур (<em>r — recursive</em>)</td>
</tr>
<tr class="odd">
<td><code>tapply()</code></td>
<td>применить функцию ко всем компонентам вектора или списка, сгруппировав их по значению переданного фактора</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Функции семейства <code>apply</code>, принимающие на вход списки, могут работать и с фреймами данных. В этом случае фрейм внутри функции будет преобразован с помощью функции <code>as.list()</code> в список, элементами которого являются столбцы (переменные) входного фрейма данных. Данные при этом не потеряются, их типы тоже не изменятся.</p>
</blockquote>
<p>Базовая функция <code>apply()</code> имеет следующие аргументы:</p>
<ul>
<li><code>X</code> — массив любой размерности (включая вектор)</li>
<li><code>MARGIN</code> — измерения по которым необходимо вести вычисления. Для матрицы <code>1</code> означает строку, <code>2</code> означает столбец, <code>c(1, 2)</code> будет означать, что вычисления производятся по всем комбинациям строк и столбцов</li>
<li><code>FUN</code> — функция, которая будет применяться к каждому элементу указанных измерений</li>
<li><code>...</code> — список аргументов, которые надо передать в функцию <code>FUN</code> (в этом случае массив должен передаваться обязательно в первый аргумент)</li>
</ul>
<p>Другие функции семейства <code>apply</code> в приложении к фреймам данных будут работать со столбцами (переменными), интерпретируя их как элементы списка. Наиболее часто из них используются <code>lapply()</code>, <code>sapply()</code> и <code>vapply()</code>. В отличие от <code>apply()</code>, они уже не принимаеют номера измерений и работают только с элементами переданного списка.</p>
<p>Рассмотрим применение функций данного семейства на примере анализа основных социально-экономических характеристик столиц субъектов Северо-Западного округа за 2015 год:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Функционалы</span>
<span class="kw">library</span>(tidyverse)
## ── Attaching packages ────────────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──
## ✔ ggplot2 3.0.0     ✔ purrr   0.2.5
## ✔ tibble  1.4.2     ✔ dplyr   0.7.6
## ✔ tidyr   0.8.1     ✔ stringr 1.3.1
## ✔ readr   1.1.1     ✔ forcats 0.3.0
## ── Conflicts ───────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
<span class="kw">library</span>(readxl)

(<span class="dt">df =</span> <span class="kw">read_excel</span>(<span class="st">&quot;sevzap.xlsx&quot;</span>, <span class="dt">col_types =</span> <span class="kw">c</span>(<span class="st">&#39;text&#39;</span>, <span class="kw">rep</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dv">17</span>))))
## Warning in read_fun(path = path, sheet_i = sheet, limits = limits, shim =
## shim, : Expecting numeric in L6 / R6C12: got &#39;…&#39;
## Warning in read_fun(path = path, sheet_i = sheet, limits = limits, shim =
## shim, : Expecting numeric in L8 / R8C12: got &#39;…&#39;
## Warning in read_fun(path = path, sheet_i = sheet, limits = limits, shim =
## shim, : Expecting numeric in L9 / R9C12: got &#39;…&#39;
## Warning in read_fun(path = path, sheet_i = sheet, limits = limits, shim =
## shim, : Expecting numeric in L10 / R10C12: got &#39;…&#39;
## # A tibble: 10 x 18
##    city     pop birth death  labor salary livspace doctors  hosp assets
##    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 Петр…  277.   13    12.3   72.3 36268.     24.4    75      17 2.47e5
##  2 Сыкт…  259.   14.5  10.4   84.1 39790      22.8    79.5    17 2.17e5
##  3 Арха…  358.   11.8  11.6   97.9 40303.     22.7    82.3    19 2.79e5
##  4 Нарь…   24.5  18.1   7.6   12.7 69884.     23.6    65.2     2 1.05e5
##  5 Воло…  313.   16.2  11.4   91   31483      24.7    60.9    18 8.27e5
##  6 Кали…  460.   13.3  13.4  126.  34142      27.7    69.8    25 3.27e5
##  7 Мурм…  302.   12.4  11.9   96.9 53240.     23.8    68.8    15 7.24e5
##  8 Вели…  222.   13.8  13.8   74.1 32377.     24.1    78.9    14 1.59e5
##  9 Псков  208.   13.2  13.7   59.6 27405.     25      59      13 1.31e5
## 10 Санк… 5226.   13.6  11.9 2055.  44187      23.6    73.8   112 4.10e6
## # ... with 8 more variables: business &lt;dbl&gt;, minerals &lt;dbl&gt;,
## #   manufact &lt;dbl&gt;, engaswat &lt;dbl&gt;, construct &lt;dbl&gt;, apart &lt;dbl&gt;,
## #   retail &lt;dbl&gt;, invest &lt;dbl&gt;</code></pre></div>
<p>В данной таблице каждый столбец представляет независимую переменную со своими единицами измерения, поэтому ее необходимо оставить в “широкой” форме, не преобразуя в длинную. Используя <code>apply</code>, можно быстро получить максимальные значения каждой переменной:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(df[<span class="op">-</span><span class="dv">1</span>], <span class="dv">2</span>, max)</code></pre></div>
<pre><code>##       pop     birth     death     labor    salary  livspace   doctors 
##    5225.7      18.1      13.8    2055.3   69883.5      27.7      82.3 
##      hosp    assets  business  minerals  manufact  engaswat construct 
##     112.0 4102243.8  374999.0        NA 1978634.0  173292.0  397229.0 
##     apart    retail    invest 
##    3031.0 1144607.0  521293.0</code></pre>
<p>Что равносильно вызову sapply:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sapply</span>(df[<span class="op">-</span><span class="dv">1</span>], max)</code></pre></div>
<pre><code>##       pop     birth     death     labor    salary  livspace   doctors 
##    5225.7      18.1      13.8    2055.3   69883.5      27.7      82.3 
##      hosp    assets  business  minerals  manufact  engaswat construct 
##     112.0 4102243.8  374999.0        NA 1978634.0  173292.0  397229.0 
##     apart    retail    invest 
##    3031.0 1144607.0  521293.0</code></pre>
<p>В качестве функции можно использовать не только стандартные, но и пользовательские функции. Например, нам может быть интересно не максимальное значение показателя, а его отношение к среднему значению среди всех городов. Здесь уже одной функцией не обойдешься, так как нужно каждый столбец поделить на среднее значение по нему. Для этого определим небольшую пользовательскую функцию непосредственно при вызове <code>sapply()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dt">normalized =</span> <span class="kw">sapply</span>(df[<span class="op">-</span><span class="dv">1</span>], <span class="cf">function</span>(X) { <span class="kw">round</span>(X <span class="op">/</span><span class="st"> </span><span class="kw">mean</span>(X, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dv">2</span>) }))</code></pre></div>
<pre><code>##        pop birth death labor salary livspace doctors hosp assets business
##  [1,] 0.36  0.93  1.04  0.26   0.89     1.01    1.05 0.67   0.35     0.31
##  [2,] 0.34  1.04  0.88  0.30   0.97     0.94    1.11 0.67   0.30     0.20
##  [3,] 0.47  0.84  0.98  0.35   0.99     0.94    1.15 0.75   0.39     0.26
##  [4,] 0.03  1.29  0.64  0.05   1.71     0.97    0.91 0.08   0.15     0.01
##  [5,] 0.41  1.16  0.97  0.33   0.77     1.02    0.85 0.71   1.16     0.43
##  [6,] 0.60  0.95  1.14  0.46   0.83     1.14    0.98 0.99   0.46     0.75
##  [7,] 0.39  0.89  1.01  0.35   1.30     0.98    0.96 0.60   1.02     0.32
##  [8,] 0.29  0.99  1.17  0.27   0.79     0.99    1.11 0.56   0.22     0.19
##  [9,] 0.27  0.94  1.16  0.22   0.67     1.03    0.83 0.52   0.18     0.17
## [10,] 6.83  0.97  1.01  7.42   1.08     0.97    1.03 4.44   5.76     7.37
##       minerals manufact engaswat construct apart retail invest
##  [1,]     0.06     0.05     0.52      0.13  0.45   0.23   0.11
##  [2,]     0.00     0.28     0.43      0.09  0.31   0.21   0.14
##  [3,]     0.00     0.06     0.49      0.09  0.17   0.17   0.15
##  [4,]     4.12     0.05     0.03      0.08  0.05   0.02   0.52
##  [5,]       NA     0.15     0.63      0.09  0.52   0.23   0.13
##  [6,]     0.82     0.83     0.68      0.28  1.24   0.38   0.53
##  [7,]       NA     0.23     0.42      0.07  0.02   0.29   0.75
##  [8,]       NA     0.42     0.45      0.08  0.32   0.17   0.30
##  [9,]       NA     0.08     0.22      0.04  0.27   0.17   0.10
## [10,]     1.00     7.87     6.13      9.05  6.65   8.13   7.28</code></pre>
<p>Полученный объект является матрицей. Таким образом, можно видеть, что функционалы бывают полезны не только для агрегирования таблиц, но и для преобразования данных, когда структура таблицы остается прежней.</p>
<p>В приведенном выше коде мы сознательно исключили первый столбец, поскольку он является текстовым. Можно сделать более мощную и универсальную функцию, которая будет нормировать все числовые столбцы таблицы, а текстовые оставлять в оригинале. Для этого проверку типа данных надо внести внутрь функции. Поскольку код функции при этом вырастает, целесообразно определить ее заранее. Поскольку в этом случае часть векторов будет символьной, а не числовой, необходимо применять функцию <code>lapply()</code>, которая вернет список из векторов, а не матрицу и таким образом сохранит типы каждого столбца:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">normalize =<span class="st"> </span><span class="cf">function</span>(X) {
  <span class="cf">if</span> (<span class="kw">is.numeric</span>(X)) 
    <span class="kw">round</span>(X <span class="op">/</span><span class="st"> </span><span class="kw">mean</span>(X, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dv">2</span>) 
  <span class="cf">else</span> X
}

(<span class="dt">normalized_df =</span> df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">lapply</span>(normalize) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>())</code></pre></div>
<pre><code>## # A tibble: 10 x 18
##    city    pop birth death labor salary livspace doctors  hosp assets
##    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 Петр… 0.36   0.93  1.04  0.26   0.89     1.01    1.05  0.67   0.35
##  2 Сыкт… 0.34   1.04  0.88  0.3    0.97     0.94    1.11  0.67   0.3 
##  3 Арха… 0.47   0.84  0.98  0.35   0.99     0.94    1.15  0.75   0.39
##  4 Нарь… 0.03   1.29  0.64  0.05   1.71     0.97    0.91  0.08   0.15
##  5 Воло… 0.41   1.16  0.97  0.33   0.77     1.02    0.85  0.71   1.16
##  6 Кали… 0.6    0.95  1.14  0.46   0.83     1.14    0.98  0.99   0.46
##  7 Мурм… 0.39   0.89  1.01  0.35   1.3      0.98    0.96  0.6    1.02
##  8 Вели… 0.290  0.99  1.17  0.27   0.79     0.99    1.11  0.56   0.22
##  9 Псков 0.27   0.94  1.16  0.22   0.67     1.03    0.83  0.52   0.18
## 10 Санк… 6.83   0.97  1.01  7.42   1.08     0.97    1.03  4.44   5.76
## # ... with 8 more variables: business &lt;dbl&gt;, minerals &lt;dbl&gt;,
## #   manufact &lt;dbl&gt;, engaswat &lt;dbl&gt;, construct &lt;dbl&gt;, apart &lt;dbl&gt;,
## #   retail &lt;dbl&gt;, invest &lt;dbl&gt;</code></pre>
<p>В качестве альтернативы функциям <code>apply</code> можно также воспользоваться вычислениями посредством функций семейства <code>map</code> из пакета <code>purrr</code> (еще один пакет из <a href="https://www.tidyverse.org/packages/">tidyverse</a>). Эти функции работают аналогично <code>sapply()</code>:</p>
<ul>
<li><code>map()</code> возвращает список.</li>
<li><code>map_lgl()</code> возвращает вектор логических значений.</li>
<li><code>map_int()</code> возвращает вектор целочисленных значений.</li>
<li><code>map_dbl()</code> возвращает вектор чисел с плавающей точкой.</li>
<li><code>map_chr()</code> возвращает вектор строк.</li>
</ul>
<p>Например, вышеприведенные операции можно осуществить средствами <strong>purrr</strong> вот так:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map_dbl</span>(df[<span class="op">-</span><span class="dv">1</span>], max)</code></pre></div>
<pre><code>##       pop     birth     death     labor    salary  livspace   doctors 
##    5225.7      18.1      13.8    2055.3   69883.5      27.7      82.3 
##      hosp    assets  business  minerals  manufact  engaswat construct 
##     112.0 4102243.8  374999.0        NA 1978634.0  173292.0  397229.0 
##     apart    retail    invest 
##    3031.0 1144607.0  521293.0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(normalize) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()</code></pre></div>
<pre><code>## # A tibble: 10 x 18
##    city    pop birth death labor salary livspace doctors  hosp assets
##    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 Петр… 0.36   0.93  1.04  0.26   0.89     1.01    1.05  0.67   0.35
##  2 Сыкт… 0.34   1.04  0.88  0.3    0.97     0.94    1.11  0.67   0.3 
##  3 Арха… 0.47   0.84  0.98  0.35   0.99     0.94    1.15  0.75   0.39
##  4 Нарь… 0.03   1.29  0.64  0.05   1.71     0.97    0.91  0.08   0.15
##  5 Воло… 0.41   1.16  0.97  0.33   0.77     1.02    0.85  0.71   1.16
##  6 Кали… 0.6    0.95  1.14  0.46   0.83     1.14    0.98  0.99   0.46
##  7 Мурм… 0.39   0.89  1.01  0.35   1.3      0.98    0.96  0.6    1.02
##  8 Вели… 0.290  0.99  1.17  0.27   0.79     0.99    1.11  0.56   0.22
##  9 Псков 0.27   0.94  1.16  0.22   0.67     1.03    0.83  0.52   0.18
## 10 Санк… 6.83   0.97  1.01  7.42   1.08     0.97    1.03  4.44   5.76
## # ... with 8 more variables: business &lt;dbl&gt;, minerals &lt;dbl&gt;,
## #   manufact &lt;dbl&gt;, engaswat &lt;dbl&gt;, construct &lt;dbl&gt;, apart &lt;dbl&gt;,
## #   retail &lt;dbl&gt;, invest &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="tech-meta" class="section level2">
<h2><span class="header-section-number">4.2</span> Метапрограммирование</h2>
</div>
<div id="tech_review" class="section level2">
<h2><span class="header-section-number">4.3</span> Краткий обзор</h2>
</div>
<div id="tech_questions" class="section level2">
<h2><span class="header-section-number">4.4</span> Контрольные вопросы и упражнения</h2>
<div id="tech_questions_questions" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Вопросы</h3>
</div>
<div id="tech_questions_tasks" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Упражнения</h3>
<table>
<tbody>
<tr class="odd">
<td><em>Самсонов Т.Е.</em> <strong>Визуализация и анализ географических данных на языке R.</strong> М.: Географический факультет МГУ, 2017. DOI: 10.5281/zenodo.901911</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["r-geo-course.epub"],
"toc": {
"collapse": "section",
"edit": "https://github.com/tsamsonov/r-geo-course/edit/master/%s"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
